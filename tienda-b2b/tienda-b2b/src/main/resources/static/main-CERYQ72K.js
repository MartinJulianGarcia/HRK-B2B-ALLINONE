var iv=Object.defineProperty,ov=Object.defineProperties;var rv=Object.getOwnPropertyDescriptors;var Gu=Object.getOwnPropertySymbols;var sv=Object.prototype.hasOwnProperty,av=Object.prototype.propertyIsEnumerable;var Wu=(t,n,e)=>n in t?iv(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,O=(t,n)=>{for(var e in n||={})sv.call(n,e)&&Wu(t,e,n[e]);if(Gu)for(var e of Gu(n))av.call(n,e)&&Wu(t,e,n[e]);return t},Q=(t,n)=>ov(t,rv(n));var Rr=(t,n,e)=>new Promise((i,o)=>{var r=d=>{try{a(e.next(d))}catch(f){o(f)}},s=d=>{try{a(e.throw(d))}catch(f){o(f)}},a=d=>d.done?i(d.value):Promise.resolve(d.value).then(r,s);a((e=e.apply(t,n)).next())});function qu(t,n){return Object.is(t,n)}var ze=null,Ar=!1,Nr=1,mn=Symbol("SIGNAL");function re(t){let n=ze;return ze=t,n}function Yu(){return ze}var So={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gc(t){if(Ar)throw new Error("");if(ze===null)return;ze.consumerOnSignalRead(t);let n=ze.nextProducerIndex++;if(jr(ze),n<ze.producerNode.length&&ze.producerNode[n]!==t&&Po(ze)){let e=ze.producerNode[n];Lr(e,ze.producerIndexOfThis[n])}ze.producerNode[n]!==t&&(ze.producerNode[n]=t,ze.producerIndexOfThis[n]=Po(ze)?Ju(t,ze,n):0),ze.producerLastReadVersion[n]=t.version}function cv(){Nr++}function Zu(t){if(!(Po(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Nr)){if(!t.producerMustRecompute(t)&&!vc(t)){t.dirty=!1,t.lastCleanEpoch=Nr;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Nr}}function Ku(t){if(t.liveConsumerNode===void 0)return;let n=Ar;Ar=!0;try{for(let e of t.liveConsumerNode)e.dirty||lv(e)}finally{Ar=n}}function Qu(){return ze?.consumerAllowSignalWrites!==!1}function lv(t){t.dirty=!0,Ku(t),t.consumerMarkedDirty?.(t)}function Vr(t){return t&&(t.nextProducerIndex=0),re(t)}function mc(t,n){if(re(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Po(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Lr(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function vc(t){jr(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(Zu(e),i!==e.version))return!0}return!1}function _c(t){if(jr(t),Po(t))for(let n=0;n<t.producerNode.length;n++)Lr(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ju(t,n,e){if(Xu(t),t.liveConsumerNode.length===0&&ep(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=Ju(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Lr(t,n){if(Xu(t),t.liveConsumerNode.length===1&&ep(t))for(let i=0;i<t.producerNode.length;i++)Lr(t.producerNode[i],t.producerIndexOfThis[i]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[n],o=t.liveConsumerNode[n];jr(o),o.producerIndexOfThis[i]=n}}function Po(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function jr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Xu(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ep(t){return t.producerNode!==void 0}function tp(t){let n=Object.create(dv);n.computation=t;let e=()=>{if(Zu(n),gc(n),n.value===Fr)throw n.error;return n.value};return e[mn]=n,e}var fc=Symbol("UNSET"),hc=Symbol("COMPUTING"),Fr=Symbol("ERRORED"),dv=Q(O({},So),{value:fc,dirty:!0,error:null,equal:qu,producerMustRecompute(t){return t.value===fc||t.value===hc},producerRecomputeValue(t){if(t.value===hc)throw new Error("Detected cycle in computations.");let n=t.value;t.value=hc;let e=Vr(t),i;try{i=t.computation()}catch(o){i=Fr,t.error=o}finally{mc(t,e)}if(n!==fc&&n!==Fr&&i!==Fr&&t.equal(n,i)){t.value=n;return}t.value=i,t.version++}});function uv(){throw new Error}var np=uv;function ip(){np()}function op(t){np=t}var pv=null;function rp(t){let n=Object.create(ap);n.value=t;let e=()=>(gc(n),n.value);return e[mn]=n,e}function Cc(t,n){Qu()||ip(),t.equal(t.value,n)||(t.value=n,fv(t))}function sp(t,n){Qu()||ip(),Cc(t,n(t.value))}var ap=Q(O({},So),{equal:qu,value:void 0});function fv(t){t.version++,cv(),Ku(t),pv?.()}function q(t){return typeof t=="function"}function Oi(t){let e=t(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ur=Oi(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,o)=>`${o+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Io(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Ae=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let r of e)r.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(q(i))try{i()}catch(r){n=r instanceof Ur?r.errors:[r]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let r of o)try{cp(r)}catch(s){n=n??[],s instanceof Ur?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ur(n)}}add(n){var e;if(n&&n!==this)if(this.closed)cp(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Io(e,n)}remove(n){let{_finalizers:e}=this;e&&Io(e,n),n instanceof t&&n._removeParent(this)}};Ae.EMPTY=(()=>{let t=new Ae;return t.closed=!0,t})();var xc=Ae.EMPTY;function zr(t){return t instanceof Ae||t&&"closed"in t&&q(t.remove)&&q(t.add)&&q(t.unsubscribe)}function cp(t){q(t)?t():t.unsubscribe()}var Lt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ti={setTimeout(t,n,...e){let{delegate:i}=Ti;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Ti;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $r(t){Ti.setTimeout(()=>{let{onUnhandledError:n}=Lt;if(n)n(t);else throw t})}function Oo(){}var lp=bc("C",void 0,void 0);function dp(t){return bc("E",void 0,t)}function up(t){return bc("N",t,void 0)}function bc(t,n,e){return{kind:t,value:n,error:e}}var ri=null;function ki(t){if(Lt.useDeprecatedSynchronousErrorHandling){let n=!ri;if(n&&(ri={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:i}=ri;if(ri=null,e)throw i}}else t()}function pp(t){Lt.useDeprecatedSynchronousErrorHandling&&ri&&(ri.errorThrown=!0,ri.error=t)}var si=class extends Ae{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,zr(n)&&n.add(this)):this.destination=mv}static create(n,e,i){return new Ri(n,e,i)}next(n){this.isStopped?Ec(up(n),this):this._next(n)}error(n){this.isStopped?Ec(dp(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ec(lp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hv=Function.prototype.bind;function yc(t,n){return hv.call(t,n)}var Mc=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){Br(i)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){Br(i)}else Br(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Br(e)}}},Ri=class extends si{constructor(n,e,i){super();let o;if(q(n)||!n)o={next:n??void 0,error:e??void 0,complete:i??void 0};else{let r;this&&Lt.useDeprecatedNextContext?(r=Object.create(n),r.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&yc(n.next,r),error:n.error&&yc(n.error,r),complete:n.complete&&yc(n.complete,r)}):o=n}this.destination=new Mc(o)}};function Br(t){Lt.useDeprecatedSynchronousErrorHandling?pp(t):$r(t)}function gv(t){throw t}function Ec(t,n){let{onStoppedNotification:e}=Lt;e&&Ti.setTimeout(()=>e(t,n))}var mv={closed:!0,next:Oo,error:gv,complete:Oo};var Ai=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function wc(...t){return Dc(t)}function Dc(t){return t.length===0?Et:t.length===1?t[0]:function(e){return t.reduce((i,o)=>o(i),e)}}var Y=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,o){let r=_v(e)?e:new Ri(e,i,o);return ki(()=>{let{operator:s,source:a}=this;r.add(s?s.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=fp(i),new i((o,r)=>{let s=new Ri({next:a=>{try{e(a)}catch(d){r(d),s.unsubscribe()}},error:r,complete:o});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[Ai](){return this}pipe(...e){return Dc(e)(this)}toPromise(e){return e=fp(e),new e((i,o)=>{let r;this.subscribe(s=>r=s,s=>o(s),()=>i(r))})}}return t.create=n=>new t(n),t})();function fp(t){var n;return(n=t??Lt.Promise)!==null&&n!==void 0?n:Promise}function vv(t){return t&&q(t.next)&&q(t.error)&&q(t.complete)}function _v(t){return t&&t instanceof si||vv(t)&&zr(t)}function Pc(t){return q(t?.lift)}function X(t){return n=>{if(Pc(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(t,n,e,i,o){return new Sc(t,n,e,i,o)}var Sc=class extends si{constructor(n,e,i,o,r,s){super(n),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(d){n.error(d)}}:super._next,this._error=o?function(a){try{o(a)}catch(d){n.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Ni(){return X((t,n)=>{let e=null;t._refCount++;let i=ne(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let o=t._connection,r=e;e=null,o&&(!r||o===r)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}var Fi=class extends Y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Pc(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ae;let e=this.getSubject();n.add(this.source.subscribe(ne(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ae.EMPTY)}return n}refCount(){return Ni()(this)}};var hp=Oi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class t extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new Hr(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new hp}next(e){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:o,observers:r}=this;return i||o?xc:(this.currentObservers=null,r.push(e),new Ae(()=>{this.currentObservers=null,Io(r,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:o,isStopped:r}=this;i?e.error(o):r&&e.complete()}asObservable(){let e=new Y;return e.source=this,e}}return t.create=(n,e)=>new Hr(n,e),t})(),Hr=class extends He{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,n)}error(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&i!==void 0?i:xc}};var Te=class extends He{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var Mt=new Y(t=>t.complete());function gp(t){return t&&q(t.schedule)}function mp(t){return t[t.length-1]}function Gr(t){return q(mp(t))?t.pop():void 0}function Vn(t){return gp(mp(t))?t.pop():void 0}function _p(t,n,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function a(g){try{f(i.next(g))}catch(_){s(_)}}function d(g){try{f(i.throw(g))}catch(_){s(_)}}function f(g){g.done?r(g.value):o(g.value).then(a,d)}f((i=i.apply(t,n||[])).next())})}function vp(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ai(t){return this instanceof ai?(this.v=t,this):new ai(t)}function Cp(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(t,n||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(y){return function(P){return Promise.resolve(P).then(y,_)}}function a(y,P){i[y]&&(o[y]=function(T){return new Promise(function(k,G){r.push([y,T,k,G])>1||d(y,T)})},P&&(o[y]=P(o[y])))}function d(y,P){try{f(i[y](P))}catch(T){E(r[0][3],T)}}function f(y){y.value instanceof ai?Promise.resolve(y.value.v).then(g,_):E(r[0][2],y)}function g(y){d("next",y)}function _(y){d("throw",y)}function E(y,P){y(P),r.shift(),r.length&&d(r[0][0],r[0][1])}}function xp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof vp=="function"?vp(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=t[r]&&function(s){return new Promise(function(a,d){s=t[r](s),o(a,d,s.done,s.value)})}}function o(r,s,a,d){Promise.resolve(d).then(function(f){r({value:f,done:a})},s)}}var Wr=t=>t&&typeof t.length=="number"&&typeof t!="function";function qr(t){return q(t?.then)}function Yr(t){return q(t[Ai])}function Zr(t){return Symbol.asyncIterator&&q(t?.[Symbol.asyncIterator])}function Kr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Cv(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qr=Cv();function Jr(t){return q(t?.[Qr])}function Xr(t){return Cp(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:i,done:o}=yield ai(e.read());if(o)return yield ai(void 0);yield yield ai(i)}}finally{e.releaseLock()}})}function es(t){return q(t?.getReader)}function Ne(t){if(t instanceof Y)return t;if(t!=null){if(Yr(t))return xv(t);if(Wr(t))return bv(t);if(qr(t))return yv(t);if(Zr(t))return bp(t);if(Jr(t))return Ev(t);if(es(t))return Mv(t)}throw Kr(t)}function xv(t){return new Y(n=>{let e=t[Ai]();if(q(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bv(t){return new Y(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function yv(t){return new Y(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,$r)})}function Ev(t){return new Y(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function bp(t){return new Y(n=>{wv(t,n).catch(e=>n.error(e))})}function Mv(t){return bp(Xr(t))}function wv(t,n){var e,i,o,r;return _p(this,void 0,void 0,function*(){try{for(e=xp(t);i=yield e.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=e.return)&&(yield r.call(e))}finally{if(o)throw o.error}}n.complete()})}function ut(t,n,e,i=0,o=!1){let r=n.schedule(function(){e(),o?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(r),!o)return r}function ts(t,n=0){return X((e,i)=>{e.subscribe(ne(i,o=>ut(i,t,()=>i.next(o),n),()=>ut(i,t,()=>i.complete(),n),o=>ut(i,t,()=>i.error(o),n)))})}function ns(t,n=0){return X((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function yp(t,n){return Ne(t).pipe(ns(n),ts(n))}function Ep(t,n){return Ne(t).pipe(ns(n),ts(n))}function Mp(t,n){return new Y(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}function wp(t,n){return new Y(e=>{let i;return ut(e,n,()=>{i=t[Qr](),ut(e,n,()=>{let o,r;try{({value:o,done:r}=i.next())}catch(s){e.error(s);return}r?e.complete():e.next(o)},0,!0)}),()=>q(i?.return)&&i.return()})}function is(t,n){if(!t)throw new Error("Iterable cannot be null");return new Y(e=>{ut(e,n,()=>{let i=t[Symbol.asyncIterator]();ut(e,n,()=>{i.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Dp(t,n){return is(Xr(t),n)}function Pp(t,n){if(t!=null){if(Yr(t))return yp(t,n);if(Wr(t))return Mp(t,n);if(qr(t))return Ep(t,n);if(Zr(t))return is(t,n);if(Jr(t))return wp(t,n);if(es(t))return Dp(t,n)}throw Kr(t)}function Ce(t,n){return n?Pp(t,n):Ne(t)}function A(...t){let n=Vn(t);return Ce(t,n)}function wt(t,n){let e=q(t)?t:()=>t,i=o=>o.error(e());return new Y(n?o=>n.schedule(i,0,o):i)}function Ic(t){return!!t&&(t instanceof Y||q(t.lift)&&q(t.subscribe))}var vn=Oi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function U(t,n){return X((e,i)=>{let o=0;e.subscribe(ne(i,r=>{i.next(t.call(n,r,o++))}))})}var{isArray:Dv}=Array;function Pv(t,n){return Dv(n)?t(...n):t(n)}function os(t){return U(n=>Pv(t,n))}var{isArray:Sv}=Array,{getPrototypeOf:Iv,prototype:Ov,keys:Tv}=Object;function rs(t){if(t.length===1){let n=t[0];if(Sv(n))return{args:n,keys:null};if(kv(n)){let e=Tv(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}function kv(t){return t&&typeof t=="object"&&Iv(t)===Ov}function ss(t,n){return t.reduce((e,i,o)=>(e[i]=n[o],e),{})}function as(...t){let n=Vn(t),e=Gr(t),{args:i,keys:o}=rs(t);if(i.length===0)return Ce([],n);let r=new Y(Rv(i,n,o?s=>ss(o,s):Et));return e?r.pipe(os(e)):r}function Rv(t,n,e=Et){return i=>{Sp(n,()=>{let{length:o}=t,r=new Array(o),s=o,a=o;for(let d=0;d<o;d++)Sp(n,()=>{let f=Ce(t[d],n),g=!1;f.subscribe(ne(i,_=>{r[d]=_,g||(g=!0,a--),a||i.next(e(r.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Sp(t,n,e){t?ut(e,t,n):n()}function Ip(t,n,e,i,o,r,s,a){let d=[],f=0,g=0,_=!1,E=()=>{_&&!d.length&&!f&&n.complete()},y=T=>f<i?P(T):d.push(T),P=T=>{r&&n.next(T),f++;let k=!1;Ne(e(T,g++)).subscribe(ne(n,G=>{o?.(G),r?y(G):n.next(G)},()=>{k=!0},void 0,()=>{if(k)try{for(f--;d.length&&f<i;){let G=d.shift();s?ut(n,s,()=>P(G)):P(G)}E()}catch(G){n.error(G)}}))};return t.subscribe(ne(n,y,()=>{_=!0,E()})),()=>{a?.()}}function $e(t,n,e=1/0){return q(n)?$e((i,o)=>U((r,s)=>n(i,r,o,s))(Ne(t(i,o))),e):(typeof n=="number"&&(e=n),X((i,o)=>Ip(i,o,t,e)))}function Oc(t=1/0){return $e(Et,t)}function Op(){return Oc(1)}function Vi(...t){return Op()(Ce(t,Vn(t)))}function cs(t){return new Y(n=>{Ne(t()).subscribe(n)})}function Tc(...t){let n=Gr(t),{args:e,keys:i}=rs(t),o=new Y(r=>{let{length:s}=e;if(!s){r.complete();return}let a=new Array(s),d=s,f=s;for(let g=0;g<s;g++){let _=!1;Ne(e[g]).subscribe(ne(r,E=>{_||(_=!0,f--),a[g]=E},()=>d--,void 0,()=>{(!d||!_)&&(f||r.next(i?ss(i,a):a),r.complete())}))}});return n?o.pipe(os(n)):o}function nt(t,n){return X((e,i)=>{let o=0;e.subscribe(ne(i,r=>t.call(n,r,o++)&&i.next(r)))})}function ee(t){return X((n,e)=>{let i=null,o=!1,r;i=n.subscribe(ne(e,void 0,void 0,s=>{r=Ne(t(s,ee(t)(n))),i?(i.unsubscribe(),i=null,r.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,r.subscribe(e))})}function ls(t,n,e,i,o){return(r,s)=>{let a=e,d=n,f=0;r.subscribe(ne(s,g=>{let _=f++;d=a?t(d,g,_):(a=!0,g),i&&s.next(d)},o&&(()=>{a&&s.next(d),s.complete()})))}}function Tp(t,n){return X(ls(t,n,arguments.length>=2,!1,!0))}var Av=(t,n)=>(t.push(n),t);function ds(){return X((t,n)=>{Tp(Av,[])(t).subscribe(n)})}function jt(t,n){return q(n)?$e(t,n,1):$e(t,1)}function Ln(t){return X((n,e)=>{let i=!1;n.subscribe(ne(e,o=>{i=!0,e.next(o)},()=>{i||e.next(t),e.complete()}))})}function _n(t){return t<=0?()=>Mt:X((n,e)=>{let i=0;n.subscribe(ne(e,o=>{++i<=t&&(e.next(o),t<=i&&e.complete())}))})}function kc(t){return U(()=>t)}function us(t=Nv){return X((n,e)=>{let i=!1;n.subscribe(ne(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(t())))})}function Nv(){return new vn}function jn(t){return X((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Qt(t,n){let e=arguments.length>=2;return i=>i.pipe(t?nt((o,r)=>t(o,r,i)):Et,_n(1),e?Ln(n):us(()=>new vn))}function Li(t){return t<=0?()=>Mt:X((n,e)=>{let i=[];n.subscribe(ne(e,o=>{i.push(o),t<i.length&&i.shift()},()=>{for(let o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function Rc(t,n){let e=arguments.length>=2;return i=>i.pipe(t?nt((o,r)=>t(o,r,i)):Et,Li(1),e?Ln(n):us(()=>new vn))}function Ac(t,n){return X(ls(t,n,arguments.length>=2,!0))}function Nc(...t){let n=Vn(t);return X((e,i)=>{(n?Vi(t,e,n):Vi(t,e)).subscribe(i)})}function Fe(t,n){return X((e,i)=>{let o=null,r=0,s=!1,a=()=>s&&!o&&i.complete();e.subscribe(ne(i,d=>{o?.unsubscribe();let f=0,g=r++;Ne(t(d,g)).subscribe(o=ne(i,_=>i.next(n?n(d,_,g,f++):_),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Fc(t){return X((n,e)=>{Ne(t).subscribe(ne(e,()=>e.complete(),Oo)),!e.closed&&n.subscribe(e)})}function oe(t,n,e){let i=q(t)||n||e?{next:t,error:n,complete:e}:t;return i?X((o,r)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;o.subscribe(ne(r,d=>{var f;(f=i.next)===null||f===void 0||f.call(i,d),r.next(d)},()=>{var d;a=!1,(d=i.complete)===null||d===void 0||d.call(i),r.complete()},d=>{var f;a=!1,(f=i.error)===null||f===void 0||f.call(i,d),r.error(d)},()=>{var d,f;a&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(f=i.finalize)===null||f===void 0||f.call(i)}))}):Et}var vf="https://g.co/ng/security#xss",N=class extends Error{constructor(n,e){super(qs(n,e)),this.code=n}};function qs(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}function zo(t){return{toString:t}.toString()}var ps="__parameters__";function Fv(t){return function(...e){if(t){let i=t(...e);for(let o in i)this[o]=i[o]}}}function _f(t,n,e){return zo(()=>{let i=Fv(n);function o(...r){if(this instanceof o)return i.apply(this,r),this;let s=new o(...r);return a.annotation=s,a;function a(d,f,g){let _=d.hasOwnProperty(ps)?d[ps]:Object.defineProperty(d,ps,{value:[]})[ps];for(;_.length<=g;)_.push(null);return(_[g]=_[g]||[]).push(s),d}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var li=globalThis;function me(t){for(let n in t)if(t[n]===me)return n;throw Error("Could not find renamed property on target object.")}function Vv(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ot).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function Qc(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var Lv=me({__forward_ref__:me});function Qe(t){return t.__forward_ref__=Qe,t.toString=function(){return ot(this())},t}function it(t){return Cf(t)?t():t}function Cf(t){return typeof t=="function"&&t.hasOwnProperty(Lv)&&t.__forward_ref__===Qe}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ys(t){return kp(t,bf)||kp(t,yf)}function xf(t){return Ys(t)!==null}function kp(t,n){return t.hasOwnProperty(n)?t[n]:null}function jv(t){let n=t&&(t[bf]||t[yf]);return n||null}function Rp(t){return t&&(t.hasOwnProperty(Ap)||t.hasOwnProperty(Uv))?t[Ap]:null}var bf=me({\u0275prov:me}),Ap=me({\u0275inj:me}),yf=me({ngInjectableDef:me}),Uv=me({ngInjectorDef:me}),F=class{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=R({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ef(t){return t&&!!t.\u0275providers}var zv=me({\u0275cmp:me}),$v=me({\u0275dir:me}),Bv=me({\u0275pipe:me}),Hv=me({\u0275mod:me}),ys=me({\u0275fac:me}),Ro=me({__NG_ELEMENT_ID__:me}),Np=me({__NG_ENV_ID__:me});function Cn(t){return typeof t=="string"?t:t==null?"":String(t)}function Gv(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Cn(t)}function Wv(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new N(-200,t)}function Ul(t,n){throw new N(-201,!1)}var J=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(J||{}),Jc;function Mf(){return Jc}function pt(t){let n=Jc;return Jc=t,n}function wf(t,n,e){let i=Ys(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&J.Optional)return null;if(n!==void 0)return n;Ul(t,"Injector")}var qv={},Ao=qv,Xc="__NG_DI_FLAG__",Es="ngTempTokenPath",Yv="ngTokenPath",Zv=/\n/gm,Kv="\u0275",Fp="__source",$i;function Qv(){return $i}function Un(t){let n=$i;return $i=t,n}function Jv(t,n=J.Default){if($i===void 0)throw new N(-203,!1);return $i===null?wf(t,void 0,n):$i.get(t,n&J.Optional?null:void 0,n)}function z(t,n=J.Default){return(Mf()||Jv)(it(t),n)}function I(t,n=J.Default){return z(t,Zs(n))}function Zs(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function el(t){let n=[];for(let e=0;e<t.length;e++){let i=it(t[e]);if(Array.isArray(i)){if(i.length===0)throw new N(900,!1);let o,r=J.Default;for(let s=0;s<i.length;s++){let a=i[s],d=Xv(a);typeof d=="number"?d===-1?o=a.token:r|=d:o=a}n.push(z(o,r))}else n.push(z(i))}return n}function Df(t,n){return t[Xc]=n,t.prototype[Xc]=n,t}function Xv(t){return t[Xc]}function e_(t,n,e,i){let o=t[Es];throw n[Fp]&&o.unshift(n[Fp]),t.message=t_(`
`+t.message,o,e,i),t[Yv]=o,t[Es]=null,t}function t_(t,n,e,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Kv?t.slice(2):t;let o=ot(n);if(Array.isArray(n))o=n.map(ot).join(" -> ");else if(typeof n=="object"){let r=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];r.push(s+":"+(typeof a=="string"?JSON.stringify(a):ot(a)))}o=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${o}]: ${t.replace(Zv,`
  `)}`}var zl=Df(_f("Optional"),8);var Pf=Df(_f("SkipSelf"),4);function ui(t,n){let e=t.hasOwnProperty(ys);return e?t[ys]:null}function $l(t,n){t.forEach(e=>Array.isArray(e)?$l(e,n):n(e))}function Sf(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Ms(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function n_(t,n,e,i){let o=t.length;if(o==n)t.push(e,i);else if(o===1)t.push(i,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;){let r=o-2;t[o]=t[r],o--}t[n]=e,t[n+1]=i}}function Bl(t,n,e){let i=$o(t,n);return i>=0?t[i|1]=e:(i=~i,n_(t,i,n,e)),i}function Vc(t,n){let e=$o(t,n);if(e>=0)return t[e|1]}function $o(t,n){return i_(t,n,1)}function i_(t,n,e){let i=0,o=t.length>>e;for(;o!==i;){let r=i+(o-i>>1),s=t[r<<e];if(n===s)return r<<e;s>n?o=r:i=r+1}return~(o<<e)}var Hi={},ft=[],Gi=new F(""),If=new F("",-1),Of=new F(""),ws=class{get(n,e=Ao){if(e===Ao){let i=new Error(`NullInjectorError: No provider for ${ot(n)}!`);throw i.name="NullInjectorError",i}return e}},Tf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Tf||{}),en=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(en||{}),Bn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Bn||{});function o_(t,n,e){let i=t.length;for(;;){let o=t.indexOf(n,e);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let r=n.length;if(o+r===i||t.charCodeAt(o+r)<=32)return o}e=o+1}}function tl(t,n,e){let i=0;for(;i<e.length;){let o=e[i];if(typeof o=="number"){if(o!==0)break;i++;let r=e[i++],s=e[i++],a=e[i++];t.setAttribute(n,s,a,r)}else{let r=o,s=e[++i];r_(r)?t.setProperty(n,r,s):t.setAttribute(n,r,s),i++}}return i}function kf(t){return t===3||t===4||t===6}function r_(t){return t.charCodeAt(0)===64}function No(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){let o=n[i];typeof o=="number"?e=o:e===0||(e===-1||e===2?Vp(t,e,o,null,n[++i]):Vp(t,e,o,null,null))}}return t}function Vp(t,n,e,i,o){let r=0,s=t.length;if(n===-1)s=-1;else for(;r<t.length;){let a=t[r++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=r-1;break}}}for(;r<t.length;){let a=t[r];if(typeof a=="number")break;if(a===e){if(i===null){o!==null&&(t[r+1]=o);return}else if(i===t[r+1]){t[r+2]=o;return}}r++,i!==null&&r++,o!==null&&r++}s!==-1&&(t.splice(s,0,n),r=s+1),t.splice(r++,0,e),i!==null&&t.splice(r++,0,i),o!==null&&t.splice(r++,0,o)}var Rf="ng-template";function s_(t,n,e,i){let o=0;if(i){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&o_(n[o+1].toLowerCase(),e,0)!==-1)return!0}else if(Hl(t))return!1;if(o=n.indexOf(1,o),o>-1){let r;for(;++o<n.length&&typeof(r=n[o])=="string";)if(r.toLowerCase()===e)return!0}return!1}function Hl(t){return t.type===4&&t.value!==Rf}function a_(t,n,e){let i=t.type===4&&!e?Rf:t.value;return n===i}function c_(t,n,e){let i=4,o=t.attrs,r=o!==null?u_(o):0,s=!1;for(let a=0;a<n.length;a++){let d=n[a];if(typeof d=="number"){if(!s&&!Ut(i)&&!Ut(d))return!1;if(s&&Ut(d))continue;s=!1,i=d|i&1;continue}if(!s)if(i&4){if(i=2|i&1,d!==""&&!a_(t,d,e)||d===""&&n.length===1){if(Ut(i))return!1;s=!0}}else if(i&8){if(o===null||!s_(t,o,d,e)){if(Ut(i))return!1;s=!0}}else{let f=n[++a],g=l_(d,o,Hl(t),e);if(g===-1){if(Ut(i))return!1;s=!0;continue}if(f!==""){let _;if(g>r?_="":_=o[g+1].toLowerCase(),i&2&&f!==_){if(Ut(i))return!1;s=!0}}}}return Ut(i)||s}function Ut(t){return(t&1)===0}function l_(t,n,e,i){if(n===null)return-1;let o=0;if(i||!e){let r=!1;for(;o<n.length;){let s=n[o];if(s===t)return o;if(s===3||s===6)r=!0;else if(s===1||s===2){let a=n[++o];for(;typeof a=="string";)a=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=r?1:2}return-1}else return p_(n,t)}function d_(t,n,e=!1){for(let i=0;i<n.length;i++)if(c_(t,n[i],e))return!0;return!1}function u_(t){for(let n=0;n<t.length;n++){let e=t[n];if(kf(e))return n}return t.length}function p_(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let i=t[e];if(typeof i=="number")return-1;if(i===n)return e;e++}return-1}function Lp(t,n){return t?":not("+n.trim()+")":n}function f_(t){let n=t[0],e=1,i=2,o="",r=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(i&2){let a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?o+="."+s:i&4&&(o+=" "+s);else o!==""&&!Ut(s)&&(n+=Lp(r,o),o=""),i=s,r=r||!Ut(i);e++}return o!==""&&(n+=Lp(r,o)),n}function h_(t){return t.map(f_).join(",")}function g_(t){let n=[],e=[],i=1,o=2;for(;i<t.length;){let r=t[i];if(typeof r=="string")o===2?r!==""&&n.push(r,t[++i]):o===8&&e.push(r);else{if(!Ut(o))break;o=r}i++}return{attrs:n,classes:e}}function de(t){return zo(()=>{let n=Lf(t),e=Q(O({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Tf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""});jf(e);let i=t.dependencies;return e.directiveDefs=Up(i,!1),e.pipeDefs=Up(i,!0),e.id=__(e),e})}function m_(t){return pi(t)||Af(t)}function v_(t){return t!==null}function Yn(t){return zo(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jp(t,n){if(t==null)return Hi;let e={};for(let i in t)if(t.hasOwnProperty(i)){let o=t[i],r,s,a=Bn.None;Array.isArray(o)?(a=o[0],r=o[1],s=o[2]??r):(r=o,s=o),n?(e[r]=a!==Bn.None?[i,a]:i,n[r]=s):e[r]=i}return e}function he(t){return zo(()=>{let n=Lf(t);return jf(n),n})}function Ks(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function pi(t){return t[zv]||null}function Af(t){return t[$v]||null}function Nf(t){return t[Bv]||null}function Ff(t){let n=pi(t)||Af(t)||Nf(t);return n!==null?n.standalone:!1}function Vf(t,n){let e=t[Hv]||null;if(!e&&n===!0)throw new Error(`Type ${ot(t)} does not have '\u0275mod' property.`);return e}function Lf(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Hi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jp(t.inputs,n),outputs:jp(t.outputs),debugInfo:null}}function jf(t){t.features?.forEach(n=>n(t))}function Up(t,n){if(!t)return null;let e=n?Nf:m_;return()=>(typeof t=="function"?t():t).map(i=>e(i)).filter(v_)}function __(t){let n=0,e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let o of e)n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Bo(t){return{\u0275providers:t}}function C_(...t){return{\u0275providers:Uf(!0,t),\u0275fromNgModule:!0}}function Uf(t,...n){let e=[],i=new Set,o,r=s=>{e.push(s)};return $l(n,s=>{let a=s;nl(a,r,[],i)&&(o||=[],o.push(a))}),o!==void 0&&zf(o,r),e}function zf(t,n){for(let e=0;e<t.length;e++){let{ngModule:i,providers:o}=t[e];Gl(o,r=>{n(r,i)})}}function nl(t,n,e,i){if(t=it(t),!t)return!1;let o=null,r=Rp(t),s=!r&&pi(t);if(!r&&!s){let d=t.ngModule;if(r=Rp(d),r)o=d;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=i.has(o);if(s){if(a)return!1;if(i.add(o),s.dependencies){let d=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let f of d)nl(f,n,e,i)}}else if(r){if(r.imports!=null&&!a){i.add(o);let f;try{$l(r.imports,g=>{nl(g,n,e,i)&&(f||=[],f.push(g))})}finally{}f!==void 0&&zf(f,n)}if(!a){let f=ui(o)||(()=>new o);n({provide:o,useFactory:f,deps:ft},o),n({provide:Of,useValue:o,multi:!0},o),n({provide:Gi,useValue:()=>z(o),multi:!0},o)}let d=r.providers;if(d!=null&&!a){let f=t;Gl(d,g=>{n(g,f)})}}else return!1;return o!==t&&t.providers!==void 0}function Gl(t,n){for(let e of t)Ef(e)&&(e=e.\u0275providers),Array.isArray(e)?Gl(e,n):n(e)}var x_=me({provide:String,useValue:me});function $f(t){return t!==null&&typeof t=="object"&&x_ in t}function b_(t){return!!(t&&t.useExisting)}function y_(t){return!!(t&&t.useFactory)}function Wi(t){return typeof t=="function"}function E_(t){return!!t.useClass}var Qs=new F(""),vs={},M_={},Lc;function Wl(){return Lc===void 0&&(Lc=new ws),Lc}var ht=class{},Fo=class extends ht{get destroyed(){return this._destroyed}constructor(n,e,i,o){super(),this.parent=e,this.source=i,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ol(n,s=>this.processProvider(s)),this.records.set(If,ji(void 0,this)),o.has("environment")&&this.records.set(ht,ji(void 0,this));let r=this.records.get(Qs);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(Of,ft,J.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=re(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let e=Un(this),i=pt(void 0),o;try{return n()}finally{Un(e),pt(i)}}get(n,e=Ao,i=J.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Np))return n[Np](this);i=Zs(i);let o,r=Un(this),s=pt(void 0);try{if(!(i&J.SkipSelf)){let d=this.records.get(n);if(d===void 0){let f=I_(n)&&Ys(n);f&&this.injectableDefInScope(f)?d=ji(il(n),vs):d=null,this.records.set(n,d)}if(d!=null)return this.hydrate(n,d)}let a=i&J.Self?Wl():this.parent;return e=i&J.Optional&&e===Ao?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Es]=a[Es]||[]).unshift(ot(n)),r)throw a;return e_(a,n,"R3InjectorError",this.source)}else throw a}finally{pt(s),Un(r)}}resolveInjectorInitializers(){let n=re(null),e=Un(this),i=pt(void 0),o;try{let r=this.get(Gi,ft,J.Self);for(let s of r)s()}finally{Un(e),pt(i),re(n)}}toString(){let n=[],e=this.records;for(let i of e.keys())n.push(ot(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(n){n=it(n);let e=Wi(n)?n:it(n&&n.provide),i=D_(n);if(!Wi(n)&&n.multi===!0){let o=this.records.get(e);o||(o=ji(void 0,vs,!0),o.factory=()=>el(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,i)}hydrate(n,e){let i=re(null);try{return e.value===vs&&(e.value=M_,e.value=e.factory()),typeof e.value=="object"&&e.value&&S_(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{re(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=it(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function il(t){let n=Ys(t),e=n!==null?n.factory:ui(t);if(e!==null)return e;if(t instanceof F)throw new N(204,!1);if(t instanceof Function)return w_(t);throw new N(204,!1)}function w_(t){if(t.length>0)throw new N(204,!1);let e=jv(t);return e!==null?()=>e.factory(t):()=>new t}function D_(t){if($f(t))return ji(void 0,t.useValue);{let n=Bf(t);return ji(n,vs)}}function Bf(t,n,e){let i;if(Wi(t)){let o=it(t);return ui(o)||il(o)}else if($f(t))i=()=>it(t.useValue);else if(y_(t))i=()=>t.useFactory(...el(t.deps||[]));else if(b_(t))i=()=>z(it(t.useExisting));else{let o=it(t&&(t.useClass||t.provide));if(P_(t))i=()=>new o(...el(t.deps));else return ui(o)||il(o)}return i}function ji(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function P_(t){return!!t.deps}function S_(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function I_(t){return typeof t=="function"||typeof t=="object"&&t instanceof F}function ol(t,n){for(let e of t)Array.isArray(e)?ol(e,n):e&&Ef(e)?ol(e.\u0275providers,n):n(e)}function Ht(t,n){t instanceof Fo&&t.assertNotDestroyed();let e,i=Un(t),o=pt(void 0);try{return n()}finally{Un(i),pt(o)}}function O_(){return Mf()!==void 0||Qv()!=null}function T_(t){return typeof t=="function"}var Mn=0,te=1,W=2,rt=3,$t=4,Gt=5,Ds=6,Ps=7,Bt=8,qi=9,tn=10,Ie=11,Vo=12,zp=13,no=14,nn=15,Yi=16,Ui=17,Zi=18,Js=19,Hf=20,zn=21,jc=22,It=23,Tt=25,Gf=1;var fi=7,Ss=8,Is=9,Ot=10,Os=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Os||{});function $n(t){return Array.isArray(t)&&typeof t[Gf]=="object"}function wn(t){return Array.isArray(t)&&t[Gf]===!0}function ql(t){return(t.flags&4)!==0}function Xs(t){return t.componentOffset>-1}function ea(t){return(t.flags&1)===1}function Hn(t){return!!t.template}function rl(t){return(t[W]&512)!==0}var sl=class{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function Wf(t,n,e,i){n!==null?n.applyValueToInputSignal(n,i):t[e]=i}function Zn(){return qf}function qf(t){return t.type.prototype.ngOnChanges&&(t.setInput=R_),k_}Zn.ngInherit=!0;function k_(){let t=Zf(this),n=t?.current;if(n){let e=t.previous;if(e===Hi)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function R_(t,n,e,i,o){let r=this.declaredInputs[i],s=Zf(t)||A_(t,{previous:Hi,current:null}),a=s.current||(s.current={}),d=s.previous,f=d[r];a[r]=new sl(f&&f.currentValue,e,d===Hi),Wf(t,n,o,e)}var Yf="__ngSimpleChanges__";function Zf(t){return t[Yf]||null}function A_(t,n){return t[Yf]=n}var $p=null;var Jt=function(t,n,e){$p?.(t,n,e)},Kf="svg",N_="math";function on(t){for(;Array.isArray(t);)t=t[Mn];return t}function Qf(t,n){return on(n[t])}function kt(t,n){return on(n[t.index])}function Jf(t,n){return t.data[n]}function Xf(t,n){return t[n]}function Kn(t,n){let e=n[t];return $n(e)?e:e[Mn]}function Yl(t){return(t[W]&128)===128}function F_(t){return wn(t[rt])}function Ki(t,n){return n==null?null:t[n]}function eh(t){t[Ui]=0}function th(t){t[W]&1024||(t[W]|=1024,Yl(t)&&na(t))}function V_(t,n){for(;t>0;)n=n[no],t--;return n}function ta(t){return!!(t[W]&9216||t[It]?.dirty)}function al(t){t[tn].changeDetectionScheduler?.notify(8),t[W]&64&&(t[W]|=1024),ta(t)&&na(t)}function na(t){t[tn].changeDetectionScheduler?.notify(0);let n=hi(t);for(;n!==null&&!(n[W]&8192||(n[W]|=8192,!Yl(n)));)n=hi(n)}function nh(t,n){if((t[W]&256)===256)throw new N(911,!1);t[zn]===null&&(t[zn]=[]),t[zn].push(n)}function L_(t,n){if(t[zn]===null)return;let e=t[zn].indexOf(n);e!==-1&&t[zn].splice(e,1)}function hi(t){let n=t[rt];return wn(n)?n[rt]:n}var Z={lFrame:ph(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ih=!1;function j_(){return Z.lFrame.elementDepthCount}function U_(){Z.lFrame.elementDepthCount++}function z_(){Z.lFrame.elementDepthCount--}function oh(){return Z.bindingsEnabled}function $_(){return Z.skipHydrationRootTNode!==null}function B_(t){return Z.skipHydrationRootTNode===t}function H_(){Z.skipHydrationRootTNode=null}function se(){return Z.lFrame.lView}function Ge(){return Z.lFrame.tView}function C(t){return Z.lFrame.contextLView=t,t[Bt]}function x(t){return Z.lFrame.contextLView=null,t}function Je(){let t=rh();for(;t!==null&&t.type===64;)t=t.parent;return t}function rh(){return Z.lFrame.currentTNode}function G_(){let t=Z.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Ci(t,n){let e=Z.lFrame;e.currentTNode=t,e.isParent=n}function Zl(){return Z.lFrame.isParent}function sh(){Z.lFrame.isParent=!1}function W_(){return Z.lFrame.contextLView}function ah(){return ih}function Bp(t){ih=t}function q_(){let t=Z.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ch(){return Z.lFrame.bindingIndex}function Y_(t){return Z.lFrame.bindingIndex=t}function ia(){return Z.lFrame.bindingIndex++}function oa(t){let n=Z.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function Z_(){return Z.lFrame.inI18n}function K_(t,n){let e=Z.lFrame;e.bindingIndex=e.bindingRootIndex=t,cl(n)}function Q_(){return Z.lFrame.currentDirectiveIndex}function cl(t){Z.lFrame.currentDirectiveIndex=t}function J_(t){let n=Z.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function lh(t){Z.lFrame.currentQueryIndex=t}function X_(t){let n=t[te];return n.type===2?n.declTNode:n.type===1?t[Gt]:null}function dh(t,n,e){if(e&J.SkipSelf){let o=n,r=t;for(;o=o.parent,o===null&&!(e&J.Host);)if(o=X_(r),o===null||(r=r[no],o.type&10))break;if(o===null)return!1;n=o,t=r}let i=Z.lFrame=uh();return i.currentTNode=n,i.lView=t,!0}function Kl(t){let n=uh(),e=t[te];Z.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function uh(){let t=Z.lFrame,n=t===null?null:t.child;return n===null?ph(t):n}function ph(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function fh(){let t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var hh=fh;function Ql(){let t=fh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function eC(t){return(Z.lFrame.contextLView=V_(t,Z.lFrame.contextLView))[Bt]}function Dn(){return Z.lFrame.selectedIndex}function gi(t){Z.lFrame.selectedIndex=t}function ra(){let t=Z.lFrame;return Jf(t.tView,t.selectedIndex)}function gh(){Z.lFrame.currentNamespace=Kf}function mh(){tC()}function tC(){Z.lFrame.currentNamespace=null}function nC(){return Z.lFrame.currentNamespace}var vh=!0;function sa(){return vh}function aa(t){vh=t}function iC(t,n,e){let{ngOnChanges:i,ngOnInit:o,ngDoCheck:r}=n.type.prototype;if(i){let s=qf(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}o&&(e.preOrderHooks??=[]).push(0-t,o),r&&((e.preOrderHooks??=[]).push(t,r),(e.preOrderCheckHooks??=[]).push(t,r))}function ca(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){let r=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:d,ngAfterViewChecked:f,ngOnDestroy:g}=r;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),d&&(t.viewHooks??=[]).push(-e,d),f&&((t.viewHooks??=[]).push(e,f),(t.viewCheckHooks??=[]).push(e,f)),g!=null&&(t.destroyHooks??=[]).push(e,g)}}function _s(t,n,e){_h(t,n,3,e)}function Cs(t,n,e,i){(t[W]&3)===e&&_h(t,n,e,i)}function Uc(t,n){let e=t[W];(e&3)===n&&(e&=16383,e+=1,t[W]=e)}function _h(t,n,e,i){let o=i!==void 0?t[Ui]&65535:0,r=i??-1,s=n.length-1,a=0;for(let d=o;d<s;d++)if(typeof n[d+1]=="number"){if(a=n[d],i!=null&&a>=i)break}else n[d]<0&&(t[Ui]+=65536),(a<r||r==-1)&&(oC(t,e,n,d),t[Ui]=(t[Ui]&4294901760)+d+2),d++}function Hp(t,n){Jt(4,t,n);let e=re(null);try{n.call(t)}finally{re(e),Jt(5,t,n)}}function oC(t,n,e,i){let o=e[i]<0,r=e[i+1],s=o?-e[i]:e[i],a=t[s];o?t[W]>>14<t[Ui]>>16&&(t[W]&3)===n&&(t[W]+=16384,Hp(a,r)):Hp(a,r)}var Bi=-1,mi=class{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}};function rC(t){return t instanceof mi}function sC(t){return(t.flags&8)!==0}function aC(t){return(t.flags&16)!==0}var zc={},ll=class{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=Zs(i);let o=this.injector.get(n,zc,i);return o!==zc||e===zc?o:this.parentInjector.get(n,e,i)}};function Ch(t){return t!==Bi}function Ts(t){return t&32767}function cC(t){return t>>16}function ks(t,n){let e=cC(t),i=n;for(;e>0;)i=i[no],e--;return i}var dl=!0;function Rs(t){let n=dl;return dl=t,n}var lC=256,xh=lC-1,bh=5,dC=0,Xt={};function uC(t,n,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(Ro)&&(i=e[Ro]),i==null&&(i=e[Ro]=dC++);let o=i&xh,r=1<<o;n.data[t+(o>>bh)]|=r}function As(t,n){let e=yh(t,n);if(e!==-1)return e;let i=n[te];i.firstCreatePass&&(t.injectorIndex=n.length,$c(i.data,t),$c(n,null),$c(i.blueprint,null));let o=Jl(t,n),r=t.injectorIndex;if(Ch(o)){let s=Ts(o),a=ks(o,n),d=a[te].data;for(let f=0;f<8;f++)n[r+f]=a[s+f]|d[s+f]}return n[r+8]=o,r}function $c(t,n){t.push(0,0,0,0,0,0,0,0,n)}function yh(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Jl(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,i=null,o=n;for(;o!==null;){if(i=Ph(o),i===null)return Bi;if(e++,o=o[no],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return Bi}function ul(t,n,e){uC(t,n,e)}function pC(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let i=e.length,o=0;for(;o<i;){let r=e[o];if(kf(r))break;if(r===0)o=o+2;else if(typeof r=="number")for(o++;o<i&&typeof e[o]=="string";)o++;else{if(r===n)return e[o+1];o=o+2}}}return null}function Eh(t,n,e){if(e&J.Optional||t!==void 0)return t;Ul(n,"NodeInjector")}function Mh(t,n,e,i){if(e&J.Optional&&i===void 0&&(i=null),!(e&(J.Self|J.Host))){let o=t[qi],r=pt(void 0);try{return o?o.get(n,i,e&J.Optional):wf(n,i,e&J.Optional)}finally{pt(r)}}return Eh(i,n,e)}function wh(t,n,e,i=J.Default,o){if(t!==null){if(n[W]&2048&&!(i&J.Self)){let s=vC(t,n,e,i,Xt);if(s!==Xt)return s}let r=Dh(t,n,e,i,Xt);if(r!==Xt)return r}return Mh(n,e,i,o)}function Dh(t,n,e,i,o){let r=gC(e);if(typeof r=="function"){if(!dh(n,t,i))return i&J.Host?Eh(o,e,i):Mh(n,e,i,o);try{let s;if(s=r(i),s==null&&!(i&J.Optional))Ul(e);else return s}finally{hh()}}else if(typeof r=="number"){let s=null,a=yh(t,n),d=Bi,f=i&J.Host?n[nn][Gt]:null;for((a===-1||i&J.SkipSelf)&&(d=a===-1?Jl(t,n):n[a+8],d===Bi||!Wp(i,!1)?a=-1:(s=n[te],a=Ts(d),n=ks(d,n)));a!==-1;){let g=n[te];if(Gp(r,a,g.data)){let _=fC(a,n,e,s,i,f);if(_!==Xt)return _}d=n[a+8],d!==Bi&&Wp(i,n[te].data[a+8]===f)&&Gp(r,a,n)?(s=g,a=Ts(d),n=ks(d,n)):a=-1}}return o}function fC(t,n,e,i,o,r){let s=n[te],a=s.data[t+8],d=i==null?Xs(a)&&dl:i!=s&&(a.type&3)!==0,f=o&J.Host&&r===a,g=hC(a,s,e,d,f);return g!==null?Qi(n,s,g,a):Xt}function hC(t,n,e,i,o){let r=t.providerIndexes,s=n.data,a=r&1048575,d=t.directiveStart,f=t.directiveEnd,g=r>>20,_=i?a:a+g,E=o?a+g:f;for(let y=_;y<E;y++){let P=s[y];if(y<d&&e===P||y>=d&&P.type===e)return y}if(o){let y=s[d];if(y&&Hn(y)&&y.type===e)return d}return null}function Qi(t,n,e,i){let o=t[e],r=n.data;if(rC(o)){let s=o;s.resolving&&Wv(Gv(r[e]));let a=Rs(s.canSeeViewProviders);s.resolving=!0;let d,f=s.injectImpl?pt(s.injectImpl):null,g=dh(t,i,J.Default);try{o=t[e]=s.factory(void 0,r,t,i),n.firstCreatePass&&e>=i.directiveStart&&iC(e,r[e],n)}finally{f!==null&&pt(f),Rs(a),s.resolving=!1,hh()}}return o}function gC(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(Ro)?t[Ro]:void 0;return typeof n=="number"?n>=0?n&xh:mC:n}function Gp(t,n,e){let i=1<<t;return!!(e[n+(t>>bh)]&i)}function Wp(t,n){return!(t&J.Self)&&!(t&J.Host&&n)}var di=class{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return wh(this._tNode,this._lView,n,Zs(i),e)}};function mC(){return new di(Je(),se())}function gt(t){return zo(()=>{let n=t.prototype.constructor,e=n[ys]||pl(n),i=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==i;){let r=o[ys]||pl(o);if(r&&r!==e)return r;o=Object.getPrototypeOf(o)}return r=>new r})}function pl(t){return Cf(t)?()=>{let n=pl(it(t));return n&&n()}:ui(t)}function vC(t,n,e,i,o){let r=t,s=n;for(;r!==null&&s!==null&&s[W]&2048&&!(s[W]&512);){let a=Dh(r,s,e,i|J.Self,Xt);if(a!==Xt)return a;let d=r.parent;if(!d){let f=s[Hf];if(f){let g=f.get(e,Xt,i);if(g!==Xt)return g}d=Ph(s),s=s[no]}r=d}return o}function Ph(t){let n=t[te],e=n.type;return e===2?n.declTNode:e===1?t[Gt]:null}function Xl(t){return pC(Je(),t)}function qp(t,n=null,e=null,i){let o=Sh(t,n,e,i);return o.resolveInjectorInitializers(),o}function Sh(t,n=null,e=null,i,o=new Set){let r=[e||ft,C_(t)];return i=i||(typeof t=="object"?void 0:ot(t)),new Fo(r,n||Wl(),i||null,o)}var xn=class t{static{this.THROW_IF_NOT_FOUND=Ao}static{this.NULL=new ws}static create(n,e){if(Array.isArray(n))return qp({name:""},e,n,"");{let i=n.name??"";return qp({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=R({token:t,providedIn:"any",factory:()=>z(If)})}static{this.__NG_ELEMENT_ID__=-1}};var _C=new F("");_C.__NG_ELEMENT_ID__=t=>{let n=Je();if(n===null)throw new N(204,!1);if(n.type&2)return n.value;if(t&J.Optional)return null;throw new N(204,!1)};var CC="ngOriginalError";function Bc(t){return t[CC]}var Ih=!0,Oh=(()=>{class t{static{this.__NG_ELEMENT_ID__=xC}static{this.__NG_ENV_ID__=e=>e}}return t})(),fl=class extends Oh{constructor(n){super(),this._lView=n}onDestroy(n){return nh(this._lView,n),()=>L_(this._lView,n)}};function xC(){return new fl(se())}var Pn=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=R({token:t,providedIn:"root",factory:()=>new t})}}return t})();var hl=class extends He{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,O_()&&(this.destroyRef=I(Oh,{optional:!0})??void 0,this.pendingTasks=I(Pn,{optional:!0})??void 0)}emit(n){let e=re(null);try{super.next(n)}finally{re(e)}}subscribe(n,e,i){let o=n,r=e||(()=>null),s=i;if(n&&typeof n=="object"){let d=n;o=d.next?.bind(d),r=d.error?.bind(d),s=d.complete?.bind(d)}this.__isAsync&&(r=this.wrapInTimeout(r),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:r,complete:s});return n instanceof Ae&&n.add(a),a}wrapInTimeout(n){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{n(e),i!==void 0&&this.pendingTasks?.remove(i)})}}},Ve=hl;function Ns(...t){}function Th(t){let n,e;function i(){t=Ns;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),i()})),()=>i()}function Yp(t){return queueMicrotask(()=>t()),()=>{t=Ns}}var ed="isAngularZone",Fs=ed+"_ID",bC=0,ke=class t{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:r=Ih}=n;if(typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&i,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=r,MC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ed)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new N(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,o){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+o,n,yC,Ns,Ns);try{return r.runTask(s,e,i)}finally{r.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}},yC={};function td(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function EC(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){Th(()=>{t.callbackScheduled=!1,gl(t),t.isCheckStableRunning=!0,td(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),gl(t)}function MC(t){let n=()=>{EC(t)},e=bC++;t._inner=t._inner.fork({name:"angular",properties:{[ed]:!0,[Fs]:e,[Fs+e]:!0},onInvokeTask:(i,o,r,s,a,d)=>{if(wC(d))return i.invokeTask(r,s,a,d);try{return Zp(t),i.invokeTask(r,s,a,d)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Kp(t)}},onInvoke:(i,o,r,s,a,d,f)=>{try{return Zp(t),i.invoke(r,s,a,d,f)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!DC(d)&&n(),Kp(t)}},onHasTask:(i,o,r,s)=>{i.hasTask(r,s),o===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,gl(t),td(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,o,r,s)=>(i.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function gl(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Zp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Kp(t){t._nesting--,td(t)}var ml=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve,this.onMicrotaskEmpty=new Ve,this.onStable=new Ve,this.onError=new Ve}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,o){return n.apply(e,i)}};function wC(t){return kh(t,"__ignore_ng_zone__")}function DC(t){return kh(t,"__scheduler_tick__")}function kh(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var bn=class{constructor(){this._console=console}handleError(n){let e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Bc(n);for(;e&&Bc(e);)e=Bc(e);return e||null}},PC=new F("",{providedIn:"root",factory:()=>{let t=I(ke),n=I(bn);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function SC(){return la(Je(),se())}function la(t,n){return new Wt(kt(t,n))}var Wt=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=SC}}return t})();function Rh(t){return(t.flags&128)===128}var Ah=new Map,IC=0;function OC(){return IC++}function TC(t){Ah.set(t[Js],t)}function vl(t){Ah.delete(t[Js])}var Qp="__ngContext__";function Gn(t,n){$n(n)?(t[Qp]=n[Js],TC(n)):t[Qp]=n}function Nh(t){return Vh(t[Vo])}function Fh(t){return Vh(t[$t])}function Vh(t){for(;t!==null&&!wn(t);)t=t[$t];return t}var _l;function Lh(t){_l=t}function kC(){if(_l!==void 0)return _l;if(typeof document<"u")return document;throw new N(210,!1)}var nd=new F("",{providedIn:"root",factory:()=>RC}),RC="ng",id=new F(""),Qn=new F("",{providedIn:"platform",factory:()=>"unknown"});var od=new F("",{providedIn:"root",factory:()=>kC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var AC="h",NC="b";var FC=()=>null;function rd(t,n,e=!1){return FC(t,n,e)}var jh=!1,VC=new F("",{providedIn:"root",factory:()=>jh});var fs;function LC(){if(fs===void 0&&(fs=null,li.trustedTypes))try{fs=li.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fs}function Jp(t){return LC()?.createScriptURL(t)||t}var Vs=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vf})`}};function io(t){return t instanceof Vs?t.changingThisBreaksApplicationSecurity:t}function sd(t,n){let e=jC(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${vf})`)}return e===n}function jC(t){return t instanceof Vs&&t.getTypeName()||null}var UC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Uh(t){return t=String(t),t.match(UC)?t:"unsafe:"+t}var da=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(da||{});function Jn(t){let n=$h();return n?n.sanitize(da.URL,t)||"":sd(t,"URL")?io(t):Uh(Cn(t))}function zC(t){let n=$h();if(n)return Jp(n.sanitize(da.RESOURCE_URL,t)||"");if(sd(t,"ResourceURL"))return Jp(io(t));throw new N(904,!1)}function $C(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?zC:Jn}function zh(t,n,e){return $C(n,e)(t)}function $h(){let t=se();return t&&t[tn].sanitizer}var BC=/^>|^->|<!--|-->|--!>|<!-$/g,HC=/(<|>)/g,GC="\u200B$1\u200B";function WC(t){return t.replace(BC,n=>n.replace(HC,GC))}function Bh(t){return t instanceof Function?t():t}var yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yn||{}),qC;function ad(t,n){return qC(t,n)}function zi(t,n,e,i,o){if(i!=null){let r,s=!1;wn(i)?r=i:$n(i)&&(s=!0,i=i[Mn]);let a=on(i);t===0&&e!==null?o==null?Yh(n,e,a):Ls(n,e,a,o||null,!0):t===1&&e!==null?Ls(n,e,a,o||null,!0):t===2?lx(n,a,s):t===3&&n.destroyNode(a),r!=null&&ux(n,t,r,e,o)}}function YC(t,n){return t.createText(n)}function ZC(t,n,e){t.setValue(n,e)}function KC(t,n){return t.createComment(WC(n))}function Hh(t,n,e){return t.createElement(n,e)}function QC(t,n){Gh(t,n),n[Mn]=null,n[Gt]=null}function JC(t,n,e,i,o,r){i[Mn]=o,i[Gt]=n,pa(t,i,e,1,o,r)}function Gh(t,n){n[tn].changeDetectionScheduler?.notify(9),pa(t,n,n[Ie],2,null,null)}function XC(t){let n=t[Vo];if(!n)return Hc(t[te],t);for(;n;){let e=null;if($n(n))e=n[Vo];else{let i=n[Ot];i&&(e=i)}if(!e){for(;n&&!n[$t]&&n!==t;)$n(n)&&Hc(n[te],n),n=n[rt];n===null&&(n=t),$n(n)&&Hc(n[te],n),e=n&&n[$t]}n=e}}function ex(t,n,e,i){let o=Ot+i,r=e.length;i>0&&(e[o-1][$t]=n),i<r-Ot?(n[$t]=e[o],Sf(e,Ot+i,n)):(e.push(n),n[$t]=null),n[rt]=e;let s=n[Yi];s!==null&&e!==s&&Wh(s,n);let a=n[Zi];a!==null&&a.insertView(t),al(n),n[W]|=128}function Wh(t,n){let e=t[Is],i=n[rt];if($n(i))t[W]|=Os.HasTransplantedViews;else{let o=i[rt][nn];n[nn]!==o&&(t[W]|=Os.HasTransplantedViews)}e===null?t[Is]=[n]:e.push(n)}function cd(t,n){let e=t[Is],i=e.indexOf(n);e.splice(i,1)}function Cl(t,n){if(t.length<=Ot)return;let e=Ot+n,i=t[e];if(i){let o=i[Yi];o!==null&&o!==t&&cd(o,i),n>0&&(t[e-1][$t]=i[$t]);let r=Ms(t,Ot+n);QC(i[te],i);let s=r[Zi];s!==null&&s.detachView(r[te]),i[rt]=null,i[$t]=null,i[W]&=-129}return i}function qh(t,n){if(!(n[W]&256)){let e=n[Ie];e.destroyNode&&pa(t,n,e,3,null,null),XC(n)}}function Hc(t,n){if(n[W]&256)return;let e=re(null);try{n[W]&=-129,n[W]|=256,n[It]&&_c(n[It]),nx(t,n),tx(t,n),n[te].type===1&&n[Ie].destroy();let i=n[Yi];if(i!==null&&wn(n[rt])){i!==n[rt]&&cd(i,n);let o=n[Zi];o!==null&&o.detachView(t)}vl(n)}finally{re(e)}}function tx(t,n){let e=t.cleanup,i=n[Ps];if(e!==null)for(let r=0;r<e.length-1;r+=2)if(typeof e[r]=="string"){let s=e[r+3];s>=0?i[s]():i[-s].unsubscribe(),r+=2}else{let s=i[e[r+1]];e[r].call(s)}i!==null&&(n[Ps]=null);let o=n[zn];if(o!==null){n[zn]=null;for(let r=0;r<o.length;r++){let s=o[r];s()}}}function nx(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let o=n[e[i]];if(!(o instanceof mi)){let r=e[i+1];if(Array.isArray(r))for(let s=0;s<r.length;s+=2){let a=o[r[s]],d=r[s+1];Jt(4,a,d);try{d.call(a)}finally{Jt(5,a,d)}}else{Jt(4,o,r);try{r.call(o)}finally{Jt(5,o,r)}}}}}function ix(t,n,e){return ox(t,n.parent,e)}function ox(t,n,e){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return e[Mn];{let{componentOffset:o}=i;if(o>-1){let{encapsulation:r}=t.data[i.directiveStart+o];if(r===en.None||r===en.Emulated)return null}return kt(i,e)}}function Ls(t,n,e,i,o){t.insertBefore(n,e,i,o)}function Yh(t,n,e){t.appendChild(n,e)}function Xp(t,n,e,i,o){i!==null?Ls(t,n,e,i,o):Yh(t,n,e)}function Zh(t,n){return t.parentNode(n)}function rx(t,n){return t.nextSibling(n)}function sx(t,n,e){return cx(t,n,e)}function ax(t,n,e){return t.type&40?kt(t,e):null}var cx=ax,ef;function ua(t,n,e,i){let o=ix(t,i,n),r=n[Ie],s=i.parent||n[Gt],a=sx(s,i,n);if(o!=null)if(Array.isArray(e))for(let d=0;d<e.length;d++)Xp(r,o,e[d],a,!1);else Xp(r,o,e,a,!1);ef!==void 0&&ef(r,i,n,e,o)}function To(t,n){if(n!==null){let e=n.type;if(e&3)return kt(n,t);if(e&4)return xl(-1,t[n.index]);if(e&8){let i=n.child;if(i!==null)return To(t,i);{let o=t[n.index];return wn(o)?xl(-1,o):on(o)}}else{if(e&128)return To(t,n.next);if(e&32)return ad(n,t)()||on(t[n.index]);{let i=Kh(t,n);if(i!==null){if(Array.isArray(i))return i[0];let o=hi(t[nn]);return To(o,i)}else return To(t,n.next)}}}return null}function Kh(t,n){if(n!==null){let i=t[nn][Gt],o=n.projection;return i.projection[o]}return null}function xl(t,n){let e=Ot+t+1;if(e<n.length){let i=n[e],o=i[te].firstChild;if(o!==null)return To(i,o)}return n[fi]}function lx(t,n,e){t.removeChild(null,n,e)}function ld(t,n,e,i,o,r,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=i[e.index],d=e.type;if(s&&n===0&&(a&&Gn(on(a),i),e.flags|=2),(e.flags&32)!==32)if(d&8)ld(t,n,e.child,i,o,r,!1),zi(n,t,o,a,r);else if(d&32){let f=ad(e,i),g;for(;g=f();)zi(n,t,o,g,r);zi(n,t,o,a,r)}else d&16?dx(t,n,i,e,o,r):zi(n,t,o,a,r);e=s?e.projectionNext:e.next}}function pa(t,n,e,i,o,r){ld(e,i,t.firstChild,n,o,r,!1)}function dx(t,n,e,i,o,r){let s=e[nn],d=s[Gt].projection[i.projection];if(Array.isArray(d))for(let f=0;f<d.length;f++){let g=d[f];zi(n,t,o,g,r)}else{let f=d,g=s[rt];Rh(i)&&(f.flags|=128),ld(t,n,f,g,o,r,!0)}}function ux(t,n,e,i,o){let r=e[fi],s=on(e);r!==s&&zi(n,t,i,r,o);for(let a=Ot;a<e.length;a++){let d=e[a];pa(d[te],d,t,n,i,r)}}function px(t,n,e,i,o){if(n)o?t.addClass(e,i):t.removeClass(e,i);else{let r=i.indexOf("-")===-1?void 0:yn.DashCase;o==null?t.removeStyle(e,i,r):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),r|=yn.Important),t.setStyle(e,i,o,r))}}function fx(t,n,e){t.setAttribute(n,"style",e)}function Qh(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Jh(t,n,e){let{mergedAttrs:i,classes:o,styles:r}=e;i!==null&&tl(t,n,i),o!==null&&Qh(t,n,o),r!==null&&fx(t,n,r)}var mt={};function p(t=1){Xh(Ge(),se(),Dn()+t,!1)}function Xh(t,n,e,i){if(!i)if((n[W]&3)===3){let r=t.preOrderCheckHooks;r!==null&&_s(n,r,e)}else{let r=t.preOrderHooks;r!==null&&Cs(n,r,0,e)}gi(e)}function M(t,n=J.Default){let e=se();if(e===null)return z(t,n);let i=Je();return wh(i,e,it(t),n)}function eg(t,n,e,i,o,r){let s=re(null);try{let a=null;o&Bn.SignalBased&&(a=n[i][mn]),a!==null&&a.transformFn!==void 0&&(r=a.transformFn(r)),o&Bn.HasDecoratorInputTransform&&(r=t.inputTransforms[i].call(n,r)),t.setInput!==null?t.setInput(n,a,r,e,i):Wf(n,a,i,r)}finally{re(s)}}function hx(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let o=e[i];if(o<0)gi(~o);else{let r=o,s=e[++i],a=e[++i];K_(s,r);let d=n[r];a(2,d)}}}finally{gi(-1)}}function fa(t,n,e,i,o,r,s,a,d,f,g){let _=n.blueprint.slice();return _[Mn]=o,_[W]=i|4|128|8|64,(f!==null||t&&t[W]&2048)&&(_[W]|=2048),eh(_),_[rt]=_[no]=t,_[Bt]=e,_[tn]=s||t&&t[tn],_[Ie]=a||t&&t[Ie],_[qi]=d||t&&t[qi]||null,_[Gt]=r,_[Js]=OC(),_[Ds]=g,_[Hf]=f,_[nn]=n.type==2?t[nn]:_,_}function Ho(t,n,e,i,o){let r=t.data[n];if(r===null)r=gx(t,n,e,i,o),Z_()&&(r.flags|=32);else if(r.type&64){r.type=e,r.value=i,r.attrs=o;let s=G_();r.injectorIndex=s===null?-1:s.injectorIndex}return Ci(r,!0),r}function gx(t,n,e,i,o){let r=rh(),s=Zl(),a=s?r:r&&r.parent,d=t.data[n]=xx(t,a,e,n,i,o);return t.firstChild===null&&(t.firstChild=d),r!==null&&(s?r.child==null&&d.parent!==null&&(r.child=d):r.next===null&&(r.next=d,d.prev=r)),d}function tg(t,n,e,i){if(e===0)return-1;let o=n.length;for(let r=0;r<e;r++)n.push(i),t.blueprint.push(i),t.data.push(null);return o}function ng(t,n,e,i,o){let r=Dn(),s=i&2;try{gi(-1),s&&n.length>Tt&&Xh(t,n,Tt,!1),Jt(s?2:0,o),e(i,o)}finally{gi(r),Jt(s?3:1,o)}}function dd(t,n,e){if(ql(n)){let i=re(null);try{let o=n.directiveStart,r=n.directiveEnd;for(let s=o;s<r;s++){let a=t.data[s];if(a.contentQueries){let d=e[s];a.contentQueries(1,d,s)}}}finally{re(i)}}}function ud(t,n,e){oh()&&(Dx(t,n,e,kt(e,n)),(e.flags&64)===64&&rg(t,n,e))}function pd(t,n,e=kt){let i=n.localNames;if(i!==null){let o=n.index+1;for(let r=0;r<i.length;r+=2){let s=i[r+1],a=s===-1?e(n,t):t[s];t[o++]=a}}}function ig(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=fd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function fd(t,n,e,i,o,r,s,a,d,f,g){let _=Tt+i,E=_+o,y=mx(_,E),P=typeof f=="function"?f():f;return y[te]={type:t,blueprint:y,template:e,queries:null,viewQuery:a,declTNode:n,data:y.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:d,consts:P,incompleteFirstPass:!1,ssrId:g}}function mx(t,n){let e=[];for(let i=0;i<n;i++)e.push(i<t?null:mt);return e}function vx(t,n,e,i){let r=i.get(VC,jh)||e===en.ShadowDom,s=t.selectRootElement(n,r);return _x(s),s}function _x(t){Cx(t)}var Cx=()=>null;function xx(t,n,e,i,o,r){let s=n?n.injectorIndex:-1,a=0;return $_()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function tf(t,n,e,i,o){for(let r in n){if(!n.hasOwnProperty(r))continue;let s=n[r];if(s===void 0)continue;i??={};let a,d=Bn.None;Array.isArray(s)?(a=s[0],d=s[1]):a=s;let f=r;if(o!==null){if(!o.hasOwnProperty(r))continue;f=o[r]}t===0?nf(i,e,f,a,d):nf(i,e,f,a)}return i}function nf(t,n,e,i,o){let r;t.hasOwnProperty(e)?(r=t[e]).push(n,i):r=t[e]=[n,i],o!==void 0&&r.push(o)}function bx(t,n,e){let i=n.directiveStart,o=n.directiveEnd,r=t.data,s=n.attrs,a=[],d=null,f=null;for(let g=i;g<o;g++){let _=r[g],E=e?e.get(_):null,y=E?E.inputs:null,P=E?E.outputs:null;d=tf(0,_.inputs,g,d,y),f=tf(1,_.outputs,g,f,P);let T=d!==null&&s!==null&&!Hl(n)?Vx(d,g,s):null;a.push(T)}d!==null&&(d.hasOwnProperty("class")&&(n.flags|=8),d.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=d,n.outputs=f}function yx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function hd(t,n,e,i,o,r,s,a){let d=kt(n,e),f=n.inputs,g;!a&&f!=null&&(g=f[i])?(md(t,e,g,i,o),Xs(n)&&Ex(e,n.index)):n.type&3?(i=yx(i),o=s!=null?s(o,n.value||"",i):o,r.setProperty(d,i,o)):n.type&12}function Ex(t,n){let e=Kn(n,t);e[W]&16||(e[W]|=64)}function gd(t,n,e,i){if(oh()){let o=i===null?null:{"":-1},r=Sx(t,e),s,a;r===null?s=a=null:[s,a]=r,s!==null&&og(t,n,e,s,o,a),o&&Ix(e,i,o)}e.mergedAttrs=No(e.mergedAttrs,e.attrs)}function og(t,n,e,i,o,r){for(let f=0;f<i.length;f++)ul(As(e,n),t,i[f].type);Tx(e,t.data.length,i.length);for(let f=0;f<i.length;f++){let g=i[f];g.providersResolver&&g.providersResolver(g)}let s=!1,a=!1,d=tg(t,n,i.length,null);for(let f=0;f<i.length;f++){let g=i[f];e.mergedAttrs=No(e.mergedAttrs,g.hostAttrs),kx(t,e,n,d,g),Ox(d,g,o),g.contentQueries!==null&&(e.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(e.flags|=64);let _=g.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),d++}bx(t,e,r)}function Mx(t,n,e,i,o){let r=o.hostBindings;if(r){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;wx(s)!=a&&s.push(a),s.push(e,i,r)}}function wx(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function Dx(t,n,e,i){let o=e.directiveStart,r=e.directiveEnd;Xs(e)&&Rx(n,e,t.data[o+e.componentOffset]),t.firstCreatePass||As(e,n),Gn(i,n);let s=e.initialInputs;for(let a=o;a<r;a++){let d=t.data[a],f=Qi(n,t,a,e);if(Gn(f,n),s!==null&&Fx(n,a-o,f,d,e,s),Hn(d)){let g=Kn(e.index,n);g[Bt]=Qi(n,t,a,e)}}}function rg(t,n,e){let i=e.directiveStart,o=e.directiveEnd,r=e.index,s=Q_();try{gi(r);for(let a=i;a<o;a++){let d=t.data[a],f=n[a];cl(a),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&Px(d,f)}}finally{gi(-1),cl(s)}}function Px(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function Sx(t,n){let e=t.directiveRegistry,i=null,o=null;if(e)for(let r=0;r<e.length;r++){let s=e[r];if(d_(n,s.selectors,!1))if(i||(i=[]),Hn(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),i.unshift(...a,s);let d=a.length;bl(t,n,d)}else i.unshift(s),bl(t,n,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,i,o),i.push(s)}return i===null?null:[i,o]}function bl(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function Ix(t,n,e){if(n){let i=t.localNames=[];for(let o=0;o<n.length;o+=2){let r=e[n[o+1]];if(r==null)throw new N(-301,!1);i.push(n[o],r)}}}function Ox(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;Hn(n)&&(e[""]=t)}}function Tx(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function kx(t,n,e,i,o){t.data[i]=o;let r=o.factory||(o.factory=ui(o.type,!0)),s=new mi(r,Hn(o),M);t.blueprint[i]=s,e[i]=s,Mx(t,n,i,tg(t,e,o.hostVars,mt),o)}function Rx(t,n,e){let i=kt(n,t),o=ig(e),r=t[tn].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=ha(t,fa(t,o,null,s,i,n,null,r.createRenderer(i,e),null,null,null));t[n.index]=a}function Ax(t,n,e,i,o,r){let s=kt(t,n);Nx(n[Ie],s,r,t.value,e,i,o)}function Nx(t,n,e,i,o,r,s){if(r==null)t.removeAttribute(n,o,e);else{let a=s==null?Cn(r):s(r,i||"",o);t.setAttribute(n,o,a,e)}}function Fx(t,n,e,i,o,r){let s=r[n];if(s!==null)for(let a=0;a<s.length;){let d=s[a++],f=s[a++],g=s[a++],_=s[a++];eg(i,e,d,f,g,_)}}function Vx(t,n,e){let i=null,o=0;for(;o<e.length;){let r=e[o];if(r===0){o+=4;continue}else if(r===5){o+=2;continue}if(typeof r=="number")break;if(t.hasOwnProperty(r)){i===null&&(i=[]);let s=t[r];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(r,s[a+1],s[a+2],e[o+1]);break}}o+=2}return i}function sg(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function ag(t,n){let e=t.contentQueries;if(e!==null){let i=re(null);try{for(let o=0;o<e.length;o+=2){let r=e[o],s=e[o+1];if(s!==-1){let a=t.data[s];lh(r),a.contentQueries(2,n[s],s)}}}finally{re(i)}}}function ha(t,n){return t[Vo]?t[zp][$t]=n:t[Vo]=n,t[zp]=n,n}function yl(t,n,e){lh(0);let i=re(null);try{n(t,e)}finally{re(i)}}function Lx(t){return t[Ps]??=[]}function jx(t){return t.cleanup??=[]}function cg(t,n){let e=t[qi],i=e?e.get(bn,null):null;i&&i.handleError(n)}function md(t,n,e,i,o){for(let r=0;r<e.length;){let s=e[r++],a=e[r++],d=e[r++],f=n[s],g=t.data[s];eg(g,f,i,a,d,o)}}function vd(t,n,e){let i=Qf(n,t);ZC(t[Ie],i,e)}function Ux(t,n){let e=Kn(n,t),i=e[te];zx(i,e);let o=e[Mn];o!==null&&e[Ds]===null&&(e[Ds]=rd(o,e[qi])),_d(i,e,e[Bt])}function zx(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function _d(t,n,e){Kl(n);try{let i=t.viewQuery;i!==null&&yl(1,i,e);let o=t.template;o!==null&&ng(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Zi]?.finishViewCreation(t),t.staticContentQueries&&ag(t,n),t.staticViewQueries&&yl(2,t.viewQuery,e);let r=t.components;r!==null&&$x(n,r)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[W]&=-5,Ql()}}function $x(t,n){for(let e=0;e<n.length;e++)Ux(t,n[e])}function Bx(t,n,e,i){let o=re(null);try{let r=n.tView,a=t[W]&4096?4096:16,d=fa(t,r,e,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),f=t[n.index];d[Yi]=f;let g=t[Zi];return g!==null&&(d[Zi]=g.createEmbeddedView(r)),_d(r,d,e),d}finally{re(o)}}function of(t,n){return!n||n.firstChild===null||Rh(t)}function Hx(t,n,e,i=!0){let o=n[te];if(ex(o,n,t,e),i){let s=xl(e,t),a=n[Ie],d=Zh(a,t[fi]);d!==null&&JC(o,t[Gt],a,n,d,s)}let r=n[Ds];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function js(t,n,e,i,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let r=n[e.index];r!==null&&i.push(on(r)),wn(r)&&Gx(r,i);let s=e.type;if(s&8)js(t,n,e.child,i);else if(s&32){let a=ad(e,n),d;for(;d=a();)i.push(d)}else if(s&16){let a=Kh(n,e);if(Array.isArray(a))i.push(...a);else{let d=hi(n[nn]);js(d[te],d,a,i,!0)}}e=o?e.projectionNext:e.next}return i}function Gx(t,n){for(let e=Ot;e<t.length;e++){let i=t[e],o=i[te].firstChild;o!==null&&js(i[te],i,o,n)}t[fi]!==t[Mn]&&n.push(t[fi])}var lg=[];function Wx(t){return t[It]??qx(t)}function qx(t){let n=lg.pop()??Object.create(Zx);return n.lView=t,n}function Yx(t){t.lView[It]!==t&&(t.lView=null,lg.push(t))}var Zx=Q(O({},So),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{na(t.lView)},consumerOnSignalRead(){this.lView[It]=this}});function Kx(t){let n=t[It]??Object.create(Qx);return n.lView=t,n}var Qx=Q(O({},So),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=hi(t.lView);for(;n&&!dg(n[te]);)n=hi(n);n&&th(n)},consumerOnSignalRead(){this.lView[It]=this}});function dg(t){return t.type!==2}var Jx=100;function ug(t,n=!0,e=0){let i=t[tn],o=i.rendererFactory,r=!1;r||o.begin?.();try{Xx(t,e)}catch(s){throw n&&cg(t,s),s}finally{r||(o.end?.(),i.inlineEffectRunner?.flush())}}function Xx(t,n){let e=ah();try{Bp(!0),El(t,n);let i=0;for(;ta(t);){if(i===Jx)throw new N(103,!1);i++,El(t,1)}}finally{Bp(e)}}function eb(t,n,e,i){let o=n[W];if((o&256)===256)return;let r=!1,s=!1;!r&&n[tn].inlineEffectRunner?.flush(),Kl(n);let a=!0,d=null,f=null;r||(dg(t)?(f=Wx(n),d=Vr(f)):Yu()===null?(a=!1,f=Kx(n),d=Vr(f)):n[It]&&(_c(n[It]),n[It]=null));try{eh(n),Y_(t.bindingStartIndex),e!==null&&ng(t,n,e,2,i);let g=(o&3)===3;if(!r)if(g){let y=t.preOrderCheckHooks;y!==null&&_s(n,y,null)}else{let y=t.preOrderHooks;y!==null&&Cs(n,y,0,null),Uc(n,0)}if(s||tb(n),pg(n,0),t.contentQueries!==null&&ag(t,n),!r)if(g){let y=t.contentCheckHooks;y!==null&&_s(n,y)}else{let y=t.contentHooks;y!==null&&Cs(n,y,1),Uc(n,1)}hx(t,n);let _=t.components;_!==null&&hg(n,_,0);let E=t.viewQuery;if(E!==null&&yl(2,E,i),!r)if(g){let y=t.viewCheckHooks;y!==null&&_s(n,y)}else{let y=t.viewHooks;y!==null&&Cs(n,y,2),Uc(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[jc]){for(let y of n[jc])y();n[jc]=null}r||(n[W]&=-73)}catch(g){throw r||na(n),g}finally{f!==null&&(mc(f,d),a&&Yx(f)),Ql()}}function pg(t,n){for(let e=Nh(t);e!==null;e=Fh(e))for(let i=Ot;i<e.length;i++){let o=e[i];fg(o,n)}}function tb(t){for(let n=Nh(t);n!==null;n=Fh(n)){if(!(n[W]&Os.HasTransplantedViews))continue;let e=n[Is];for(let i=0;i<e.length;i++){let o=e[i];th(o)}}}function nb(t,n,e){let i=Kn(n,t);fg(i,e)}function fg(t,n){Yl(t)&&El(t,n)}function El(t,n){let i=t[te],o=t[W],r=t[It],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(r?.dirty&&vc(r)),s||=!1,r&&(r.dirty=!1),t[W]&=-9217,s)eb(i,t,i.template,t[Bt]);else if(o&8192){pg(t,1);let a=i.components;a!==null&&hg(t,a,1)}}function hg(t,n,e){for(let i=0;i<n.length;i++)nb(t,n[i],e)}function Cd(t,n){let e=ah()?64:1088;for(t[tn].changeDetectionScheduler?.notify(n);t;){t[W]|=e;let i=hi(t);if(rl(t)&&!i)return t;t=i}return null}var vi=class{get rootNodes(){let n=this._lView,e=n[te];return js(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bt]}set context(n){this._lView[Bt]=n}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[rt];if(wn(n)){let e=n[Ss],i=e?e.indexOf(this):-1;i>-1&&(Cl(n,i),Ms(e,i))}this._attachedToViewContainer=!1}qh(this._lView[te],this._lView)}onDestroy(n){nh(this._lView,n)}markForCheck(){Cd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){al(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,ug(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=rl(this._lView),e=this._lView[Yi];e!==null&&!n&&cd(e,this._lView),Gh(this._lView[te],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=n;let e=rl(this._lView),i=this._lView[Yi];i!==null&&!e&&Wh(i,this._lView),al(this._lView)}},ga=(()=>{class t{static{this.__NG_ELEMENT_ID__=rb}}return t})(),ib=ga,ob=class extends ib{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){let o=Bx(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new vi(o)}};function rb(){return gg(Je(),se())}function gg(t,n){return t.type&4?new ob(n,t,la(t,n)):null}var YN=new RegExp(`^(\\d+)*(${NC}|${AC})*(.*)`);var sb=()=>null;function rf(t,n){return sb(t,n)}var Ji=class{},xd=new F("",{providedIn:"root",factory:()=>!1});var mg=new F(""),vg=new F(""),Ml=class{},Us=class{};function ab(t){let n=Error(`No component factory found for ${ot(t)}.`);return n[cb]=t,n}var cb="ngComponent";var wl=class{resolveComponentFactory(n){throw ab(n)}},Xi=class{static{this.NULL=new wl}},eo=class{},rn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>lb()}}return t})();function lb(){let t=se(),n=Je(),e=Kn(n.index,t);return($n(e)?e:t)[Ie]}var db=(()=>{class t{static{this.\u0275prov=R({token:t,providedIn:"root",factory:()=>null})}}return t})();function zs(t,n,e){let i=e?t.styles:null,o=e?t.classes:null,r=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")r=a;else if(r==1)o=Qc(o,a);else if(r==2){let d=a,f=n[++s];i=Qc(i,d+": "+f+";")}}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=o:t.classesWithoutHost=o}var $s=class extends Xi{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=pi(n);return new Lo(e,this.ngModule)}};function sf(t,n){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let o=t[i];if(o===void 0)continue;let r=Array.isArray(o),s=r?o[0]:o,a=r?o[1]:Bn.None;n?e.push({propName:s,templateName:i,isSignal:(a&Bn.SignalBased)!==0}):e.push({propName:s,templateName:i})}return e}function ub(t){let n=t.toLowerCase();return n==="svg"?Kf:n==="math"?N_:null}var Lo=class extends Us{get inputs(){let n=this.componentDef,e=n.inputTransforms,i=sf(n.inputs,!0);if(e!==null)for(let o of i)e.hasOwnProperty(o.propName)&&(o.transform=e[o.propName]);return i}get outputs(){return sf(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=h_(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,o){let r=re(null);try{o=o||this.ngModule;let s=o instanceof ht?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new ll(n,s):n,d=a.get(eo,null);if(d===null)throw new N(407,!1);let f=a.get(db,null),g=a.get(Ji,null),_={rendererFactory:d,sanitizer:f,inlineEffectRunner:null,changeDetectionScheduler:g},E=d.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",P=i?vx(E,i,this.componentDef.encapsulation,a):Hh(E,y,ub(y)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let k=null;P!==null&&(k=rd(P,a,!0));let G=fd(0,null,null,1,0,null,null,null,null,null,null),fe=fa(null,G,null,T,null,null,_,E,a,null,k);Kl(fe);let ie,Oe,Ze=null;try{let Ue=this.componentDef,gn,pc=null;Ue.findHostDirectiveDefs?(gn=[],pc=new Map,Ue.findHostDirectiveDefs(Ue,gn,pc),gn.push(Ue)):gn=[Ue];let nv=pb(fe,P);Ze=fb(nv,P,Ue,gn,fe,_,E),Oe=Jf(G,Tt),P&&mb(E,Ue,P,i),e!==void 0&&vb(Oe,this.ngContentSelectors,e),ie=gb(Ze,Ue,gn,pc,fe,[_b]),_d(G,fe,null)}catch(Ue){throw Ze!==null&&vl(Ze),vl(fe),Ue}finally{Ql()}return new Dl(this.componentType,ie,la(Oe,fe),fe,Oe)}finally{re(r)}}},Dl=class extends Ml{constructor(n,e,i,o,r){super(),this.location=i,this._rootLView=o,this._tNode=r,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new vi(o,void 0,!1),this.componentType=n}setInput(n,e){let i=this._tNode.inputs,o;if(i!==null&&(o=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let r=this._rootLView;md(r[te],r,o,n,e),this.previousInputValues.set(n,e);let s=Kn(this._tNode.index,r);Cd(s,1)}}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function pb(t,n){let e=t[te],i=Tt;return t[i]=n,Ho(e,i,2,"#host",null)}function fb(t,n,e,i,o,r,s){let a=o[te];hb(i,t,n,s);let d=null;n!==null&&(d=rd(n,o[qi]));let f=r.rendererFactory.createRenderer(n,e),g=16;e.signals?g=4096:e.onPush&&(g=64);let _=fa(o,ig(e),null,g,o[t.index],t,r,f,null,null,d);return a.firstCreatePass&&bl(a,t,i.length-1),ha(o,_),o[t.index]=_}function hb(t,n,e,i){for(let o of t)n.mergedAttrs=No(n.mergedAttrs,o.hostAttrs);n.mergedAttrs!==null&&(zs(n,n.mergedAttrs,!0),e!==null&&Jh(i,e,n))}function gb(t,n,e,i,o,r){let s=Je(),a=o[te],d=kt(s,o);og(a,o,s,e,null,i);for(let g=0;g<e.length;g++){let _=s.directiveStart+g,E=Qi(o,a,_,s);Gn(E,o)}rg(a,o,s),d&&Gn(d,o);let f=Qi(o,a,s.directiveStart+s.componentOffset,s);if(t[Bt]=o[Bt]=f,r!==null)for(let g of r)g(f,n);return dd(a,s,o),f}function mb(t,n,e,i){if(i)tl(t,e,["ng-version","18.2.13"]);else{let{attrs:o,classes:r}=g_(n.selectors[0]);o&&tl(t,e,o),r&&r.length>0&&Qh(t,e,r.join(" "))}}function vb(t,n,e){let i=t.projection=[];for(let o=0;o<n.length;o++){let r=e[o];i.push(r!=null?Array.from(r):null)}}function _b(){let t=Je();ca(se()[te],t)}var oo=(()=>{class t{static{this.__NG_ELEMENT_ID__=Cb}}return t})();function Cb(){let t=Je();return bb(t,se())}var xb=oo,_g=class extends xb{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return la(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){let n=Jl(this._hostTNode,this._hostLView);if(Ch(n)){let e=ks(n,this._hostLView),i=Ts(n),o=e[te].data[i+8];return new di(o,e)}else return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=af(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Ot}createEmbeddedView(n,e,i){let o,r;typeof i=="number"?o=i:i!=null&&(o=i.index,r=i.injector);let s=rf(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},r,s);return this.insertImpl(a,o,of(this._hostTNode,s)),a}createComponent(n,e,i,o,r){let s=n&&!T_(n),a;if(s)a=e;else{let P=e||{};a=P.index,i=P.injector,o=P.projectableNodes,r=P.environmentInjector||P.ngModuleRef}let d=s?n:new Lo(pi(n)),f=i||this.parentInjector;if(!r&&d.ngModule==null){let T=(s?f:this.parentInjector).get(ht,null);T&&(r=T)}let g=pi(d.componentType??{}),_=rf(this._lContainer,g?.id??null),E=_?.firstChild??null,y=d.create(f,o,E,r);return this.insertImpl(y.hostView,a,of(this._hostTNode,_)),y}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){let o=n._lView;if(F_(o)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let d=o[rt],f=new _g(d,d[Gt],d[rt]);f.detach(f.indexOf(n))}}let r=this._adjustIndex(e),s=this._lContainer;return Hx(s,o,r,i),n.attachToViewContainerRef(),Sf(Gc(s),r,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=af(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),i=Cl(this._lContainer,e);i&&(Ms(Gc(this._lContainer),e),qh(i[te],i))}detach(n){let e=this._adjustIndex(n,-1),i=Cl(this._lContainer,e);return i&&Ms(Gc(this._lContainer),e)!=null?new vi(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function af(t){return t[Ss]}function Gc(t){return t[Ss]||(t[Ss]=[])}function bb(t,n){let e,i=n[t.index];return wn(i)?e=i:(e=sg(i,n,null,t),n[t.index]=e,ha(n,e)),Eb(e,n,t,i),new _g(e,t,n)}function yb(t,n){let e=t[Ie],i=e.createComment(""),o=kt(n,t),r=Zh(e,o);return Ls(e,r,i,rx(e,o),!1),i}var Eb=Db,Mb=()=>!1;function wb(t,n,e){return Mb(t,n,e)}function Db(t,n,e,i){if(t[fi])return;let o;e.type&8?o=on(i):o=yb(n,e),t[fi]=o}var cf=new Set;function Go(t){cf.has(t)||(cf.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Pb(t){return typeof t=="function"&&t[mn]!==void 0}function Wo(t,n){Go("NgSignals");let e=rp(t),i=e[mn];return n?.equal&&(i.equal=n.equal),e.set=o=>Cc(i,o),e.update=o=>sp(i,o),e.asReadonly=Sb.bind(e),e}function Sb(){let t=this[mn];if(t.readonlyFn===void 0){let n=()=>this();n[mn]=t,t.readonlyFn=n}return t.readonlyFn}function Cg(t){return Pb(t)&&typeof t.set=="function"}function Ib(t){return Object.getPrototypeOf(t.prototype).constructor}function We(t){let n=Ib(t.type),e=!0,i=[t];for(;n;){let o;if(Hn(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new N(903,!1);o=n.\u0275dir}if(o){if(e){i.push(o);let s=t;s.inputs=hs(t.inputs),s.inputTransforms=hs(t.inputTransforms),s.declaredInputs=hs(t.declaredInputs),s.outputs=hs(t.outputs);let a=o.hostBindings;a&&Ab(t,a);let d=o.viewQuery,f=o.contentQueries;if(d&&kb(t,d),f&&Rb(t,f),Ob(t,o),Vv(t.outputs,o.outputs),Hn(o)&&o.data.animation){let g=t.data;g.animation=(g.animation||[]).concat(o.data.animation)}}let r=o.features;if(r)for(let s=0;s<r.length;s++){let a=r[s];a&&a.ngInherit&&a(t),a===We&&(e=!1)}}n=Object.getPrototypeOf(n)}Tb(i)}function Ob(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let i=n.inputs[e];if(i!==void 0&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let o=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(o))continue;t.inputTransforms??={},t.inputTransforms[o]=n.inputTransforms[o]}}}function Tb(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){let o=t[i];o.hostVars=n+=o.hostVars,o.hostAttrs=No(o.hostAttrs,e=No(e,o.hostAttrs))}}function hs(t){return t===Hi?{}:t===ft?[]:t}function kb(t,n){let e=t.viewQuery;e?t.viewQuery=(i,o)=>{n(i,o),e(i,o)}:t.viewQuery=n}function Rb(t,n){let e=t.contentQueries;e?t.contentQueries=(i,o,r)=>{n(i,o,r),e(i,o,r)}:t.contentQueries=n}function Ab(t,n){let e=t.hostBindings;e?t.hostBindings=(i,o)=>{n(i,o),e(i,o)}:t.hostBindings=n}function bd(t){let n=t.inputConfig,e={};for(let i in n)if(n.hasOwnProperty(i)){let o=n[i];Array.isArray(o)&&o[3]&&(e[i]=o[3])}t.inputTransforms=e}var Wn=class{},jo=class{};var Pl=class extends Wn{constructor(n,e,i,o=!0){super(),this.ngModuleType=n,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $s(this);let r=Vf(n);this._bootstrapComponents=Bh(r.bootstrap),this._r3Injector=Sh(n,e,[{provide:Wn,useValue:this},{provide:Xi,useValue:this.componentFactoryResolver},...i],ot(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Sl=class extends jo{constructor(n){super(),this.moduleType=n}create(n){return new Pl(this.moduleType,n,[])}};var Bs=class extends Wn{constructor(n){super(),this.componentFactoryResolver=new $s(this),this.instance=null;let e=new Fo([...n.providers,{provide:Wn,useValue:this},{provide:Xi,useValue:this.componentFactoryResolver}],n.parent||Wl(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function yd(t,n,e=null){return new Bs({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}function xg(t){return Fb(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Nb(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),i;for(;!(i=e.next()).done;)n(i.value)}}function Fb(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Vb(t,n,e){return t[n]=e}function En(t,n,e){let i=t[n];return Object.is(i,e)?!1:(t[n]=e,!0)}function Ed(t,n,e,i){let o=En(t,n,e);return En(t,n+1,i)||o}function Lb(t,n,e,i,o){let r=Ed(t,n,e,i);return En(t,n+2,o)||r}function jb(t){return(t.flags&32)===32}function Ub(t,n,e,i,o,r,s,a,d){let f=n.consts,g=Ho(n,t,4,s||null,a||null);gd(n,e,g,Ki(f,d)),ca(n,g);let _=g.tView=fd(2,g,i,o,r,n.directiveRegistry,n.pipeRegistry,null,n.schemas,f,null);return n.queries!==null&&(n.queries.template(n,g),_.queries=n.queries.embeddedTView(g)),g}function zb(t,n,e,i,o,r,s,a,d,f){let g=e+Tt,_=n.firstCreatePass?Ub(g,n,t,i,o,r,s,a,d):n.data[g];Ci(_,!1);let E=$b(n,t,_,e);sa()&&ua(n,t,E,_),Gn(E,t);let y=sg(E,t,E,_);return t[g]=y,ha(t,y),wb(y,_,t),ea(_)&&ud(n,t,_),d!=null&&pd(t,_,f),_}function b(t,n,e,i,o,r,s,a){let d=se(),f=Ge(),g=Ki(f.consts,r);return zb(d,f,t,n,e,i,o,g,s,a),b}var $b=Bb;function Bb(t,n,e,i){return aa(!0),n[Ie].createComment("")}var ko=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ko||{}),Hb=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=R({token:t,providedIn:"root",factory:()=>new t})}}return t})(),lf=class t{constructor(){this.ngZone=I(ke),this.scheduler=I(Ji),this.errorHandler=I(bn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ko.EarlyRead,ko.Write,ko.MixedReadWrite,ko.Read]}execute(){this.executing=!0;for(let n of t.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[n]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[n](e.pipelinedValue))}catch(i){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=R({token:t,providedIn:"root",factory:()=>new t})}};function Be(t,n,e,i){let o=se(),r=ia();if(En(o,r,n)){let s=Ge(),a=ra();Ax(a,o,t,n,e,i)}return Be}function bg(t,n,e,i){return En(t,ia(),e)?n+Cn(e)+i:mt}function Gb(t,n,e,i,o,r){let s=ch(),a=Ed(t,s,e,o);return oa(2),a?n+Cn(e)+i+Cn(o)+r:mt}function Wb(t,n,e,i,o,r,s,a){let d=ch(),f=Lb(t,d,e,o,s);return oa(3),f?n+Cn(e)+i+Cn(o)+r+Cn(s)+a:mt}function gs(t,n){return t<<17|n<<2}function _i(t){return t>>17&32767}function qb(t){return(t&2)==2}function Yb(t,n){return t&131071|n<<17}function Il(t){return t|2}function to(t){return(t&131068)>>2}function Wc(t,n){return t&-131069|n<<2}function Zb(t){return(t&1)===1}function Ol(t){return t|1}function Kb(t,n,e,i,o,r){let s=r?n.classBindings:n.styleBindings,a=_i(s),d=to(s);t[i]=e;let f=!1,g;if(Array.isArray(e)){let _=e;g=_[1],(g===null||$o(_,g)>0)&&(f=!0)}else g=e;if(o)if(d!==0){let E=_i(t[a+1]);t[i+1]=gs(E,a),E!==0&&(t[E+1]=Wc(t[E+1],i)),t[a+1]=Yb(t[a+1],i)}else t[i+1]=gs(a,0),a!==0&&(t[a+1]=Wc(t[a+1],i)),a=i;else t[i+1]=gs(d,0),a===0?a=i:t[d+1]=Wc(t[d+1],i),d=i;f&&(t[i+1]=Il(t[i+1])),df(t,g,i,!0),df(t,g,i,!1),Qb(n,g,t,i,r),s=gs(a,d),r?n.classBindings=s:n.styleBindings=s}function Qb(t,n,e,i,o){let r=o?t.residualClasses:t.residualStyles;r!=null&&typeof n=="string"&&$o(r,n)>=0&&(e[i+1]=Ol(e[i+1]))}function df(t,n,e,i){let o=t[e+1],r=n===null,s=i?_i(o):to(o),a=!1;for(;s!==0&&(a===!1||r);){let d=t[s],f=t[s+1];Jb(d,n)&&(a=!0,t[s+1]=i?Ol(f):Il(f)),s=i?_i(f):to(f)}a&&(t[e+1]=i?Il(o):Ol(o))}function Jb(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?$o(t,n)>=0:!1}var zt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xb(t){return t.substring(zt.key,zt.keyEnd)}function ey(t){return ty(t),yg(t,Eg(t,0,zt.textEnd))}function yg(t,n){let e=zt.textEnd;return e===n?-1:(n=zt.keyEnd=ny(t,zt.key=n,e),Eg(t,n,e))}function ty(t){zt.key=0,zt.keyEnd=0,zt.value=0,zt.valueEnd=0,zt.textEnd=t.length}function Eg(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function ny(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function h(t,n,e){let i=se(),o=ia();if(En(i,o,n)){let r=Ge(),s=ra();hd(r,s,i,t,n,i[Ie],e,!1)}return h}function Tl(t,n,e,i,o){let r=n.inputs,s=o?"class":"style";md(t,e,r[s],s,i)}function st(t,n,e){return Mg(t,n,e,!1),st}function B(t,n){return Mg(t,n,null,!0),B}function xi(t){oy(dy,iy,t,!0)}function iy(t,n){for(let e=ey(n);e>=0;e=yg(n,e))Bl(t,Xb(n),!0)}function Mg(t,n,e,i){let o=se(),r=Ge(),s=oa(2);if(r.firstUpdatePass&&Dg(r,t,s,i),n!==mt&&En(o,s,n)){let a=r.data[Dn()];Pg(r,a,o,o[Ie],t,o[s+1]=py(n,e),i,s)}}function oy(t,n,e,i){let o=Ge(),r=oa(2);o.firstUpdatePass&&Dg(o,null,r,i);let s=se();if(e!==mt&&En(s,r,e)){let a=o.data[Dn()];if(Sg(a,i)&&!wg(o,r)){let d=i?a.classesWithoutHost:a.stylesWithoutHost;d!==null&&(e=Qc(d,e||"")),Tl(o,a,s,e,i)}else uy(o,a,s,s[Ie],s[r+1],s[r+1]=ly(t,n,e),i,r)}}function wg(t,n){return n>=t.expandoStartIndex}function Dg(t,n,e,i){let o=t.data;if(o[e+1]===null){let r=o[Dn()],s=wg(t,e);Sg(r,i)&&n===null&&!s&&(n=!1),n=ry(o,r,n,i),Kb(o,r,n,e,s,i)}}function ry(t,n,e,i){let o=J_(t),r=i?n.residualClasses:n.residualStyles;if(o===null)(i?n.classBindings:n.styleBindings)===0&&(e=qc(null,t,n,e,i),e=Uo(e,n.attrs,i),r=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==o)if(e=qc(o,t,n,e,i),r===null){let d=sy(t,n,i);d!==void 0&&Array.isArray(d)&&(d=qc(null,t,n,d[1],i),d=Uo(d,n.attrs,i),ay(t,n,i,d))}else r=cy(t,n,i)}return r!==void 0&&(i?n.residualClasses=r:n.residualStyles=r),e}function sy(t,n,e){let i=e?n.classBindings:n.styleBindings;if(to(i)!==0)return t[_i(i)]}function ay(t,n,e,i){let o=e?n.classBindings:n.styleBindings;t[_i(o)]=i}function cy(t,n,e){let i,o=n.directiveEnd;for(let r=1+n.directiveStylingLast;r<o;r++){let s=t[r].hostAttrs;i=Uo(i,s,e)}return Uo(i,n.attrs,e)}function qc(t,n,e,i,o){let r=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(r=n[a],i=Uo(i,r.hostAttrs,o),r!==t);)a++;return t!==null&&(e.directiveStylingLast=a),i}function Uo(t,n,e){let i=e?1:2,o=-1;if(n!==null)for(let r=0;r<n.length;r++){let s=n[r];typeof s=="number"?o=s:o===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Bl(t,s,e?!0:n[++r]))}return t===void 0?null:t}function ly(t,n,e){if(e==null||e==="")return ft;let i=[],o=io(e);if(Array.isArray(o))for(let r=0;r<o.length;r++)t(i,o[r],!0);else if(typeof o=="object")for(let r in o)o.hasOwnProperty(r)&&t(i,r,o[r]);else typeof o=="string"&&n(i,o);return i}function dy(t,n,e){let i=String(n);i!==""&&!i.includes(" ")&&Bl(t,i,e)}function uy(t,n,e,i,o,r,s,a){o===mt&&(o=ft);let d=0,f=0,g=0<o.length?o[0]:null,_=0<r.length?r[0]:null;for(;g!==null||_!==null;){let E=d<o.length?o[d+1]:void 0,y=f<r.length?r[f+1]:void 0,P=null,T;g===_?(d+=2,f+=2,E!==y&&(P=_,T=y)):_===null||g!==null&&g<_?(d+=2,P=g):(f+=2,P=_,T=y),P!==null&&Pg(t,n,e,i,P,T,s,a),g=d<o.length?o[d]:null,_=f<r.length?r[f]:null}}function Pg(t,n,e,i,o,r,s,a){if(!(n.type&3))return;let d=t.data,f=d[a+1],g=Zb(f)?uf(d,n,e,o,to(f),s):void 0;if(!Hs(g)){Hs(r)||qb(f)&&(r=uf(d,null,e,o,a,s));let _=Qf(Dn(),e);px(i,s,_,o,r)}}function uf(t,n,e,i,o,r){let s=n===null,a;for(;o>0;){let d=t[o],f=Array.isArray(d),g=f?d[1]:d,_=g===null,E=e[o+1];E===mt&&(E=_?ft:void 0);let y=_?Vc(E,i):g===i?E:void 0;if(f&&!Hs(y)&&(y=Vc(d,i)),Hs(y)&&(a=y,s))return a;let P=t[o+1];o=s?_i(P):to(P)}if(n!==null){let d=r?n.residualClasses:n.residualStyles;d!=null&&(a=Vc(d,i))}return a}function Hs(t){return t!==void 0}function py(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=ot(io(t)))),t}function Sg(t,n){return(t.flags&(n?8:16))!==0}function fy(t,n,e,i,o,r){let s=n.consts,a=Ki(s,o),d=Ho(n,t,2,i,a);return gd(n,e,d,Ki(s,r)),d.attrs!==null&&zs(d,d.attrs,!1),d.mergedAttrs!==null&&zs(d,d.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,d),d}function l(t,n,e,i){let o=se(),r=Ge(),s=Tt+t,a=o[Ie],d=r.firstCreatePass?fy(s,r,o,n,e,i):r.data[s],f=hy(r,o,d,a,n,t);o[s]=f;let g=ea(d);return Ci(d,!0),Jh(a,f,d),!jb(d)&&sa()&&ua(r,o,f,d),j_()===0&&Gn(f,o),U_(),g&&(ud(r,o,d),dd(r,d,o)),i!==null&&pd(o,d),l}function c(){let t=Je();Zl()?sh():(t=t.parent,Ci(t,!1));let n=t;B_(n)&&H_(),z_();let e=Ge();return e.firstCreatePass&&(ca(e,t),ql(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&sC(n)&&Tl(e,n,se(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&aC(n)&&Tl(e,n,se(),n.stylesWithoutHost,!1),c}function H(t,n,e,i){return l(t,n,e,i),c(),H}var hy=(t,n,e,i,o,r)=>(aa(!0),Hh(i,o,nC()));function gy(t,n,e,i,o){let r=n.consts,s=Ki(r,i),a=Ho(n,t,8,"ng-container",s);s!==null&&zs(a,s,!0);let d=Ki(r,o);return gd(n,e,a,d),n.queries!==null&&n.queries.elementStart(n,a),a}function ma(t,n,e){let i=se(),o=Ge(),r=t+Tt,s=o.firstCreatePass?gy(r,o,i,n,e):o.data[r];Ci(s,!0);let a=my(o,i,s,t);return i[r]=a,sa()&&ua(o,i,a,s),Gn(a,i),ea(s)&&(ud(o,i,s),dd(o,s,i)),e!=null&&pd(i,s),ma}function va(){let t=Je(),n=Ge();return Zl()?sh():(t=t.parent,Ci(t,!1)),n.firstCreatePass&&(ca(n,t),ql(t)&&n.queries.elementEnd(t)),va}var my=(t,n,e,i)=>(aa(!0),KC(n[Ie],""));function S(){return se()}var ci=void 0;function vy(t){let n=t,e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var _y=["en",[["a","p"],["AM","PM"],ci],[["AM","PM"],ci,ci],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ci,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ci,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ci,"{1} 'at' {0}",ci],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",vy],Yc={};function vt(t){let n=Cy(t),e=pf(n);if(e)return e;let i=n.split("-")[0];if(e=pf(i),e)return e;if(i==="en")return _y;throw new N(701,!1)}function pf(t){return t in Yc||(Yc[t]=li.ng&&li.ng.common&&li.ng.common.locales&&li.ng.common.locales[t]),Yc[t]}var De=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(De||{});function Cy(t){return t.toLowerCase().replace(/_/g,"-")}var Gs="en-US",xy="USD";var by=Gs;function yy(t){typeof t=="string"&&(by=t.toLowerCase().replace(/_/g,"-"))}var Ey=(t,n,e)=>{};function v(t,n,e,i){let o=se(),r=Ge(),s=Je();return Ig(r,o,o[Ie],s,t,n,i),v}function My(t,n,e,i){let o=t.cleanup;if(o!=null)for(let r=0;r<o.length-1;r+=2){let s=o[r];if(s===e&&o[r+1]===i){let a=n[Ps],d=o[r+2];return a.length>d?a[d]:null}typeof s=="string"&&(r+=2)}return null}function Ig(t,n,e,i,o,r,s){let a=ea(i),f=t.firstCreatePass&&jx(t),g=n[Bt],_=Lx(n),E=!0;if(i.type&3||s){let T=kt(i,n),k=s?s(T):T,G=_.length,fe=s?Oe=>s(on(Oe[i.index])):i.index,ie=null;if(!s&&a&&(ie=My(t,n,o,i.index)),ie!==null){let Oe=ie.__ngLastListenerFn__||ie;Oe.__ngNextListenerFn__=r,ie.__ngLastListenerFn__=r,E=!1}else{r=hf(i,n,g,r),Ey(T,o,r);let Oe=e.listen(k,o,r);_.push(r,Oe),f&&f.push(o,fe,G,G+1)}}else r=hf(i,n,g,r);let y=i.outputs,P;if(E&&y!==null&&(P=y[o])){let T=P.length;if(T)for(let k=0;k<T;k+=2){let G=P[k],fe=P[k+1],Ze=n[G][fe].subscribe(r),Ue=_.length;_.push(r,Ze),f&&f.push(o,i.index,Ue,-(Ue+1))}}}function ff(t,n,e,i){let o=re(null);try{return Jt(6,n,e),e(i)!==!1}catch(r){return cg(t,r),!1}finally{Jt(7,n,e),re(o)}}function hf(t,n,e,i){return function o(r){if(r===Function)return i;let s=t.componentOffset>-1?Kn(t.index,n):n;Cd(s,5);let a=ff(n,e,i,r),d=o.__ngNextListenerFn__;for(;d;)a=ff(n,e,d,r)&&a,d=d.__ngNextListenerFn__;return a}}function m(t=1){return eC(t)}function _a(t,n,e,i,o){let r=se(),s=bg(r,n,e,i);if(s!==mt){let a=Ge(),d=ra();hd(a,d,r,t,s,r[Ie],o,!1)}return _a}function wy(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}function qe(t){let n=W_();return Xf(n,Tt+t)}function u(t,n=""){let e=se(),i=Ge(),o=t+Tt,r=i.firstCreatePass?Ho(i,o,1,n,null):i.data[o],s=Dy(i,e,r,n,t);e[o]=s,sa()&&ua(i,e,s,r),Ci(r,!1)}var Dy=(t,n,e,i,o)=>(aa(!0),YC(n[Ie],i));function w(t){return D("",t,""),w}function D(t,n,e){let i=se(),o=bg(i,t,n,e);return o!==mt&&vd(i,Dn(),o),D}function Pe(t,n,e,i,o){let r=se(),s=Gb(r,t,n,e,i,o);return s!==mt&&vd(r,Dn(),s),Pe}function Md(t,n,e,i,o,r,s){let a=se(),d=Wb(a,t,n,e,i,o,r,s);return d!==mt&&vd(a,Dn(),d),Md}function V(t,n,e){Cg(n)&&(n=n());let i=se(),o=ia();if(En(i,o,n)){let r=Ge(),s=ra();hd(r,s,i,t,n,i[Ie],e,!1)}return V}function j(t,n){let e=Cg(t);return e&&t.set(n),e}function L(t,n){let e=se(),i=Ge(),o=Je();return Ig(i,e,e[Ie],o,t,n),L}function Py(t,n,e){let i=Ge();if(i.firstCreatePass){let o=Hn(t);kl(e,i.data,i.blueprint,o,!0),kl(n,i.data,i.blueprint,o,!1)}}function kl(t,n,e,i,o){if(t=it(t),Array.isArray(t))for(let r=0;r<t.length;r++)kl(t[r],n,e,i,o);else{let r=Ge(),s=se(),a=Je(),d=Wi(t)?t:it(t.provide),f=Bf(t),g=a.providerIndexes&1048575,_=a.directiveStart,E=a.providerIndexes>>20;if(Wi(t)||!t.multi){let y=new mi(f,o,M),P=Kc(d,n,o?g:g+E,_);P===-1?(ul(As(a,s),r,d),Zc(r,t,n.length),n.push(d),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(y),s.push(y)):(e[P]=y,s[P]=y)}else{let y=Kc(d,n,g+E,_),P=Kc(d,n,g,g+E),T=y>=0&&e[y],k=P>=0&&e[P];if(o&&!k||!o&&!T){ul(As(a,s),r,d);let G=Oy(o?Iy:Sy,e.length,o,i,f);!o&&k&&(e[P].providerFactory=G),Zc(r,t,n.length,0),n.push(d),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(G),s.push(G)}else{let G=Og(e[o?P:y],f,!o&&i);Zc(r,t,y>-1?y:P,G)}!o&&i&&k&&e[P].componentProviders++}}}function Zc(t,n,e,i){let o=Wi(n),r=E_(n);if(o||r){let d=(r?it(n.useClass):n).prototype.ngOnDestroy;if(d){let f=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){let g=f.indexOf(e);g===-1?f.push(e,[i,d]):f[g+1].push(i,d)}else f.push(e,d)}}}function Og(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Kc(t,n,e,i){for(let o=e;o<i;o++)if(n[o]===t)return o;return-1}function Sy(t,n,e,i){return Rl(this.multi,[])}function Iy(t,n,e,i){let o=this.multi,r;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Qi(e,e[te],this.providerFactory.index,i);r=a.slice(0,s),Rl(o,r);for(let d=s;d<a.length;d++)r.push(a[d])}else r=[],Rl(o,r);return r}function Rl(t,n){for(let e=0;e<t.length;e++){let i=t[e];n.push(i())}return n}function Oy(t,n,e,i,o){let r=new mi(t,e,M);return r.multi=[],r.index=n,r.componentProviders=0,Og(r,o,i&&!e),r}function _t(t,n=[]){return e=>{e.providersResolver=(i,o)=>Py(i,o?o(t):t,n)}}var Ty=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=Uf(!1,e.type),o=i.length>0?yd([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=R({token:t,providedIn:"environment",factory:()=>new t(z(ht))})}}return t})();function ue(t){Go("NgStandalone"),t.getStandaloneInjector=n=>n.get(Ty).getOrCreateStandaloneInjector(t)}function ky(t,n){let e=t[n];return e===mt?void 0:e}function Ry(t,n,e,i,o,r,s){let a=n+e;return Ed(t,a,o,r)?Vb(t,a+2,s?i.call(s,o,r):i(o,r)):ky(t,a+2)}function Xe(t,n){let e=Ge(),i,o=t+Tt;e.firstCreatePass?(i=Ay(n,e.pipeRegistry),e.data[o]=i,i.onDestroy&&(e.destroyHooks??=[]).push(o,i.onDestroy)):i=e.data[o];let r=i.factory||(i.factory=ui(i.type,!0)),s,a=pt(M);try{let d=Rs(!1),f=r();return Rs(d),wy(e,se(),o,f),f}finally{pt(a)}}function Ay(t,n){if(n)for(let e=n.length-1;e>=0;e--){let i=n[e];if(t===i.name)return i}}function et(t,n,e,i){let o=t+Tt,r=se(),s=Xf(r,o);return Ny(r,o)?Ry(r,q_(),n,s.transform,e,i,s):s.transform(e,i)}function Ny(t,n){return t[te].data[n].pure}function Ca(t,n){return gg(t,n)}var xa=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var Tg=new F("");function bi(t){return!!t&&typeof t.then=="function"}function kg(t){return!!t&&typeof t.subscribe=="function"}var Rg=new F(""),Ag=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=I(Rg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let r=o();if(bi(r))e.push(r);else if(kg(r)){let s=new Promise((a,d)=>{r.subscribe({complete:a,error:d})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(o=>{this.reject(o)}),e.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ba=new F("");function Fy(){op(()=>{throw new N(600,!1)})}function Vy(t){return t.isBoundToModule}var Ly=10;function jy(t,n,e){try{let i=e();return bi(i)?i.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}var Xn=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(PC),this.afterRenderManager=I(Hb),this.zonelessEnabled=I(xd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new He,this.afterTick=new He,this.componentTypes=[],this.components=[],this.isStable=I(Pn).hasPendingTasks.pipe(U(e=>!e)),this._injector=I(ht)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,i){let o=e instanceof Us;if(!this._injector.get(Ag).done){let E=!o&&Ff(e),y=!1;throw new N(405,y)}let s;o?s=e:s=this._injector.get(Xi).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=Vy(s)?void 0:this._injector.get(Wn),d=i||s.selector,f=s.create(xn.NULL,[],d,a),g=f.location.nativeElement,_=f.injector.get(Tg,null);return _?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),xs(this.components,f),_?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new N(101,!1);let e=re(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,re(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(eo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<Ly;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:r}of this._views)Uy(o,r,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>ta(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;xs(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let i=this._injector.get(ba,[]);[...this._bootstrapListeners,...i].forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>xs(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new N(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function xs(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Uy(t,n,e,i){if(!e&&!ta(t))return;ug(t,n,e&&!i?0:1)}var Al=class{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},wd=(()=>{class t{compileModuleSync(e){return new Sl(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),o=Vf(e),r=Bh(o.declarations).reduce((s,a)=>{let d=pi(a);return d&&s.push(new Lo(d)),s},[]);return new Al(i,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var zy=(()=>{class t{constructor(){this.zone=I(ke),this.changeDetectionScheduler=I(Ji),this.applicationRef=I(Xn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function $y({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new ke(Q(O({},By()),{scheduleInRootZone:e})),[{provide:ke,useFactory:t},{provide:Gi,multi:!0,useFactory:()=>{let i=I(zy,{optional:!0});return()=>i.initialize()}},{provide:Gi,multi:!0,useFactory:()=>{let i=I(Hy);return()=>{i.initialize()}}},n===!0?{provide:mg,useValue:!0}:[],{provide:vg,useValue:e??Ih}]}function By(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Hy=(()=>{class t{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=I(ke),this.pendingTasks=I(Pn)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Gy=(()=>{class t{constructor(){this.appRef=I(Xn),this.taskService=I(Pn),this.ngZone=I(ke),this.zonelessEnabled=I(xd),this.disableScheduling=I(mg,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ae,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fs):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(I(vg,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ml||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Yp:Th;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fs+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(e),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Yp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Wy(){return typeof $localize<"u"&&$localize.locale||Gs}var ro=new F("",{providedIn:"root",factory:()=>I(ro,J.Optional|J.SkipSelf)||Wy()}),Ng=new F("",{providedIn:"root",factory:()=>xy});var Nl=new F("");function ms(t){return!t.moduleRef}function qy(t){let n=ms(t)?t.r3Injector:t.moduleRef.injector,e=n.get(ke);return e.run(()=>{ms(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=n.get(bn,null),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:r=>{i.handleError(r)}})}),ms(t)){let r=()=>n.destroy(),s=t.platformInjector.get(Nl);s.add(r),n.onDestroy(()=>{o.unsubscribe(),s.delete(r)})}else{let r=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Nl);s.add(r),t.moduleRef.onDestroy(()=>{xs(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(r)})}return jy(i,e,()=>{let r=n.get(Ag);return r.runInitializers(),r.donePromise.then(()=>{let s=n.get(ro,Gs);if(yy(s||Gs),ms(t)){let a=n.get(Xn);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return Yy(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Yy(t,n){let e=t.injector.get(Xn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>e.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new N(-403,!1);n.push(t)}var bs=null;function Zy(t=[],n){return xn.create({name:n,providers:[{provide:Qs,useValue:"platform"},{provide:Nl,useValue:new Set([()=>bs=null])},...t]})}function Ky(t=[]){if(bs)return bs;let n=Zy(t);return bs=n,Fy(),Qy(n),n}function Qy(t){t.get(id,null)?.forEach(e=>e())}var qt=(()=>{class t{static{this.__NG_ELEMENT_ID__=Jy}}return t})();function Jy(t){return Xy(Je(),se(),(t&16)===16)}function Xy(t,n,e){if(Xs(t)&&!e){let i=Kn(t.index,n);return new vi(i,i)}else if(t.type&175){let i=n[nn];return new vi(i,n)}return null}var Fl=class{constructor(){}supports(n){return xg(n)}create(n){return new Vl(n)}},e1=(t,n)=>n,Vl=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||e1}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,o=0,r=null;for(;e||i;){let s=!i||e&&e.currentIndex<gf(i,o,r)?e:i,a=gf(s,o,r),d=s.currentIndex;if(s===i)o--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)o++;else{r||(r=[]);let f=a-o,g=d-o;if(f!=g){for(let E=0;E<f;E++){let y=E<r.length?r[E]:r[E]=0,P=y+E;g<=P&&P<f&&(r[E]=y+1)}let _=s.previousIndex;r[_]=g-f}}a!==d&&n(s,a,d)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!xg(n))throw new N(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,i=!1,o,r,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)r=n[a],s=this._trackByFn(a,r),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,r,s,a),i=!0):(i&&(e=this._verifyReinsertion(e,r,s,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)),e=e._next}else o=0,Nb(n,a=>{s=this._trackByFn(o,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,o),i=!0):(i&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,o){let r;return n===null?r=this._itTail:(r=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,r,o)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,o),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,r,o)):n=this._addAfter(new Ll(e,i),r,o)),n}_verifyReinsertion(n,e,i,o){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return r!==null?n=this._reinsertAfter(r,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let o=n._prevRemoved,r=n._nextRemoved;return o===null?this._removalsHead=r:o._nextRemoved=r,r===null?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){let o=e===null?this._itHead:e._next;return n._next=o,n._prev=e,o===null?this._itTail=n:o._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new Ws),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,i=n._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ws),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Ll=class{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},jl=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let e=n._prevDup,i=n._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},Ws=class{constructor(){this.map=new Map}put(n){let e=n.trackById,i=this.map.get(e);i||(i=new jl,this.map.set(e,i)),i.add(n)}get(n,e){let i=n,o=this.map.get(i);return o?o.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function gf(t,n,e){let i=t.previousIndex;if(i===null)return i;let o=0;return e&&i<e.length&&(o=e[i]),i+n+o}function mf(){return new Dd([new Fl])}var Dd=(()=>{class t{static{this.\u0275prov=R({token:t,providedIn:"root",factory:mf})}constructor(e){this.factories=e}static create(e,i){if(i!=null){let o=i.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||mf()),deps:[[t,new Pf,new zl]]}}find(e){let i=this.factories.find(o=>o.supports(e));if(i!=null)return i;throw new N(901,!1)}}return t})();function Fg(t){try{let{rootComponent:n,appProviders:e,platformProviders:i}=t,o=Ky(i),r=[$y({}),{provide:Ji,useExisting:Gy},...e||[]],s=new Bs({providers:r,parent:o,debugName:"",runEnvironmentInitializers:!1});return qy({r3Injector:s.injector,platformInjector:o,rootComponent:n})}catch(n){return Promise.reject(n)}}function Sn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function qo(t,n){Go("NgSignals");let e=tp(t);return n?.equal&&(e[mn].equal=n.equal),e}function In(t){let n=re(null);try{return t()}finally{re(n)}}var Hg=null;function kn(){return Hg}function Gg(t){Hg??=t}var Oa=class{};var Ct=new F(""),Wg=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:()=>I(n1),providedIn:"platform"})}}return t})();var n1=(()=>{class t extends Wg{constructor(){super(),this._doc=I(Ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kn().getBaseHref(this._doc)}onPopState(e){let i=kn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=kn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function qg(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function Vg(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,i=e-(t[e-1]==="/"?1:0);return t.slice(0,i)+t.slice(e)}function yi(t){return t&&t[0]!=="?"?"?"+t:t}var ao=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:()=>I(Yg),providedIn:"root"})}}return t})(),i1=new F(""),Yg=(()=>{class t extends ao{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??I(Ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return qg(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+yi(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,r){let s=this.prepareExternalUrl(o+yi(r));this._platformLocation.pushState(e,i,s)}replaceState(e,i,o,r){let s=this.prepareExternalUrl(o+yi(r));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(z(Wg),z(i1,8))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Zo=(()=>{class t{constructor(e){this._subject=new Ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=s1(Vg(Lg(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+yi(i))}normalize(e){return t.stripTrailingSlash(r1(this._basePath,Lg(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+yi(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+yi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}static{this.normalizeQueryParams=yi}static{this.joinWithSlash=qg}static{this.stripTrailingSlash=Vg}static{this.\u0275fac=function(i){return new(i||t)(z(ao))}}static{this.\u0275prov=R({token:t,factory:()=>o1(),providedIn:"root"})}}return t})();function o1(){return new Zo(z(ao))}function r1(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function Lg(t){return t.replace(/\/index.html$/,"")}function s1(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var Zg={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Nd=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Nd||{});var at=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(at||{}),ve=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ve||{}),Dt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Dt||{}),tt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function a1(t){return vt(t)[De.LocaleId]}function c1(t,n,e){let i=vt(t),o=[i[De.DayPeriodsFormat],i[De.DayPeriodsStandalone]],r=Rt(o,n);return Rt(r,e)}function l1(t,n,e){let i=vt(t),o=[i[De.DaysFormat],i[De.DaysStandalone]],r=Rt(o,n);return Rt(r,e)}function d1(t,n,e){let i=vt(t),o=[i[De.MonthsFormat],i[De.MonthsStandalone]],r=Rt(o,n);return Rt(r,e)}function u1(t,n){let i=vt(t)[De.Eras];return Rt(i,n)}function ya(t,n){let e=vt(t);return Rt(e[De.DateFormat],n)}function Ea(t,n){let e=vt(t);return Rt(e[De.TimeFormat],n)}function Ma(t,n){let i=vt(t)[De.DateTimeFormat];return Rt(i,n)}function sn(t,n){let e=vt(t),i=e[De.NumberSymbols][n];if(typeof i>"u"){if(n===tt.CurrencyDecimal)return e[De.NumberSymbols][tt.Decimal];if(n===tt.CurrencyGroup)return e[De.NumberSymbols][tt.Group]}return i}function Kg(t,n){return vt(t)[De.NumberFormats][n]}function p1(t){return vt(t)[De.Currencies]}function Qg(t){if(!t[De.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[De.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function f1(t){let n=vt(t);return Qg(n),(n[De.ExtraData][2]||[]).map(i=>typeof i=="string"?Pd(i):[Pd(i[0]),Pd(i[1])])}function h1(t,n,e){let i=vt(t);Qg(i);let o=[i[De.ExtraData][0],i[De.ExtraData][1]],r=Rt(o,n)||[];return Rt(r,e)||[]}function Rt(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function Pd(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}function g1(t,n,e="en"){let i=p1(e)[t]||Zg[t]||[],o=i[1];return n==="narrow"&&typeof o=="string"?o:i[0]||t}var m1=2;function v1(t){let n,e=Zg[t];return e&&(n=e[2]),typeof n=="number"?n:m1}var _1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wa={},C1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Tn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Tn||{}),ce=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ce||{}),ae=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ae||{});function x1(t,n,e,i){let o=I1(t);n=On(e,n)||n;let s=[],a;for(;n;)if(a=C1.exec(n),a){s=s.concat(a.slice(1));let g=s.pop();if(!g)break;n=g}else{s.push(n);break}let d=o.getTimezoneOffset();i&&(d=Xg(i,d),o=S1(o,i,!0));let f="";return s.forEach(g=>{let _=D1(g);f+=_?_(o,e,d):g==="''"?"'":g.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function Ta(t,n,e){let i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function On(t,n){let e=a1(t);if(wa[e]??={},wa[e][n])return wa[e][n];let i="";switch(n){case"shortDate":i=ya(t,Dt.Short);break;case"mediumDate":i=ya(t,Dt.Medium);break;case"longDate":i=ya(t,Dt.Long);break;case"fullDate":i=ya(t,Dt.Full);break;case"shortTime":i=Ea(t,Dt.Short);break;case"mediumTime":i=Ea(t,Dt.Medium);break;case"longTime":i=Ea(t,Dt.Long);break;case"fullTime":i=Ea(t,Dt.Full);break;case"short":let o=On(t,"shortTime"),r=On(t,"shortDate");i=Da(Ma(t,Dt.Short),[o,r]);break;case"medium":let s=On(t,"mediumTime"),a=On(t,"mediumDate");i=Da(Ma(t,Dt.Medium),[s,a]);break;case"long":let d=On(t,"longTime"),f=On(t,"longDate");i=Da(Ma(t,Dt.Long),[d,f]);break;case"full":let g=On(t,"fullTime"),_=On(t,"fullDate");i=Da(Ma(t,Dt.Full),[g,_]);break}return i&&(wa[e][n]=i),i}function Da(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return n!=null&&i in n?n[i]:e})),t}function Yt(t,n,e="-",i,o){let r="";(t<0||o&&t<=0)&&(o?t=-t+1:(t=-t,r=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),r+s}function b1(t,n){return Yt(t,3).substring(0,n)}function Le(t,n,e=0,i=!1,o=!1){return function(r,s){let a=y1(t,r);if((e>0||a>-e)&&(a+=e),t===ce.Hours)a===0&&e===-12&&(a=12);else if(t===ce.FractionalSeconds)return b1(a,n);let d=sn(s,tt.MinusSign);return Yt(a,n,d,i,o)}}function y1(t,n){switch(t){case ce.FullYear:return n.getFullYear();case ce.Month:return n.getMonth();case ce.Date:return n.getDate();case ce.Hours:return n.getHours();case ce.Minutes:return n.getMinutes();case ce.Seconds:return n.getSeconds();case ce.FractionalSeconds:return n.getMilliseconds();case ce.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function xe(t,n,e=at.Format,i=!1){return function(o,r){return E1(o,r,t,n,e,i)}}function E1(t,n,e,i,o,r){switch(e){case ae.Months:return d1(n,o,i)[t.getMonth()];case ae.Days:return l1(n,o,i)[t.getDay()];case ae.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(r){let f=f1(n),g=h1(n,o,i),_=f.findIndex(E=>{if(Array.isArray(E)){let[y,P]=E,T=s>=y.hours&&a>=y.minutes,k=s<P.hours||s===P.hours&&a<P.minutes;if(y.hours<P.hours){if(T&&k)return!0}else if(T||k)return!0}else if(E.hours===s&&E.minutes===a)return!0;return!1});if(_!==-1)return g[_]}return c1(n,o,i)[s<12?0:1];case ae.Eras:return u1(n,i)[t.getFullYear()<=0?0:1];default:let d=e;throw new Error(`unexpected translation type ${d}`)}}function Pa(t){return function(n,e,i){let o=-1*i,r=sn(e,tt.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case Tn.Short:return(o>=0?"+":"")+Yt(s,2,r)+Yt(Math.abs(o%60),2,r);case Tn.ShortGMT:return"GMT"+(o>=0?"+":"")+Yt(s,1,r);case Tn.Long:return"GMT"+(o>=0?"+":"")+Yt(s,2,r)+":"+Yt(Math.abs(o%60),2,r);case Tn.Extended:return i===0?"Z":(o>=0?"+":"")+Yt(s,2,r)+":"+Yt(Math.abs(o%60),2,r);default:throw new Error(`Unknown zone width "${t}"`)}}}var M1=0,Ia=4;function w1(t){let n=Ta(t,M1,1).getDay();return Ta(t,0,1+(n<=Ia?Ia:Ia+7)-n)}function Jg(t){let n=t.getDay(),e=n===0?-3:Ia-n;return Ta(t.getFullYear(),t.getMonth(),t.getDate()+e)}function Sd(t,n=!1){return function(e,i){let o;if(n){let r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();o=1+Math.floor((s+r)/7)}else{let r=Jg(e),s=w1(r.getFullYear()),a=r.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Yt(o,t,sn(i,tt.MinusSign))}}function Sa(t,n=!1){return function(e,i){let r=Jg(e).getFullYear();return Yt(r,t,sn(i,tt.MinusSign),n)}}var Id={};function D1(t){if(Id[t])return Id[t];let n;switch(t){case"G":case"GG":case"GGG":n=xe(ae.Eras,ve.Abbreviated);break;case"GGGG":n=xe(ae.Eras,ve.Wide);break;case"GGGGG":n=xe(ae.Eras,ve.Narrow);break;case"y":n=Le(ce.FullYear,1,0,!1,!0);break;case"yy":n=Le(ce.FullYear,2,0,!0,!0);break;case"yyy":n=Le(ce.FullYear,3,0,!1,!0);break;case"yyyy":n=Le(ce.FullYear,4,0,!1,!0);break;case"Y":n=Sa(1);break;case"YY":n=Sa(2,!0);break;case"YYY":n=Sa(3);break;case"YYYY":n=Sa(4);break;case"M":case"L":n=Le(ce.Month,1,1);break;case"MM":case"LL":n=Le(ce.Month,2,1);break;case"MMM":n=xe(ae.Months,ve.Abbreviated);break;case"MMMM":n=xe(ae.Months,ve.Wide);break;case"MMMMM":n=xe(ae.Months,ve.Narrow);break;case"LLL":n=xe(ae.Months,ve.Abbreviated,at.Standalone);break;case"LLLL":n=xe(ae.Months,ve.Wide,at.Standalone);break;case"LLLLL":n=xe(ae.Months,ve.Narrow,at.Standalone);break;case"w":n=Sd(1);break;case"ww":n=Sd(2);break;case"W":n=Sd(1,!0);break;case"d":n=Le(ce.Date,1);break;case"dd":n=Le(ce.Date,2);break;case"c":case"cc":n=Le(ce.Day,1);break;case"ccc":n=xe(ae.Days,ve.Abbreviated,at.Standalone);break;case"cccc":n=xe(ae.Days,ve.Wide,at.Standalone);break;case"ccccc":n=xe(ae.Days,ve.Narrow,at.Standalone);break;case"cccccc":n=xe(ae.Days,ve.Short,at.Standalone);break;case"E":case"EE":case"EEE":n=xe(ae.Days,ve.Abbreviated);break;case"EEEE":n=xe(ae.Days,ve.Wide);break;case"EEEEE":n=xe(ae.Days,ve.Narrow);break;case"EEEEEE":n=xe(ae.Days,ve.Short);break;case"a":case"aa":case"aaa":n=xe(ae.DayPeriods,ve.Abbreviated);break;case"aaaa":n=xe(ae.DayPeriods,ve.Wide);break;case"aaaaa":n=xe(ae.DayPeriods,ve.Narrow);break;case"b":case"bb":case"bbb":n=xe(ae.DayPeriods,ve.Abbreviated,at.Standalone,!0);break;case"bbbb":n=xe(ae.DayPeriods,ve.Wide,at.Standalone,!0);break;case"bbbbb":n=xe(ae.DayPeriods,ve.Narrow,at.Standalone,!0);break;case"B":case"BB":case"BBB":n=xe(ae.DayPeriods,ve.Abbreviated,at.Format,!0);break;case"BBBB":n=xe(ae.DayPeriods,ve.Wide,at.Format,!0);break;case"BBBBB":n=xe(ae.DayPeriods,ve.Narrow,at.Format,!0);break;case"h":n=Le(ce.Hours,1,-12);break;case"hh":n=Le(ce.Hours,2,-12);break;case"H":n=Le(ce.Hours,1);break;case"HH":n=Le(ce.Hours,2);break;case"m":n=Le(ce.Minutes,1);break;case"mm":n=Le(ce.Minutes,2);break;case"s":n=Le(ce.Seconds,1);break;case"ss":n=Le(ce.Seconds,2);break;case"S":n=Le(ce.FractionalSeconds,1);break;case"SS":n=Le(ce.FractionalSeconds,2);break;case"SSS":n=Le(ce.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Pa(Tn.Short);break;case"ZZZZZ":n=Pa(Tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Pa(Tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Pa(Tn.Long);break;default:return null}return Id[t]=n,n}function Xg(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function P1(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function S1(t,n,e){let i=e?-1:1,o=t.getTimezoneOffset(),r=Xg(n,o);return P1(t,i*(r-o))}function I1(t){if(jg(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[o,r=1,s=1]=t.split("-").map(a=>+a);return Ta(o,r-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(_1))return O1(i)}let n=new Date(t);if(!jg(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function O1(t){let n=new Date(0),e=0,i=0,o=t[8]?n.setUTCFullYear:n.setFullYear,r=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),o.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,a=Number(t[5]||0)-i,d=Number(t[6]||0),f=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return r.call(n,s,a,d,f),n}function jg(t){return t instanceof Date&&!isNaN(t.valueOf())}var T1=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ug=22,ka=".",Yo="0",k1=";",R1=",",Od="#",zg="\xA4";function em(t,n,e,i,o,r,s=!1){let a="",d=!1;if(!isFinite(t))a=sn(e,tt.Infinity);else{let f=V1(t);s&&(f=F1(f));let g=n.minInt,_=n.minFrac,E=n.maxFrac;if(r){let fe=r.match(T1);if(fe===null)throw new Error(`${r} is not a valid digit info`);let ie=fe[1],Oe=fe[3],Ze=fe[5];ie!=null&&(g=Td(ie)),Oe!=null&&(_=Td(Oe)),Ze!=null?E=Td(Ze):Oe!=null&&_>E&&(E=_)}L1(f,_,E);let y=f.digits,P=f.integerLen,T=f.exponent,k=[];for(d=y.every(fe=>!fe);P<g;P++)y.unshift(0);for(;P<0;P++)y.unshift(0);P>0?k=y.splice(P,y.length):(k=y,y=[0]);let G=[];for(y.length>=n.lgSize&&G.unshift(y.splice(-n.lgSize,y.length).join(""));y.length>n.gSize;)G.unshift(y.splice(-n.gSize,y.length).join(""));y.length&&G.unshift(y.join("")),a=G.join(sn(e,i)),k.length&&(a+=sn(e,o)+k.join("")),T&&(a+=sn(e,tt.Exponential)+"+"+T)}return t<0&&!d?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function A1(t,n,e,i,o){let r=Kg(n,Nd.Currency),s=tm(r,sn(n,tt.MinusSign));return s.minFrac=v1(i),s.maxFrac=s.minFrac,em(t,s,n,tt.CurrencyGroup,tt.CurrencyDecimal,o).replace(zg,e).replace(zg,"").trim()}function N1(t,n,e){let i=Kg(n,Nd.Decimal),o=tm(i,sn(n,tt.MinusSign));return em(t,o,n,tt.Group,tt.Decimal,e)}function tm(t,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(k1),o=i[0],r=i[1],s=o.indexOf(ka)!==-1?o.split(ka):[o.substring(0,o.lastIndexOf(Yo)+1),o.substring(o.lastIndexOf(Yo)+1)],a=s[0],d=s[1]||"";e.posPre=a.substring(0,a.indexOf(Od));for(let g=0;g<d.length;g++){let _=d.charAt(g);_===Yo?e.minFrac=e.maxFrac=g+1:_===Od?e.maxFrac=g+1:e.posSuf+=_}let f=a.split(R1);if(e.gSize=f[1]?f[1].length:0,e.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,r){let g=o.length-e.posPre.length-e.posSuf.length,_=r.indexOf(Od);e.negPre=r.substring(0,_).replace(/'/g,""),e.negSuf=r.slice(_+g).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function F1(t){if(t.digits[0]===0)return t;let n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(n===0?t.digits.push(0,0):n===1&&t.digits.push(0),t.integerLen+=2),t}function V1(t){let n=Math.abs(t)+"",e=0,i,o,r,s,a;for((o=n.indexOf(ka))>-1&&(n=n.replace(ka,"")),(r=n.search(/e/i))>0?(o<0&&(o=r),o+=+n.slice(r+1),n=n.substring(0,r)):o<0&&(o=n.length),r=0;n.charAt(r)===Yo;r++);if(r===(a=n.length))i=[0],o=1;else{for(a--;n.charAt(a)===Yo;)a--;for(o-=r,i=[],s=0;r<=a;r++,s++)i[s]=Number(n.charAt(r))}return o>Ug&&(i=i.splice(0,Ug-1),e=o-1,o=1),{digits:i,exponent:e,integerLen:o}}function L1(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let i=t.digits,o=i.length-t.integerLen,r=Math.min(Math.max(n,o),e),s=r+t.integerLen,a=i[s];if(s>0){i.splice(Math.max(t.integerLen,s));for(let _=s;_<i.length;_++)i[_]=0}else{o=Math.max(0,o),t.integerLen=1,i.length=Math.max(1,s=r+1),i[0]=0;for(let _=1;_<s;_++)i[_]=0}if(a>=5)if(s-1<0){for(let _=0;_>s;_--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[s-1]++;for(;o<Math.max(0,r);o++)i.push(0);let d=r!==0,f=n+t.integerLen,g=i.reduceRight(function(_,E,y,P){return E=E+_,P[y]=E<10?E:E-10,d&&(P[y]===0&&y>=f?P.pop():d=!1),E>=10?1:0},0);g&&(i.unshift(g),t.integerLen++)}function Td(t){let n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function Ra(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let i=e.indexOf("="),[o,r]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===n)return decodeURIComponent(r)}return null}var kd=class{constructor(n,e,i,o){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},je=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((o,r,s)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new kd(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(r===null?void 0:r);else if(r!==null){let a=i.get(r);i.move(a,s),$g(a,o)}});for(let o=0,r=i.length;o<r;o++){let a=i.get(o).context;a.index=o,a.count=r,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{let r=i.get(o.currentIndex);$g(r,o)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(M(oo),M(ga),M(Dd))}}static{this.\u0275dir=he({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function $g(t,n){t.context.$implicit=n.item}var be=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Rd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Bg("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Bg("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(M(oo),M(ga))}}static{this.\u0275dir=he({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Rd=class{constructor(){this.$implicit=null,this.ngIf=null}};function Bg(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ot(n)}'.`)}function Fd(t,n){return new N(2100,!1)}var j1="mediumDate",U1=new F(""),z1=new F(""),nm=(()=>{class t{constructor(e,i,o){this.locale=e,this.defaultTimezone=i,this.defaultOptions=o}transform(e,i,o,r){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??j1,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return x1(e,s,r||this.locale,a)}catch(s){throw Fd(t,s.message)}}static{this.\u0275fac=function(i){return new(i||t)(M(ro,16),M(U1,24),M(z1,24))}}static{this.\u0275pipe=Ks({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var co=(()=>{class t{constructor(e){this._locale=e}transform(e,i,o){if(!om(e))return null;o||=this._locale;try{let r=rm(e);return N1(r,o,i)}catch(r){throw Fd(t,r.message)}}static{this.\u0275fac=function(i){return new(i||t)(M(ro,16))}}static{this.\u0275pipe=Ks({name:"number",type:t,pure:!0,standalone:!0})}}return t})();var im=(()=>{class t{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,o="symbol",r,s){if(!om(e))return null;s||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let a=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?a=g1(a,o==="symbol"?"wide":"narrow",s):a=o);try{let d=rm(e);return A1(d,s,a,i,r)}catch(d){throw Fd(t,d.message)}}static{this.\u0275fac=function(i){return new(i||t)(M(ro,16),M(Ng,16))}}static{this.\u0275pipe=Ks({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function om(t){return!(t==null||t===""||t!==t)}function rm(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var _e=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Yn({type:t})}static{this.\u0275inj=qn({})}}return t})(),sm="browser",$1="server";function Aa(t){return t===$1}var so=class{};var Qo=class{},Jo=class{},ct=class t{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let o=e.slice(0,i),r=o.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(o,r),this.headers.has(r)?this.headers.get(r).push(s):this.headers.set(r,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,e);let o=(n.op==="a"?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":let r=n.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>r.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(n,e){let i=(Array.isArray(e)?e:[e]).map(r=>r.toString()),o=n.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Ld=class{encodeKey(n){return am(n)}encodeValue(n){return am(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function B1(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{let r=o.indexOf("="),[s,a]=r==-1?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,r)),n.decodeValue(o.slice(r+1))],d=e.get(s)||[];d.push(a),e.set(s,d)}),e}var H1=/%(\d[a-f0-9])/gi,G1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function am(t){return encodeURIComponent(t).replace(H1,(n,e)=>G1[e]??n)}function Na(t){return`${t}`}var an=class t{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Ld,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=B1(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let i=n.fromObject[e],o=Array.isArray(i)?i.map(Na):[Na(i)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(i=>{let o=n[i];Array.isArray(o)?o.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(Na(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],o=i.indexOf(Na(n.value));o!==-1&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var jd=class{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function W1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function cm(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function lm(t){return typeof Blob<"u"&&t instanceof Blob}function dm(t){return typeof FormData<"u"&&t instanceof FormData}function q1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ko=class t{constructor(n,e,i,o){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let r;if(W1(this.method)||o?(this.body=i!==void 0?i:null,r=o):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new ct,this.context??=new jd,!this.params)this.params=new an,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),d=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+d+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||cm(this.body)||lm(this.body)||dm(this.body)||q1(this.body)?this.body:this.body instanceof an?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||dm(this.body)?null:lm(this.body)?this.body.type||null:cm(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof an?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let e=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,r=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,d=n.reportProgress??this.reportProgress,f=n.headers||this.headers,g=n.params||this.params,_=n.context??this.context;return n.setHeaders!==void 0&&(f=Object.keys(n.setHeaders).reduce((E,y)=>E.set(y,n.setHeaders[y]),f)),n.setParams&&(g=Object.keys(n.setParams).reduce((E,y)=>E.set(y,n.setParams[y]),g)),new t(e,i,s,{params:g,headers:f,context:_,reportProgress:d,responseType:o,withCredentials:a,transferCache:r})}},ti=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ti||{}),Xo=class{constructor(n,e=200,i="OK"){this.headers=n.headers||new ct,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Fa=class t extends Xo{constructor(n={}){super(n),this.type=ti.ResponseHeader}clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},er=class t extends Xo{constructor(n={}){super(n),this.type=ti.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},ei=class extends Xo{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},gm=200,Y1=204;function Vd(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var lt=(()=>{class t{constructor(e){this.handler=e}request(e,i,o={}){let r;if(e instanceof Ko)r=e;else{let d;o.headers instanceof ct?d=o.headers:d=new ct(o.headers);let f;o.params&&(o.params instanceof an?f=o.params:f=new an({fromObject:o.params})),r=new Ko(e,i,o.body!==void 0?o.body:null,{headers:d,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=A(r).pipe(jt(d=>this.handler.handle(d)));if(e instanceof Ko||o.observe==="events")return s;let a=s.pipe(nt(d=>d instanceof er));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(U(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return a.pipe(U(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return a.pipe(U(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return a.pipe(U(d=>d.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new an().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,Vd(o,i))}post(e,i,o={}){return this.request("POST",e,Vd(o,i))}put(e,i,o={}){return this.request("PUT",e,Vd(o,i))}static{this.\u0275fac=function(i){return new(i||t)(z(Qo))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac})}}return t})(),Z1=/^\)\]\}',?\n/,K1="X-Request-URL";function um(t){if(t.url)return t.url;let n=K1.toLocaleLowerCase();return t.headers.get(n)}var Ud=(()=>{class t{constructor(){this.fetchImpl=I(zd,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=I(ke)}handle(e){return new Y(i=>{let o=new AbortController;return this.doRequest(e,o.signal,i).then($d,r=>i.error(new ei({error:r}))),()=>o.abort()})}doRequest(e,i,o){return Rr(this,null,function*(){let r=this.createRequestInit(e),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,O({signal:i},r)));Q1(y),o.next({type:ti.Sent}),s=yield y}catch(y){o.error(new ei({error:y,status:y.status??0,statusText:y.statusText,url:e.urlWithParams,headers:y.headers}));return}let a=new ct(s.headers),d=s.statusText,f=um(s)??e.urlWithParams,g=s.status,_=null;if(e.reportProgress&&o.next(new Fa({headers:a,status:g,statusText:d,url:f})),s.body){let y=s.headers.get("content-length"),P=[],T=s.body.getReader(),k=0,G,fe,ie=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Rr(this,null,function*(){for(;;){let{done:Ze,value:Ue}=yield T.read();if(Ze)break;if(P.push(Ue),k+=Ue.length,e.reportProgress){fe=e.responseType==="text"?(fe??"")+(G??=new TextDecoder).decode(Ue,{stream:!0}):void 0;let gn=()=>o.next({type:ti.DownloadProgress,total:y?+y:void 0,loaded:k,partialText:fe});ie?ie.run(gn):gn()}}}));let Oe=this.concatChunks(P,k);try{let Ze=s.headers.get("Content-Type")??"";_=this.parseBody(e,Oe,Ze)}catch(Ze){o.error(new ei({error:Ze,headers:new ct(s.headers),status:s.status,statusText:s.statusText,url:um(s)??e.urlWithParams}));return}}g===0&&(g=_?gm:0),g>=200&&g<300?(o.next(new er({body:_,headers:a,status:g,statusText:d,url:f})),o.complete()):o.error(new ei({error:_,headers:a,status:g,statusText:d,url:f}))})}parseBody(e,i,o){switch(e.responseType){case"json":let r=new TextDecoder().decode(i).replace(Z1,"");return r===""?null:JSON.parse(r);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},o=e.withCredentials?"include":void 0;if(e.headers.forEach((r,s)=>i[r]=s.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let r=e.detectContentTypeHeader();r!==null&&(i["Content-Type"]=r)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:o}}concatChunks(e,i){let o=new Uint8Array(i),r=0;for(let s of e)o.set(s,r),r+=s.length;return o}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac})}}return t})(),zd=class{};function $d(){}function Q1(t){t.then($d,$d)}function mm(t,n){return n(t)}function J1(t,n){return(e,i)=>n.intercept(e,{handle:o=>t(o,i)})}function X1(t,n,e){return(i,o)=>Ht(e,()=>n(i,r=>t(r,o)))}var eE=new F(""),Bd=new F(""),tE=new F(""),vm=new F("",{providedIn:"root",factory:()=>!0});function nE(){let t=null;return(n,e)=>{t===null&&(t=(I(eE,{optional:!0})??[]).reduceRight(J1,mm));let i=I(Pn);if(I(vm)){let r=i.add();return t(n,e).pipe(jn(()=>i.remove(r)))}else return t(n,e)}}var pm=(()=>{class t extends Qo{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=I(Pn),this.contributeToStability=I(vm)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Bd),...this.injector.get(tE,[])]));this.chain=i.reduceRight((o,r)=>X1(o,r,this.injector),mm)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(jn(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||t)(z(Jo),z(ht))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac})}}return t})();var iE=/^\)\]\}',?\n/;function oE(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var fm=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new N(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ce(i.\u0275loadImpl()):A(null)).pipe(Fe(()=>new Y(r=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((T,k)=>s.setRequestHeader(T,k.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let T=e.detectContentTypeHeader();T!==null&&s.setRequestHeader("Content-Type",T)}if(e.responseType){let T=e.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let a=e.serializeBody(),d=null,f=()=>{if(d!==null)return d;let T=s.statusText||"OK",k=new ct(s.getAllResponseHeaders()),G=oE(s)||e.url;return d=new Fa({headers:k,status:s.status,statusText:T,url:G}),d},g=()=>{let{headers:T,status:k,statusText:G,url:fe}=f(),ie=null;k!==Y1&&(ie=typeof s.response>"u"?s.responseText:s.response),k===0&&(k=ie?gm:0);let Oe=k>=200&&k<300;if(e.responseType==="json"&&typeof ie=="string"){let Ze=ie;ie=ie.replace(iE,"");try{ie=ie!==""?JSON.parse(ie):null}catch(Ue){ie=Ze,Oe&&(Oe=!1,ie={error:Ue,text:ie})}}Oe?(r.next(new er({body:ie,headers:T,status:k,statusText:G,url:fe||void 0})),r.complete()):r.error(new ei({error:ie,headers:T,status:k,statusText:G,url:fe||void 0}))},_=T=>{let{url:k}=f(),G=new ei({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});r.error(G)},E=!1,y=T=>{E||(r.next(f()),E=!0);let k={type:ti.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(k.total=T.total),e.responseType==="text"&&s.responseText&&(k.partialText=s.responseText),r.next(k)},P=T=>{let k={type:ti.UploadProgress,loaded:T.loaded};T.lengthComputable&&(k.total=T.total),r.next(k)};return s.addEventListener("load",g),s.addEventListener("error",_),s.addEventListener("timeout",_),s.addEventListener("abort",_),e.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",P)),s.send(a),r.next({type:ti.Sent}),()=>{s.removeEventListener("error",_),s.removeEventListener("abort",_),s.removeEventListener("load",g),s.removeEventListener("timeout",_),e.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",P)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||t)(z(so))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac})}}return t})(),_m=new F(""),rE="XSRF-TOKEN",sE=new F("",{providedIn:"root",factory:()=>rE}),aE="X-XSRF-TOKEN",cE=new F("",{providedIn:"root",factory:()=>aE}),Va=class{},lE=(()=>{class t{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ra(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||t)(z(Ct),z(Qn),z(sE))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac})}}return t})();function dE(t,n){let e=t.url.toLowerCase();if(!I(_m)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let i=I(Va).getToken(),o=I(cE);return i!=null&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,i)})),n(t)}var Hd=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Hd||{});function Cm(t,n){return{\u0275kind:t,\u0275providers:n}}function xm(...t){let n=[lt,fm,pm,{provide:Qo,useExisting:pm},{provide:Jo,useFactory:()=>I(Ud,{optional:!0})??I(fm)},{provide:Bd,useValue:dE,multi:!0},{provide:_m,useValue:!0},{provide:Va,useClass:lE}];for(let e of t)n.push(...e.\u0275providers);return Bo(n)}var hm=new F("");function bm(){return Cm(Hd.LegacyInterceptors,[{provide:hm,useFactory:nE},{provide:Bd,useExisting:hm,multi:!0}])}function ym(){return Cm(Hd.Fetch,[Ud,{provide:Jo,useExisting:Ud}])}var qd=class extends Oa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Yd=class t extends qd{static makeCurrent(){Gg(new t)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=uE();return e==null?null:pE(e)}resetBaseElement(){tr=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Ra(document.cookie,n)}},tr=null;function uE(){return tr=tr||document.querySelector("base"),tr?tr.getAttribute("href"):null}function pE(t){return new URL(t,document.baseURI).pathname}var fE=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac})}}return t})(),Zd=new F(""),Dm=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new N(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||t)(z(Zd),z(ke))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac})}}return t})(),La=class{constructor(n){this._doc=n}},Gd="ng-app-id",Pm=(()=>{class t{constructor(e,i,o,r={}){this.doc=e,this.appId=i,this.nonce=o,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Aa(r),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(o=>o.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Gd}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(e,i){let o=this.styleRef;if(o.has(e)){let r=o.get(e);return r.usage+=i,r.usage}return o.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let o=this.styleNodesInDOM,r=o?.get(i);if(r?.parentNode===e)return o.delete(i),r.removeAttribute(Gd),r;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Gd,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){let o=this.getStyleElement(e,i),r=this.styleRef,s=r.get(i)?.elements;s?s.push(o):r.set(i,{elements:[o],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(z(Ct),z(nd),z(od,8),z(Qn))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac})}}return t})(),Wd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qd=/%COMP%/g,Sm="%COMP%",hE=`_nghost-${Sm}`,gE=`_ngcontent-${Sm}`,mE=!0,vE=new F("",{providedIn:"root",factory:()=>mE});function _E(t){return gE.replace(Qd,t)}function CE(t){return hE.replace(Qd,t)}function Im(t,n){return n.map(e=>e.replace(Qd,t))}var Em=(()=>{class t{constructor(e,i,o,r,s,a,d,f=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=s,this.platformId=a,this.ngZone=d,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Aa(a),this.defaultRenderer=new nr(e,s,d,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===en.ShadowDom&&(i=Q(O({},i),{encapsulation:en.Emulated}));let o=this.getOrCreateRenderer(e,i);return o instanceof ja?o.applyToHost(e):o instanceof ir&&o.applyStyles(),o}getOrCreateRenderer(e,i){let o=this.rendererByCompId,r=o.get(i.id);if(!r){let s=this.doc,a=this.ngZone,d=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case en.Emulated:r=new ja(d,f,i,this.appId,g,s,a,_);break;case en.ShadowDom:return new Kd(d,f,e,i,s,a,this.nonce,_);default:r=new ir(d,f,i,g,s,a,_);break}o.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(z(Dm),z(Pm),z(nd),z(vE),z(Ct),z(Qn),z(ke),z(od))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac})}}return t})(),nr=class{constructor(n,e,i,o){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Wd[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Mm(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(Mm(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){e.remove()}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new N(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,o){if(o){e=o+":"+e;let r=Wd[o];r?n.setAttributeNS(r,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let o=Wd[i];o?n.removeAttributeNS(o,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,o){o&(yn.DashCase|yn.Important)?n.style.setProperty(e,i,o&yn.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&yn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if(typeof n=="string"&&(n=kn().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function Mm(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Kd=class extends nr{constructor(n,e,i,o,r,s,a,d){super(n,r,s,d),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=Im(o.id,o.styles);for(let g of f){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=g,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ir=class extends nr{constructor(n,e,i,o,r,s,a,d){super(n,r,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=d?Im(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ja=class extends ir{constructor(n,e,i,o,r,s,a,d){let f=o+"-"+i.id;super(n,e,i,r,s,a,d,f),this.contentAttr=_E(f),this.hostAttr=CE(f)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}},xE=(()=>{class t extends La{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}static{this.\u0275fac=function(i){return new(i||t)(z(Ct))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac})}}return t})(),wm=["alt","control","meta","shift"],bE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},EE=(()=>{class t extends La{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,o){let r=t.parseEventName(i),s=t.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kn().onAndCancel(e,r.domEventName,s))}static parseEventName(e){let i=e.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let r=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),wm.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),s+=f+".")}),s+=r,i.length!=0||r.length===0)return null;let d={};return d.domEventName=o,d.fullKey=s,d}static matchEventFullKeyCode(e,i){let o=bE[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(o=e.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),wm.forEach(s=>{if(s!==o){let a=yE[s];a(e)&&(r+=s+".")}}),r+=o,r===i)}static eventCallback(e,i,o){return r=>{t.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>i(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||t)(z(Ct))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac})}}return t})();function Om(t,n){return Fg(O({rootComponent:t},ME(n)))}function ME(t){return{appProviders:[...IE,...t?.providers??[]],platformProviders:SE}}function wE(){Yd.makeCurrent()}function DE(){return new bn}function PE(){return Lh(document),document}var SE=[{provide:Qn,useValue:sm},{provide:id,useValue:wE,multi:!0},{provide:Ct,useFactory:PE,deps:[]}];var IE=[{provide:Qs,useValue:"root"},{provide:bn,useFactory:DE,deps:[]},{provide:Zd,useClass:xE,multi:!0,deps:[Ct,ke,Qn]},{provide:Zd,useClass:EE,multi:!0,deps:[Ct]},Em,Pm,Dm,{provide:eo,useExisting:Em},{provide:so,useClass:fE,deps:[]},[]];var Tm=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||t)(z(Ct))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var K="primary",Cr=Symbol("RouteTitle"),nu=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function go(t){return new nu(t)}function TE(t,n,e){let i=e.path.split("/");if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let o={};for(let r=0;r<i.length;r++){let s=i[r],a=t[r];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}function kE(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!cn(t[e],n[e]))return!1;return!0}function cn(t,n){let e=t?iu(t):void 0,i=n?iu(n):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!jm(t[o],n[o]))return!1;return!0}function iu(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function jm(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((o,r)=>i[r]===o)}else return t===n}function Um(t){return t.length>0?t[t.length-1]:null}function ni(t){return Ic(t)?t:bi(t)?Ce(Promise.resolve(t)):A(t)}var RE={exact:$m,subset:Bm},zm={exact:AE,subset:NE,ignored:()=>!0};function km(t,n,e){return RE[e.paths](t.root,n.root,e.matrixParams)&&zm[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function AE(t,n){return cn(t,n)}function $m(t,n,e){if(!wi(t.segments,n.segments)||!$a(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!$m(t.children[i],n.children[i],e))return!1;return!0}function NE(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>jm(t[e],n[e]))}function Bm(t,n,e){return Hm(t,n,n.segments,e)}function Hm(t,n,e,i){if(t.segments.length>e.length){let o=t.segments.slice(0,e.length);return!(!wi(o,e)||n.hasChildren()||!$a(o,e,i))}else if(t.segments.length===e.length){if(!wi(t.segments,e)||!$a(t.segments,e,i))return!1;for(let o in n.children)if(!t.children[o]||!Bm(t.children[o],n.children[o],i))return!1;return!0}else{let o=e.slice(0,t.segments.length),r=e.slice(t.segments.length);return!wi(t.segments,o)||!$a(t.segments,o,i)||!t.children[K]?!1:Hm(t.children[K],n,r,i)}}function $a(t,n,e){return n.every((i,o)=>zm[e](t[o].parameters,i.parameters))}var An=class{constructor(n=new pe([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=go(this.queryParams),this._queryParamMap}toString(){return LE.serialize(this)}},pe=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ba(this)}},Mi=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=go(this.parameters),this._parameterMap}toString(){return Wm(this)}};function FE(t,n){return wi(t,n)&&t.every((e,i)=>cn(e.parameters,n[i].parameters))}function wi(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function VE(t,n){let e=[];return Object.entries(t.children).forEach(([i,o])=>{i===K&&(e=e.concat(n(o,i)))}),Object.entries(t.children).forEach(([i,o])=>{i!==K&&(e=e.concat(n(o,i)))}),e}var Iu=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:()=>new dr,providedIn:"root"})}}return t})(),dr=class{parse(n){let e=new ru(n);return new An(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${or(n.root,!0)}`,i=zE(n.queryParams),o=typeof n.fragment=="string"?`#${jE(n.fragment)}`:"";return`${e}${i}${o}`}},LE=new dr;function Ba(t){return t.segments.map(n=>Wm(n)).join("/")}function or(t,n){if(!t.hasChildren())return Ba(t);if(n){let e=t.children[K]?or(t.children[K],!1):"",i=[];return Object.entries(t.children).forEach(([o,r])=>{o!==K&&i.push(`${o}:${or(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=VE(t,(i,o)=>o===K?[or(t.children[K],!1)]:[`${o}:${or(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${Ba(t)}/${e[0]}`:`${Ba(t)}/(${e.join("//")})`}}function Gm(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ua(t){return Gm(t).replace(/%3B/gi,";")}function jE(t){return encodeURI(t)}function ou(t){return Gm(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ha(t){return decodeURIComponent(t)}function Rm(t){return Ha(t.replace(/\+/g,"%20"))}function Wm(t){return`${ou(t.path)}${UE(t.parameters)}`}function UE(t){return Object.entries(t).map(([n,e])=>`;${ou(n)}=${ou(e)}`).join("")}function zE(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(o=>`${Ua(e)}=${Ua(o)}`).join("&"):`${Ua(e)}=${Ua(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var $E=/^[^\/()?;#]+/;function Jd(t){let n=t.match($E);return n?n[0]:""}var BE=/^[^\/()?;=#]+/;function HE(t){let n=t.match(BE);return n?n[0]:""}var GE=/^[^=?&#]+/;function WE(t){let n=t.match(GE);return n?n[0]:""}var qE=/^[^&#]+/;function YE(t){let n=t.match(qE);return n?n[0]:""}var ru=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[K]=new pe(n,e)),i}parseSegment(){let n=Jd(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(n),new Mi(Ha(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=HE(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=Jd(this.remaining);o&&(i=o,this.capture(i))}n[Ha(e)]=Ha(i)}parseQueryParam(n){let e=WE(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=YE(this.remaining);s&&(i=s,this.capture(i))}let o=Rm(e),r=Rm(i);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(r)}else n[o]=r}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Jd(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new N(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):n&&(r=K);let s=this.parseChildren();e[r]=Object.keys(s).length===1?s[K]:new pe([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new N(4011,!1)}};function qm(t){return t.segments.length>0?new pe([],{[K]:t}):t}function Ym(t){let n={};for(let[i,o]of Object.entries(t.children)){let r=Ym(o);if(i===K&&r.segments.length===0&&r.hasChildren())for(let[s,a]of Object.entries(r.children))n[s]=a;else(r.segments.length>0||r.hasChildren())&&(n[i]=r)}let e=new pe(t.segments,n);return ZE(e)}function ZE(t){if(t.numberOfChildren===1&&t.children[K]){let n=t.children[K];return new pe(t.segments.concat(n.segments),n.children)}return t}function Di(t){return t instanceof An}function KE(t,n,e=null,i=null){let o=Zm(t);return Km(o,n,e,i)}function Zm(t){let n;function e(r){let s={};for(let d of r.children){let f=e(d);s[d.outlet]=f}let a=new pe(r.url,s);return r===t&&(n=a),a}let i=e(t.root),o=qm(i);return n??o}function Km(t,n,e,i){let o=t;for(;o.parent;)o=o.parent;if(n.length===0)return Xd(o,o,o,e,i);let r=QE(n);if(r.toRoot())return Xd(o,o,new pe([],{}),e,i);let s=JE(r,o,t),a=s.processChildren?ar(s.segmentGroup,s.index,r.commands):Jm(s.segmentGroup,s.index,r.commands);return Xd(o,s.segmentGroup,a,e,i)}function Ga(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ur(t){return typeof t=="object"&&t!=null&&t.outlets}function Xd(t,n,e,i,o){let r={};i&&Object.entries(i).forEach(([d,f])=>{r[d]=Array.isArray(f)?f.map(g=>`${g}`):`${f}`});let s;t===n?s=e:s=Qm(t,n,e);let a=qm(Ym(s));return new An(a,r,o)}function Qm(t,n,e){let i={};return Object.entries(t.children).forEach(([o,r])=>{r===n?i[o]=e:i[o]=Qm(r,n,e)}),new pe(t.segments,i)}var Wa=class{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Ga(i[0]))throw new N(4003,!1);let o=i.find(ur);if(o&&o!==Um(i))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QE(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Wa(!0,0,t);let n=0,e=!1,i=t.reduce((o,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([d,f])=>{a[d]=typeof f=="string"?f.split("/"):f}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:s===0?(r.split("/").forEach((a,d)=>{d==0&&a==="."||(d==0&&a===""?e=!0:a===".."?n++:a!=""&&o.push(a))}),o):[...o,r]},[]);return new Wa(e,n,i)}var po=class{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function JE(t,n,e){if(t.isAbsolute)return new po(n,!0,0);if(!e)return new po(n,!1,NaN);if(e.parent===null)return new po(e,!0,0);let i=Ga(t.commands[0])?0:1,o=e.segments.length-1+i;return XE(e,o,t.numberOfDoubleDots)}function XE(t,n,e){let i=t,o=n,r=e;for(;r>o;){if(r-=o,i=i.parent,!i)throw new N(4005,!1);o=i.segments.length}return new po(i,!1,o-r)}function eM(t){return ur(t[0])?t[0].outlets:{[K]:t}}function Jm(t,n,e){if(t??=new pe([],{}),t.segments.length===0&&t.hasChildren())return ar(t,n,e);let i=tM(t,n,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let r=new pe(t.segments.slice(0,i.pathIndex),{});return r.children[K]=new pe(t.segments.slice(i.pathIndex),t.children),ar(r,0,o)}else return i.match&&o.length===0?new pe(t.segments,{}):i.match&&!t.hasChildren()?su(t,n,e):i.match?ar(t,0,o):su(t,n,e)}function ar(t,n,e){if(e.length===0)return new pe(t.segments,{});{let i=eM(e),o={};if(Object.keys(i).some(r=>r!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let r=ar(t.children[K],n,e);return new pe(t.segments,r.children)}return Object.entries(i).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[r]=Jm(t.children[r],n,s))}),Object.entries(t.children).forEach(([r,s])=>{i[r]===void 0&&(o[r]=s)}),new pe(t.segments,o)}}function tM(t,n,e){let i=0,o=n,r={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=e.length)return r;let s=t.segments[o],a=e[i];if(ur(a))break;let d=`${a}`,f=i<e.length-1?e[i+1]:null;if(o>0&&d===void 0)break;if(d&&f&&typeof f=="object"&&f.outlets===void 0){if(!Nm(d,f,s))return r;i+=2}else{if(!Nm(d,{},s))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}function su(t,n,e){let i=t.segments.slice(0,n),o=0;for(;o<e.length;){let r=e[o];if(ur(r)){let d=nM(r.outlets);return new pe(i,d)}if(o===0&&Ga(e[0])){let d=t.segments[n];i.push(new Mi(d.path,Am(e[0]))),o++;continue}let s=ur(r)?r.outlets[K]:`${r}`,a=o<e.length-1?e[o+1]:null;s&&a&&Ga(a)?(i.push(new Mi(s,Am(a))),o+=2):(i.push(new Mi(s,{})),o++)}return new pe(i,{})}function nM(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=su(new pe([],{}),0,i))}),n}function Am(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function Nm(t,n,e){return t==e.path&&cn(n,e.parameters)}var cr="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),At=class{constructor(n,e){this.id=n,this.url=e}},pr=class extends At{constructor(n,e,i="imperative",o=null){super(n,e),this.type=Ke.NavigationStart,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ln=class extends At{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(St||{}),au=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(au||{}),Rn=class extends At{constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pi=class extends At{constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o,this.type=Ke.NavigationSkipped}},fr=class extends At{constructor(n,e,i,o){super(n,e),this.error=i,this.target=o,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qa=class extends At{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cu=class extends At{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lu=class extends At{constructor(n,e,i,o,r){super(n,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=r,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},du=class extends At{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uu=class extends At{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pu=class{constructor(n){this.route=n,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},fu=class{constructor(n){this.route=n,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hu=class{constructor(n){this.snapshot=n,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gu=class{constructor(n){this.snapshot=n,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mu=class{constructor(n){this.snapshot=n,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vu=class{constructor(n){this.snapshot=n,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var hr=class{},mo=class{constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function iM(t,n){return t.providers&&!t._injector&&(t._injector=yd(t.providers,n,`Route: ${t.path}`)),t._injector??n}function Zt(t){return t.outlet||K}function oM(t,n){let e=t.filter(i=>Zt(i)===n);return e.push(...t.filter(i=>Zt(i)!==n)),e}function xr(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var _u=class{get injector(){return xr(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new ec(this.rootInjector),this.attachRef=null}},ec=(()=>{class t{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){let o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new _u(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||t)(z(ht))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ya=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=Cu(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=Cu(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=xu(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return xu(n,this._root).map(e=>e.value)}};function Cu(t,n){if(t===n.value)return n;for(let e of n.children){let i=Cu(t,e);if(i)return i}return null}function xu(t,n){if(t===n.value)return[n];for(let e of n.children){let i=xu(t,e);if(i.length)return i.unshift(n),i}return[]}var Pt=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function uo(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Za=class extends Ya{constructor(n,e){super(n),this.snapshot=e,Ou(this,n)}toString(){return this.snapshot.toString()}};function Xm(t){let n=rM(t),e=new Te([new Mi("",{})]),i=new Te({}),o=new Te({}),r=new Te({}),s=new Te(""),a=new dt(e,i,r,s,o,K,t,n.root);return a.snapshot=n.root,new Za(new Pt(a,[]),n)}function rM(t){let n={},e={},i={},o="",r=new fo([],n,i,o,e,K,t,null,{});return new Qa("",new Pt(r,[]))}var dt=class{constructor(n,e,i,o,r,s,a,d){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=a,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(U(f=>f[Cr]))??A(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(n=>go(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(n=>go(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ka(t,n,e="emptyOnly"){let i,{routeConfig:o}=t;return n!==null&&(e==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:O(O({},n.params),t.params),data:O(O({},n.data),t.data),resolve:O(O(O(O({},t.data),n.data),o?.data),t._resolvedData)}:i={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},o&&t0(o)&&(i.resolve[Cr]=o.title),i}var fo=class{get title(){return this.data?.[Cr]}constructor(n,e,i,o,r,s,a,d,f){this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=go(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=go(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Qa=class extends Ya{constructor(n,e){super(e),this.url=n,Ou(this,e)}toString(){return e0(this._root)}};function Ou(t,n){n.value._routerState=t,n.children.forEach(e=>Ou(t,e))}function e0(t){let n=t.children.length>0?` { ${t.children.map(e0).join(", ")} } `:"";return`${t.value}${n}`}function eu(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,cn(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),cn(n.params,e.params)||t.paramsSubject.next(e.params),kE(n.url,e.url)||t.urlSubject.next(e.url),cn(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bu(t,n){let e=cn(t.params,n.params)&&FE(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||bu(t.parent,n.parent))}function t0(t){return typeof t.title=="string"||t.title===null}var Tu=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new Ve,this.deactivateEvents=new Ve,this.attachEvents=new Ve,this.detachEvents=new Ve,this.parentContexts=I(ec),this.location=I(oo),this.changeDetector=I(qt),this.inputBinder=I(ku,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,d=new yu(e,a,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=he({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zn]})}}return t})(),yu=class t{__ngOutletInjector(n){return new t(this.route,this.childContexts,n)}constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===dt?this.route:n===ec?this.childContexts:this.parent.get(n,e)}},ku=new F("");function sM(t,n,e){let i=gr(t,n._root,e?e._root:void 0);return new Za(i,n)}function gr(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let o=aM(t,n,e);return new Pt(i,o)}else{if(t.shouldAttach(n.value)){let r=t.retrieve(n.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>gr(t,a)),s}}let i=cM(n.value),o=n.children.map(r=>gr(t,r));return new Pt(i,o)}}function aM(t,n,e){return n.children.map(i=>{for(let o of e.children)if(t.shouldReuseRoute(i.value,o.value.snapshot))return gr(t,i,o);return gr(t,i)})}function cM(t){return new dt(new Te(t.url),new Te(t.params),new Te(t.queryParams),new Te(t.fragment),new Te(t.data),t.outlet,t.component,t)}var mr=class{constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},n0="ngNavigationCancelingError";function Ja(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=Di(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=i0(!1,St.Redirect);return o.url=e,o.navigationBehaviorOptions=i,o}function i0(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[n0]=!0,e.cancellationCode=n,e}function lM(t){return o0(t)&&Di(t.url)}function o0(t){return!!t&&t[n0]}var dM=(t,n,e,i)=>U(o=>(new Eu(n,o.targetRouterState,o.currentRouterState,e,i).activate(t),o)),Eu=class{constructor(n,e,i,o,r){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=r}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),eu(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let o=uo(e);n.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,o[s],i),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(n,e,i){let o=n.value,r=e?e.value:null;if(o===r)if(o.component){let s=i.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,r=uo(n);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,r=uo(n);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let o=uo(e);n.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],i),this.forwardEvent(new vu(r.value.snapshot))}),n.children.length&&this.forwardEvent(new gu(n.value.snapshot))}activateRoutes(n,e,i){let o=n.value,r=e?e.value:null;if(eu(o),o===r)if(o.component){let s=i.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(o.component){let s=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),eu(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}},Xa=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},ho=class{constructor(n,e){this.component=n,this.route=e}};function uM(t,n,e){let i=t._root,o=n?n._root:null;return rr(i,o,e,[i.value])}function pM(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function _o(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!xf(t)?t:n.get(t):i}function rr(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=uo(n);return t.children.forEach(s=>{fM(s,r[s.value.outlet],e,i.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,a])=>lr(a,e.getContext(s),o)),o}function fM(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let d=hM(s,r,r.routeConfig.runGuardsAndResolvers);d?o.canActivateChecks.push(new Xa(i)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?rr(t,n,a?a.children:null,i,o):rr(t,n,e,i,o),d&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ho(a.outlet.component,s))}else s&&lr(n,a,o),o.canActivateChecks.push(new Xa(i)),r.component?rr(t,null,a?a.children:null,i,o):rr(t,null,e,i,o);return o}function hM(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!wi(t.url,n.url);case"pathParamsOrQueryParamsChange":return!wi(t.url,n.url)||!cn(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bu(t,n)||!cn(t.queryParams,n.queryParams);case"paramsChange":default:return!bu(t,n)}}function lr(t,n,e){let i=uo(t),o=t.value;Object.entries(i).forEach(([r,s])=>{o.component?n?lr(s,n.children.getContext(r),e):lr(s,null,e):lr(s,n,e)}),o.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new ho(n.outlet.component,o)):e.canDeactivateChecks.push(new ho(null,o)):e.canDeactivateChecks.push(new ho(null,o))}function br(t){return typeof t=="function"}function gM(t){return typeof t=="boolean"}function mM(t){return t&&br(t.canLoad)}function vM(t){return t&&br(t.canActivate)}function _M(t){return t&&br(t.canActivateChild)}function CM(t){return t&&br(t.canDeactivate)}function xM(t){return t&&br(t.canMatch)}function r0(t){return t instanceof vn||t?.name==="EmptyError"}var za=Symbol("INITIAL_VALUE");function vo(){return Fe(t=>as(t.map(n=>n.pipe(_n(1),Nc(za)))).pipe(U(n=>{for(let e of n)if(e!==!0){if(e===za)return za;if(e===!1||bM(e))return e}return!0}),nt(n=>n!==za),_n(1)))}function bM(t){return Di(t)||t instanceof mr}function yM(t,n){return $e(e=>{let{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=e;return s.length===0&&r.length===0?A(Q(O({},e),{guardsResult:!0})):EM(s,i,o,t).pipe($e(a=>a&&gM(a)?MM(i,r,t,n):A(a)),U(a=>Q(O({},e),{guardsResult:a})))})}function EM(t,n,e,i){return Ce(t).pipe($e(o=>IM(o.component,o.route,e,n,i)),Qt(o=>o!==!0,!0))}function MM(t,n,e,i){return Ce(n).pipe(jt(o=>Vi(DM(o.route.parent,i),wM(o.route,i),SM(t,o.path,e),PM(t,o.route,e))),Qt(o=>o!==!0,!0))}function wM(t,n){return t!==null&&n&&n(new mu(t)),A(!0)}function DM(t,n){return t!==null&&n&&n(new hu(t)),A(!0)}function PM(t,n,e){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return A(!0);let o=i.map(r=>cs(()=>{let s=xr(n)??e,a=_o(r,s),d=vM(a)?a.canActivate(n,t):Ht(s,()=>a(n,t));return ni(d).pipe(Qt())}));return A(o).pipe(vo())}function SM(t,n,e){let i=n[n.length-1],r=n.slice(0,n.length-1).reverse().map(s=>pM(s)).filter(s=>s!==null).map(s=>cs(()=>{let a=s.guards.map(d=>{let f=xr(s.node)??e,g=_o(d,f),_=_M(g)?g.canActivateChild(i,t):Ht(f,()=>g(i,t));return ni(_).pipe(Qt())});return A(a).pipe(vo())}));return A(r).pipe(vo())}function IM(t,n,e,i,o){let r=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!r||r.length===0)return A(!0);let s=r.map(a=>{let d=xr(n)??o,f=_o(a,d),g=CM(f)?f.canDeactivate(t,n,e,i):Ht(d,()=>f(t,n,e,i));return ni(g).pipe(Qt())});return A(s).pipe(vo())}function OM(t,n,e,i){let o=n.canLoad;if(o===void 0||o.length===0)return A(!0);let r=o.map(s=>{let a=_o(s,t),d=mM(a)?a.canLoad(n,e):Ht(t,()=>a(n,e));return ni(d)});return A(r).pipe(vo(),s0(i))}function s0(t){return wc(oe(n=>{if(typeof n!="boolean")throw Ja(t,n)}),U(n=>n===!0))}function TM(t,n,e,i){let o=n.canMatch;if(!o||o.length===0)return A(!0);let r=o.map(s=>{let a=_o(s,t),d=xM(a)?a.canMatch(n,e):Ht(t,()=>a(n,e));return ni(d)});return A(r).pipe(vo(),s0(i))}var vr=class{constructor(n){this.segmentGroup=n||null}},_r=class extends Error{constructor(n){super(),this.urlTree=n}};function lo(t){return wt(new vr(t))}function kM(t){return wt(new N(4e3,!1))}function RM(t){return wt(i0(!1,St.GuardRejected))}var Mu=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),o.numberOfChildren===0)return A(i);if(o.numberOfChildren>1||!o.children[K])return kM(`${n.redirectTo}`);o=o.children[K]}}applyRedirectCommands(n,e,i,o,r){if(typeof e!="string"){let a=e,{queryParams:d,fragment:f,routeConfig:g,url:_,outlet:E,params:y,data:P,title:T}=o,k=Ht(r,()=>a({params:y,data:P,queryParams:d,fragment:f,routeConfig:g,url:_,outlet:E,title:T}));if(k instanceof An)throw new _r(k);e=k}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e[0]==="/")throw new _r(s);return s}applyRedirectCreateUrlTree(n,e,i,o){let r=this.createSegmentGroup(n,e.root,i,o);return new An(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(n,e,i,o){let r=this.createSegments(n,e.segments,i,o),s={};return Object.entries(e.children).forEach(([a,d])=>{s[a]=this.createSegmentGroup(n,d,i,o)}),new pe(r,s)}createSegments(n,e,i,o){return e.map(r=>r.path[0]===":"?this.findPosParam(n,r,o):this.findOrReturn(r,i))}findPosParam(n,e,i){let o=i[e.path.substring(1)];if(!o)throw new N(4001,!1);return o}findOrReturn(n,e){let i=0;for(let o of e){if(o.path===n.path)return e.splice(i),o;i++}return n}},wu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AM(t,n,e,i,o){let r=a0(t,n,e);return r.matched?(i=iM(n,i),TM(i,n,e,o).pipe(U(s=>s===!0?r:O({},wu)))):A(r)}function a0(t,n,e){if(n.path==="**")return NM(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?O({},wu):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(n.matcher||TE)(e,t,n);if(!o)return O({},wu);let r={};Object.entries(o.posParams??{}).forEach(([a,d])=>{r[a]=d.path});let s=o.consumed.length>0?O(O({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function NM(t){return{matched:!0,parameters:t.length>0?Um(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Fm(t,n,e,i){return e.length>0&&LM(t,e,i)?{segmentGroup:new pe(n,VM(i,new pe(e,t.children))),slicedSegments:[]}:e.length===0&&jM(t,e,i)?{segmentGroup:new pe(t.segments,FM(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:e}}function FM(t,n,e,i){let o={};for(let r of e)if(tc(t,n,r)&&!i[Zt(r)]){let s=new pe([],{});o[Zt(r)]=s}return O(O({},i),o)}function VM(t,n){let e={};e[K]=n;for(let i of t)if(i.path===""&&Zt(i)!==K){let o=new pe([],{});e[Zt(i)]=o}return e}function LM(t,n,e){return e.some(i=>tc(t,n,i)&&Zt(i)!==K)}function jM(t,n,e){return e.some(i=>tc(t,n,i))}function tc(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function UM(t,n,e){return n.length===0&&!t.children[e]}var Du=class{};function zM(t,n,e,i,o,r,s="emptyOnly"){return new Pu(t,n,e,i,o,s,r).recognize()}var $M=31,Pu=class{constructor(n,e,i,o,r,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Mu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new N(4002,`'${n.segmentGroup}'`)}recognize(){let n=Fm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(U(({children:e,rootSnapshot:i})=>{let o=new Pt(i,e),r=new Qa("",o),s=KE(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}}))}match(n){let e=new fo([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,K,e).pipe(U(i=>({children:i,rootSnapshot:e})),ee(i=>{if(i instanceof _r)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof vr?this.noMatchError(i):i}))}processSegmentGroup(n,e,i,o,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,e,i,r):this.processSegment(n,e,i,i.segments,o,!0,r).pipe(U(s=>s instanceof Pt?[s]:[]))}processChildren(n,e,i,o){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return Ce(r).pipe(jt(s=>{let a=i.children[s],d=oM(e,s);return this.processSegmentGroup(n,d,a,s,o)}),Ac((s,a)=>(s.push(...a),s)),Ln(null),Rc(),$e(s=>{if(s===null)return lo(i);let a=c0(s);return BM(a),A(a)}))}processSegment(n,e,i,o,r,s,a){return Ce(e).pipe(jt(d=>this.processSegmentAgainstRoute(d._injector??n,e,d,i,o,r,s,a).pipe(ee(f=>{if(f instanceof vr)return A(null);throw f}))),Qt(d=>!!d),ee(d=>{if(r0(d))return UM(i,o,r)?A(new Du):lo(i);throw d}))}processSegmentAgainstRoute(n,e,i,o,r,s,a,d){return Zt(i)!==s&&(s===K||!tc(o,r,i))?lo(o):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,i,r,s,d):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,i,r,s,d):lo(o)}expandSegmentAgainstRouteUsingRedirect(n,e,i,o,r,s,a){let{matched:d,parameters:f,consumedSegments:g,positionalParamSegments:_,remainingSegments:E}=a0(e,o,r);if(!d)return lo(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$M&&(this.allowRedirects=!1));let y=new fo(r,f,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Vm(o),Zt(o),o.component??o._loadedComponent??null,o,Lm(o)),P=Ka(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(P.params),y.data=Object.freeze(P.data);let T=this.applyRedirects.applyRedirectCommands(g,o.redirectTo,_,y,n);return this.applyRedirects.lineralizeSegments(o,T).pipe($e(k=>this.processSegment(n,i,e,k.concat(E),s,!1,a)))}matchSegmentAgainstRoute(n,e,i,o,r,s){let a=AM(e,i,o,n,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(Fe(d=>d.matched?(n=i._injector??n,this.getChildConfig(n,i,o).pipe(Fe(({routes:f})=>{let g=i._loadedInjector??n,{parameters:_,consumedSegments:E,remainingSegments:y}=d,P=new fo(E,_,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Vm(i),Zt(i),i.component??i._loadedComponent??null,i,Lm(i)),T=Ka(P,s,this.paramsInheritanceStrategy);P.params=Object.freeze(T.params),P.data=Object.freeze(T.data);let{segmentGroup:k,slicedSegments:G}=Fm(e,E,y,f);if(G.length===0&&k.hasChildren())return this.processChildren(g,f,k,P).pipe(U(ie=>new Pt(P,ie)));if(f.length===0&&G.length===0)return A(new Pt(P,[]));let fe=Zt(i)===r;return this.processSegment(g,f,k,G,fe?K:r,!0,P).pipe(U(ie=>new Pt(P,ie instanceof Pt?[ie]:[])))}))):lo(e)))}getChildConfig(n,e,i){return e.children?A({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?A({routes:e._loadedRoutes,injector:e._loadedInjector}):OM(n,e,i,this.urlSerializer).pipe($e(o=>o?this.configLoader.loadChildren(n,e).pipe(oe(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):RM(e))):A({routes:[],injector:n})}};function BM(t){t.sort((n,e)=>n.value.outlet===K?-1:e.value.outlet===K?1:n.value.outlet.localeCompare(e.value.outlet))}function HM(t){let n=t.value.routeConfig;return n&&n.path===""}function c0(t){let n=[],e=new Set;for(let i of t){if(!HM(i)){n.push(i);continue}let o=n.find(r=>i.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...i.children),e.add(o)):n.push(i)}for(let i of e){let o=c0(i.children);n.push(new Pt(i.value,o))}return n.filter(i=>!e.has(i))}function Vm(t){return t.data||{}}function Lm(t){return t.resolve||{}}function GM(t,n,e,i,o,r){return $e(s=>zM(t,n,e,i,s.extractedUrl,o,r).pipe(U(({state:a,tree:d})=>Q(O({},s),{targetSnapshot:a,urlAfterRedirects:d}))))}function WM(t,n){return $e(e=>{let{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return A(e);let r=new Set(o.map(d=>d.route)),s=new Set;for(let d of r)if(!s.has(d))for(let f of l0(d))s.add(f);let a=0;return Ce(s).pipe(jt(d=>r.has(d)?qM(d,i,t,n):(d.data=Ka(d,d.parent,t).resolve,A(void 0))),oe(()=>a++),Li(1),$e(d=>a===s.size?A(e):Mt))})}function l0(t){let n=t.children.map(e=>l0(e)).flat();return[t,...n]}function qM(t,n,e,i){let o=t.routeConfig,r=t._resolve;return o?.title!==void 0&&!t0(o)&&(r[Cr]=o.title),YM(r,t,n,i).pipe(U(s=>(t._resolvedData=s,t.data=Ka(t,t.parent,e).resolve,null)))}function YM(t,n,e,i){let o=iu(t);if(o.length===0)return A({});let r={};return Ce(o).pipe($e(s=>ZM(t[s],n,e,i).pipe(Qt(),oe(a=>{if(a instanceof mr)throw Ja(new dr,a);r[s]=a}))),Li(1),kc(r),ee(s=>r0(s)?Mt:wt(s)))}function ZM(t,n,e,i){let o=xr(n)??i,r=_o(t,o),s=r.resolve?r.resolve(n,e):Ht(o,()=>r(n,e));return ni(s)}function tu(t){return Fe(n=>{let e=t(n);return e?Ce(e).pipe(U(()=>n)):A(n)})}var d0=(()=>{class t{buildTitle(e){let i,o=e.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(r=>r.outlet===K);return i}getResolvedTitleForRoute(e){return e.data[Cr]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:()=>I(KM),providedIn:"root"})}}return t})(),KM=(()=>{class t extends d0{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(z(Tm))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ru=new F("",{providedIn:"root",factory:()=>({})}),QM=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=de({type:t,selectors:[["ng-component"]],standalone:!0,features:[ue],decls:1,vars:0,template:function(i,o){i&1&&H(0,"router-outlet")},dependencies:[Tu],encapsulation:2})}}return t})();function Au(t){let n=t.children&&t.children.map(Au),e=n?Q(O({},t),{children:n}):O({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==K&&(e.component=QM),e}var Nu=new F(""),JM=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(wd)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return A(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=ni(e.loadComponent()).pipe(U(u0),oe(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),jn(()=>{this.componentLoaders.delete(e)})),o=new Fi(i,()=>new He).pipe(Ni());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return A({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=XM(i,this.compiler,e,this.onLoadEndListener).pipe(jn(()=>{this.childrenLoaders.delete(i)})),s=new Fi(r,()=>new He).pipe(Ni());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function XM(t,n,e,i){return ni(t.loadChildren()).pipe(U(u0),$e(o=>o instanceof jo||Array.isArray(o)?A(o):Ce(n.compileModuleAsync(o))),U(o=>{i&&i(t);let r,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(r=o.create(e).injector,s=r.get(Nu,[],{optional:!0,self:!0}).flat()),{routes:s.map(Au),injector:r}}))}function ew(t){return t&&typeof t=="object"&&"default"in t}function u0(t){return ew(t)?t.default:t}var Fu=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:()=>I(tw),providedIn:"root"})}}return t})(),tw=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nw=new F("");var iw=new F(""),ow=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new He,this.transitionAbortSubject=new He,this.configLoader=I(JM),this.environmentInjector=I(ht),this.urlSerializer=I(Iu),this.rootContexts=I(ec),this.location=I(Zo),this.inputBindingEnabled=I(ku,{optional:!0})!==null,this.titleStrategy=I(d0),this.options=I(Ru,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(Fu),this.createViewTransition=I(nw,{optional:!0}),this.navigationErrorHandler=I(iw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null;let e=o=>this.events.next(new pu(o)),i=o=>this.events.next(new fu(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(Q(O(O({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,o){return this.transitions=new Te({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:cr,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nt(r=>r.id!==0),U(r=>Q(O({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Fe(r=>{let s=!1,a=!1;return A(r).pipe(Fe(d=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),Mt;this.currentTransition=r,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Q(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=d.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!f&&g!=="reload"){let _="";return this.events.next(new Pi(d.id,this.urlSerializer.serialize(d.rawUrl),_,au.IgnoredSameUrlNavigation)),d.resolve(!1),Mt}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return A(d).pipe(Fe(_=>{let E=this.transitions?.getValue();return this.events.next(new pr(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),E!==this.transitions?.getValue()?Mt:Promise.resolve(_)}),GM(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),oe(_=>{r.targetSnapshot=_.targetSnapshot,r.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=Q(O({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let E=new qa(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(E)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:_,extractedUrl:E,source:y,restoredState:P,extras:T}=d,k=new pr(_,this.urlSerializer.serialize(E),y,P);this.events.next(k);let G=Xm(this.rootComponentType).snapshot;return this.currentTransition=r=Q(O({},d),{targetSnapshot:G,urlAfterRedirects:E,extras:Q(O({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,A(r)}else{let _="";return this.events.next(new Pi(d.id,this.urlSerializer.serialize(d.extractedUrl),_,au.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Mt}}),oe(d=>{let f=new cu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),U(d=>(this.currentTransition=r=Q(O({},d),{guards:uM(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),r)),yM(this.environmentInjector,d=>this.events.next(d)),oe(d=>{if(r.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw Ja(this.urlSerializer,d.guardsResult);let f=new lu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),nt(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",St.GuardRejected),!1)),tu(d=>{if(d.guards.canActivateChecks.length)return A(d).pipe(oe(f=>{let g=new du(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),Fe(f=>{let g=!1;return A(f).pipe(WM(this.paramsInheritanceStrategy,this.environmentInjector),oe({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",St.NoDataFromResolver)}}))}),oe(f=>{let g=new uu(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),tu(d=>{let f=g=>{let _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe(oe(E=>{g.component=E}),U(()=>{})));for(let E of g.children)_.push(...f(E));return _};return as(f(d.targetSnapshot.root)).pipe(Ln(null),_n(1))}),tu(()=>this.afterPreactivation()),Fe(()=>{let{currentSnapshot:d,targetSnapshot:f}=r,g=this.createViewTransition?.(this.environmentInjector,d.root,f.root);return g?Ce(g).pipe(U(()=>r)):A(r)}),U(d=>{let f=sM(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=r=Q(O({},d),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,r}),oe(()=>{this.events.next(new hr)}),dM(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),_n(1),oe({next:d=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ln(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{s=!0}}),Fc(this.transitionAbortSubject.pipe(oe(d=>{throw d}))),jn(()=>{!s&&!a&&this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ee(d=>{if(a=!0,o0(d))this.events.next(new Rn(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode)),lM(d)?this.events.next(new mo(d.url,d.navigationBehaviorOptions)):r.resolve(!1);else{let f=new fr(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);try{let g=Ht(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(g instanceof mr){let{message:_,cancellationCode:E}=Ja(this.urlSerializer,g);this.events.next(new Rn(r.id,this.urlSerializer.serialize(r.extractedUrl),_,E)),this.events.next(new mo(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(f);let _=e.errorHandler(d);r.resolve(!!_)}}catch(g){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(g)}}return Mt}))}))}cancelNavigationTransition(e,i,o){let r=new Rn(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rw(t){return t!==cr}var sw=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:()=>I(aw),providedIn:"root"})}}return t})(),Su=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},aw=(()=>{class t extends Su{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(t)))(o||t)}})()}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),p0=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:()=>I(cw),providedIn:"root"})}}return t})(),cw=(()=>{class t extends p0{constructor(){super(...arguments),this.location=I(Zo),this.urlSerializer=I(Iu),this.options=I(Ru,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(Fu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new An,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Xm(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof pr)this.stateMemento=this.createStateMemento();else if(e instanceof Pi)this.rawUrlTree=i.initialUrl;else if(e instanceof qa){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else e instanceof hr?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof Rn&&(e.code===St.GuardRejected||e.code===St.NoDataFromResolver)?this.restoreHistory(i):e instanceof fr?this.restoreHistory(i,!0):e instanceof ln&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let o=e instanceof An?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let r=this.browserPageId,s=O(O({},i.extras.state),this.generateNgRouterState(i.id,r));this.location.replaceState(o,"",s)}else{let r=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",r)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.currentUrlTree===e.finalUrl&&r===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(t)))(o||t)}})()}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(sr||{});function lw(t,n){t.events.pipe(nt(e=>e instanceof ln||e instanceof Rn||e instanceof fr||e instanceof Pi),U(e=>e instanceof ln||e instanceof Pi?sr.COMPLETE:(e instanceof Rn?e.code===St.Redirect||e.code===St.SupersededByNewNavigation:!1)?sr.REDIRECTING:sr.FAILED),nt(e=>e!==sr.REDIRECTING),_n(1)).subscribe(()=>{n()})}function dw(t){throw t}var uw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},le=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=I(xa),this.stateManager=I(p0),this.options=I(Ru,{optional:!0})||{},this.pendingTasks=I(Pn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(ow),this.urlSerializer=I(Iu),this.location=I(Zo),this.urlHandlingStrategy=I(Fu),this._events=new He,this.errorHandler=this.options.errorHandler||dw,this.navigated=!1,this.routeReuseStrategy=I(sw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(Nu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(ku,{optional:!0}),this.eventsSubscription=new Ae,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(i,r),i instanceof Rn&&i.code!==St.Redirect&&i.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ln)this.navigated=!0;else if(i instanceof mo){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),d=O({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rw(o.source)},s);this.scheduleNavigation(a,cr,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}hw(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,o){let r={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let d=O({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(r.state=d)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Au),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:o,queryParams:r,fragment:s,queryParamsHandling:a,preserveFragment:d}=i,f=d?this.currentUrlTree.fragment:s,g=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":g=O(O({},this.currentUrlTree.queryParams),r);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=r||null}g!==null&&(g=this.removeEmptyProps(g));let _;try{let E=o?o.snapshot:this.routerState.snapshot.root;_=Zm(E)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),_=this.currentUrlTree.root}return Km(_,e,g,f??null)}navigateByUrl(e,i={skipLocationChange:!1}){let o=Di(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,cr,null,i)}navigate(e,i={skipLocationChange:!1}){return fw(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let o;if(i===!0?o=O({},uw):i===!1?o=O({},pw):o=i,Di(e))return km(this.currentUrlTree,e,o);let r=this.parseUrl(e);return km(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((i,[o,r])=>(r!=null&&(i[o]=r),i),{})}scheduleNavigation(e,i,o,r,s){if(this.disposed)return Promise.resolve(!1);let a,d,f;s?(a=s.resolve,d=s.reject,f=s.promise):f=new Promise((_,E)=>{a=_,d=E});let g=this.pendingTasks.add();return lw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:a,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fw(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new N(4008,!1)}function hw(t){return!(t instanceof hr)&&!(t instanceof mo)}var Co=(()=>{class t{constructor(e,i,o,r,s,a){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=r,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new He,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let d=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=e.events.subscribe(f=>{f instanceof ln&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Di(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,o,r,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||o||r||s||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:zh(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let o=this.renderer,r=this.el.nativeElement;i!==null?o.setAttribute(r,e,i):o.removeAttribute(r,e)}get urlTree(){return this.routerLinkInput===null?null:Di(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||t)(M(le),M(dt),Xl("tabindex"),M(rn),M(Wt),M(ao))}}static{this.\u0275dir=he({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&v("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Be("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Sn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Sn],replaceUrl:[2,"replaceUrl","replaceUrl",Sn],routerLink:"routerLink"},standalone:!0,features:[bd,Zn]})}}return t})();var gw=new F("");function f0(t,...n){return Bo([{provide:Nu,multi:!0,useValue:t},[],{provide:dt,useFactory:mw,deps:[le]},{provide:ba,multi:!0,useFactory:vw},n.map(e=>e.\u0275providers)])}function mw(t){return t.routerState.root}function vw(){let t=I(xn);return n=>{let e=t.get(Xn);if(n!==e.components[0])return;let i=t.get(le),o=t.get(_w);t.get(Cw)===1&&i.initialNavigation(),t.get(xw,null,J.Optional)?.setUpPreloading(),t.get(gw,null,J.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var _w=new F("",{factory:()=>new He}),Cw=new F("",{providedIn:"root",factory:()=>1});var xw=new F("");var h0="http://localhost:8081";function bw(){return typeof window<"u"&&typeof window.location<"u"}function yw(t){return t.endsWith("/")?t.slice(0,-1):t}function Ew(){if(bw()){let t=yw(window.location.origin);return t.includes("localhost:4200")||t.includes("127.0.0.1:4200")?h0:t}return h0}var dn=Ew(),Nt=`${dn}/api`;var ge=(()=>{class t{constructor(e){if(this.http=e,this.currentUserSubject=new Te(null),this.selectedClientSubject=new Te(null),this.tokenSubject=new Te(null),this.currentUser$=this.currentUserSubject.asObservable(),this.selectedClient$=this.selectedClientSubject.asObservable(),this.API_URL=Nt,this.mockClients=[{id:1,nombre:"Distribuidora Norte",email:"norte@dist.com",telefono:"011-1234-5678",direccion:"Av. Corrientes 1234",activo:!0},{id:2,nombre:"Mayorista Sur",email:"sur@mayorista.com",telefono:"011-8765-4321",direccion:"Av. Santa Fe 5678",activo:!0},{id:3,nombre:"Comercial Este",email:"este@comercial.com",telefono:"011-5555-1234",direccion:"Av. Rivadavia 9999",activo:!0}],typeof window<"u"&&window.localStorage){let i=localStorage.getItem("currentUser"),o=localStorage.getItem("token");i&&o&&(this.currentUserSubject.next(JSON.parse(i)),this.tokenSubject.next(o))}}login(e){return this.http.post(`${this.API_URL}/auth/login`,e).pipe(U(i=>(typeof window<"u"&&window.localStorage&&(localStorage.setItem("token",i.token),localStorage.setItem("currentUser",JSON.stringify(i.usuario))),this.tokenSubject.next(i.token),this.currentUserSubject.next(i.usuario),i.usuario)),ee(i=>(console.error("Error en login:",i),wt(()=>new Error("Credenciales inv\xE1lidas")))))}register(e){return console.log("\u{1F535} [FRONTEND] Enviando petici\xF3n de registro:",e),console.log("\u{1F535} [FRONTEND] URL:",`${this.API_URL}/auth/register`),this.http.post(`${this.API_URL}/auth/register`,e).pipe(U(i=>{if(!i||!i.token||!i.usuario)throw new Error("Respuesta de registro incompleta o inv\xE1lida.");return typeof window<"u"&&window.localStorage&&(localStorage.setItem("token",i.token),localStorage.setItem("currentUser",JSON.stringify(i.usuario))),this.tokenSubject.next(i.token),this.currentUserSubject.next(i.usuario),i.usuario}),ee(i=>{console.error("Error en registro:",i);let o="Error al registrar usuario";return i.error&&i.error.message?o=i.error.message:i.status===400&&(o="Datos inv\xE1lidos. Verifica que el email y CUIT no est\xE9n registrados."),wt(()=>new Error(o))}))}recuperarContrase\u00F1a(e){return console.log("\u{1F535} [AUTH SERVICE] Solicitando recuperaci\xF3n de contrase\xF1a para:",e),this.http.post(`${this.API_URL}/auth/recuperar-contrase\xF1a`,{email:e}).pipe(ee(i=>{console.error("\u{1F534} [AUTH SERVICE] Error al recuperar contrase\xF1a:",i);let o=i.error?.message||"Error al solicitar recuperaci\xF3n de contrase\xF1a";return wt(()=>new Error(o))}))}actualizarPerfil(e,i){return console.log("\u{1F535} [AUTH SERVICE] Actualizando perfil para usuario:",e,i),this.http.put(`${this.API_URL}/usuarios/${e}`,i,{headers:this.getAuthHeaders()}).pipe(U(o=>{let r=this.getCurrentUser();return r&&r.id===o.id&&(this.currentUserSubject.next(o),typeof window<"u"&&window.localStorage&&localStorage.setItem("currentUser",JSON.stringify(o))),o}),ee(o=>{console.error("\u{1F534} [AUTH SERVICE] Error al actualizar perfil:",o);let r=o.error?.error||o.error?.message||"Error al actualizar el perfil";return wt(()=>new Error(r))}))}logout(){this.currentUserSubject.next(null),this.selectedClientSubject.next(null),this.tokenSubject.next(null),typeof window<"u"&&window.localStorage&&(localStorage.removeItem("currentUser"),localStorage.removeItem("selectedClient"),localStorage.removeItem("token"))}getCurrentUser(){return this.currentUserSubject.value}isLoggedIn(){return this.currentUserSubject.value!==null}isAdmin(){return this.currentUserSubject.value?.tipoUsuario==="ADMIN"}getToken(){return this.tokenSubject.value}getAuthHeaders(){let e=this.getToken();return new ct({Authorization:e?`Bearer ${e}`:"","Content-Type":"application/json"})}cambiarRol(e,i){return this.http.put(`${this.API_URL}/usuarios/${e}/rol`,{tipoUsuario:i},{headers:this.getAuthHeaders()}).pipe(U(o=>{let r=this.getCurrentUser();return r&&r.id===o.id&&(this.currentUserSubject.next(o),typeof window<"u"&&window.localStorage&&localStorage.setItem("currentUser",JSON.stringify(o))),o}),ee(o=>(console.error("Error al cambiar rol:",o),wt(()=>new Error("Error al cambiar rol")))))}getClientes(){return A(this.mockClients)}getUsuarios(){return this.http.get(`${this.API_URL}/usuarios`,{headers:this.getAuthHeaders()}).pipe(ee(e=>(console.error("Error al obtener usuarios:",e),wt(()=>new Error("Error al cargar usuarios")))))}selectClient(e){this.selectedClientSubject.next(e),typeof window<"u"&&window.localStorage&&localStorage.setItem("selectedClient",JSON.stringify(e))}getSelectedClient(){return this.selectedClientSubject.value}clearSelectedClient(){this.selectedClientSubject.next(null),typeof window<"u"&&window.localStorage&&localStorage.removeItem("selectedClient")}static{this.\u0275fac=function(i){return new(i||t)(z(lt))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var g0=(()=>{class t{constructor(e,i){this.authService=e,this.router=i,this.currentUser=null,this.selectedClient=null,this.isLoggedIn=!1}ngOnInit(){this.authService.currentUser$.subscribe(e=>{this.currentUser=e,this.isLoggedIn=!!e}),this.authService.selectedClient$.subscribe(e=>{this.selectedClient=e})}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(i){return new(i||t)(M(ge),M(le))}}static{this.\u0275cmp=de({type:t,selectors:[["app-root"]],standalone:!0,features:[ue],decls:1,vars:0,template:function(i,o){i&1&&H(0,"router-outlet")},dependencies:[Tu,_e]})}}return t})();var w0=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||t)(M(rn),M(Wt))}}static{this.\u0275dir=he({type:t})}}return t})(),wo=(()=>{class t extends w0{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(t)))(o||t)}})()}static{this.\u0275dir=he({type:t,features:[We]})}}return t})(),Si=new F(""),Mw={provide:Si,useExisting:Qe(()=>Lu),multi:!0},Lu=(()=>{class t extends wo{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(t)))(o||t)}})()}static{this.\u0275dir=he({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&v("change",function(s){return o.onChange(s.target.checked)})("blur",function(){return o.onTouched()})},features:[_t([Mw]),We]})}}return t})(),ww={provide:Si,useExisting:Qe(()=>Me),multi:!0};function Dw(){let t=kn()?kn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Pw=new F(""),Me=(()=>{class t extends w0{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Dw())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||t)(M(rn),M(Wt),M(Pw,8))}}static{this.\u0275dir=he({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&v("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[_t([ww]),We]})}}return t})();function Pr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function D0(t){return t!=null&&typeof t.length=="number"}var Ii=new F(""),P0=new F(""),Sw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Iw(t){return n=>{if(Pr(n.value)||Pr(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function Ow(t){return Pr(t.value)?{required:!0}:null}function Tw(t){return Pr(t.value)||Sw.test(t.value)?null:{email:!0}}function kw(t){return n=>Pr(n.value)||!D0(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function Rw(t){return n=>D0(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function m0(t){return null}function S0(t){return t!=null}function I0(t){return bi(t)?Ce(t):t}function O0(t){let n={};return t.forEach(e=>{n=e!=null?O(O({},n),e):n}),Object.keys(n).length===0?null:n}function T0(t,n){return n.map(e=>e(t))}function Aw(t){return!t.validate}function k0(t){return t.map(n=>Aw(n)?n:e=>n.validate(e))}function Nw(t){if(!t)return null;let n=t.filter(S0);return n.length==0?null:function(e){return O0(T0(e,n))}}function ju(t){return t!=null?Nw(k0(t)):null}function Fw(t){if(!t)return null;let n=t.filter(S0);return n.length==0?null:function(e){let i=T0(e,n).map(I0);return Tc(i).pipe(U(O0))}}function Uu(t){return t!=null?Fw(k0(t)):null}function v0(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function Vw(t){return t._rawValidators}function Lw(t){return t._rawAsyncValidators}function Vu(t){return t?Array.isArray(t)?t:[t]:[]}function ic(t,n){return Array.isArray(t)?t.includes(n):t===n}function _0(t,n){let e=Vu(n);return Vu(t).forEach(o=>{ic(e,o)||e.push(o)}),e}function C0(t,n){return Vu(n).filter(e=>!ic(t,e))}var oc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=ju(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Uu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},yo=class extends oc{get formDirective(){return null}get path(){return null}},Eo=class extends oc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},rc=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},jw={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},QF=Q(O({},jw),{"[class.ng-submitted]":"isSubmitted"}),we=(()=>{class t extends rc{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(M(Eo,2))}}static{this.\u0275dir=he({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&B("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[We]})}}return t})(),ii=(()=>{class t extends rc{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(M(yo,10))}}static{this.\u0275dir=he({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&B("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[We]})}}return t})();var yr="VALID",nc="INVALID",xo="PENDING",Er="DISABLED",Mo=class{},sc=class extends Mo{constructor(n,e){super(),this.value=n,this.source=e}},wr=class extends Mo{constructor(n,e){super(),this.pristine=n,this.source=e}},Dr=class extends Mo{constructor(n,e){super(),this.touched=n,this.source=e}},bo=class extends Mo{constructor(n,e){super(),this.status=n,this.source=e}};function R0(t){return(lc(t)?t.validators:t)||null}function Uw(t){return Array.isArray(t)?ju(t):t||null}function A0(t,n){return(lc(n)?n.asyncValidators:t)||null}function zw(t){return Array.isArray(t)?Uu(t):t||null}function lc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function $w(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new N(1e3,"");if(!i[e])throw new N(1001,"")}function Bw(t,n,e){t._forEachChild((i,o)=>{if(e[o]===void 0)throw new N(1002,"")})}var ac=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=qo(()=>this.statusReactive()),this.statusReactive=Wo(void 0),this._pristine=qo(()=>this.pristineReactive()),this.pristineReactive=Wo(!0),this._touched=qo(()=>this.touchedReactive()),this.touchedReactive=Wo(!1),this._events=new He,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return In(this.statusReactive)}set status(n){In(()=>this.statusReactive.set(n))}get valid(){return this.status===yr}get invalid(){return this.status===nc}get pending(){return this.status==xo}get disabled(){return this.status===Er}get enabled(){return this.status!==Er}get pristine(){return In(this.pristineReactive)}set pristine(n){In(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return In(this.touchedReactive)}set touched(n){In(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(_0(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(_0(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(C0(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(C0(n,this._rawAsyncValidators))}hasValidator(n){return ic(this._rawValidators,n)}hasAsyncValidator(n){return ic(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Q(O({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new Dr(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&n.emitEvent!==!1&&this._events.next(new Dr(!1,i))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Q(O({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new wr(!1,i))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&n.emitEvent!==!1&&this._events.next(new wr(!0,i))}markAsPending(n={}){this.status=xo;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new bo(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Q(O({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Er,this.errors=null,this._forEachChild(o=>{o.disable(Q(O({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new sc(this.value,i)),this._events.next(new bo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Q(O({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=yr,this._forEachChild(i=>{i.enable(Q(O({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Q(O({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yr||this.status===xo)&&this._runAsyncValidator(i,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new sc(this.value,e)),this._events.next(new bo(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Q(O({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Er:yr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=xo,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=I0(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new bo(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?Er:this.errors?nc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xo)?xo:this._anyControlsHaveStatus(nc)?nc:yr}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),o&&this._events.next(new wr(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Dr(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){lc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Uw(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=zw(this._rawAsyncValidators)}},cc=class extends ac{constructor(n,e,i){super(R0(e),A0(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){Bw(this,!0,n),Object.keys(n).forEach(i=>{$w(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let o=this.controls[i];o&&o.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,o)=>{i.reset(n?n[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((o,r)=>{i=e(i,o,r)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var dc=new F("CallSetDisabledState",{providedIn:"root",factory:()=>uc}),uc="always";function Hw(t,n){return[...n.path,t]}function N0(t,n,e=uc){F0(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),Ww(t,n),Yw(t,n),qw(t,n),Gw(t,n)}function x0(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Gw(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function F0(t,n){let e=Vw(t);n.validator!==null?t.setValidators(v0(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=Lw(t);n.asyncValidator!==null?t.setAsyncValidators(v0(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let o=()=>t.updateValueAndValidity();x0(n._rawValidators,o),x0(n._rawAsyncValidators,o)}function Ww(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&V0(t,n)})}function qw(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&V0(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function V0(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Yw(t,n){let e=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function Zw(t,n){t==null,F0(t,n)}function Kw(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function Qw(t){return Object.getPrototypeOf(t.constructor)===wo}function Jw(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Xw(t,n){if(!n)return null;Array.isArray(n);let e,i,o;return n.forEach(r=>{r.constructor===Me?e=r:Qw(r)?i=r:o=r}),o||i||e||null}var eD={provide:yo,useExisting:Qe(()=>Nn)},Mr=Promise.resolve(),Nn=(()=>{class t extends yo{get submitted(){return In(this.submittedReactive)}constructor(e,i,o){super(),this.callSetDisabledState=o,this._submitted=qo(()=>this.submittedReactive()),this.submittedReactive=Wo(!1),this._directives=new Set,this.ngSubmit=new Ve,this.form=new cc({},ju(e),Uu(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Mr.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),N0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Mr.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Mr.then(()=>{let i=this._findContainer(e.path),o=new cc({});Zw(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Mr.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Mr.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Jw(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||t)(M(Ii,10),M(P0,10),M(dc,8))}}static{this.\u0275dir=he({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&v("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_t([eD]),We]})}}return t})();function b0(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function y0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var tD=class extends ac{constructor(n=null,e,i){super(R0(e),A0(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(y0(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){b0(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){b0(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){y0(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var nD={provide:Eo,useExisting:Qe(()=>Ee)},E0=Promise.resolve(),Ee=(()=>{class t extends Eo{constructor(e,i,o,r,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new tD,this._registered=!1,this.name="",this.update=new Ve,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Xw(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Kw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){N0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){E0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,o=i!==0&&Sn(i);E0.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Hw(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||t)(M(yo,9),M(Ii,10),M(P0,10),M(Si,10),M(qt,8),M(dc,8))}}static{this.\u0275dir=he({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_t([nD]),We,Zn]})}}return t})(),oi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=he({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),iD={provide:Si,useExisting:Qe(()=>Sr),multi:!0},Sr=(()=>{class t extends wo{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(t)))(o||t)}})()}static{this.\u0275dir=he({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&v("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},features:[_t([iD]),We]})}}return t})(),oD={provide:Si,useExisting:Qe(()=>zu),multi:!0};var rD=(()=>{class t{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zu=(()=>{class t extends wo{constructor(e,i,o,r){super(e,i),this._registry=o,this._injector=r,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=I(dc,{optional:!0})??uc}ngOnInit(){this._control=this._injector.get(Eo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||t)(M(rn),M(Wt),M(rD),M(xn))}}static{this.\u0275dir=he({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){i&1&&v("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[_t([oD]),We]})}}return t})();var sD={provide:Si,useExisting:Qe(()=>Ft),multi:!0};function L0(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function aD(t){return t.split(":")[0]}var Ft=(()=>{class t extends wo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),o=L0(i,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=aD(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(t)))(o||t)}})()}static{this.\u0275dir=he({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&v("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[_t([sD]),We]})}}return t})(),un=(()=>{class t{constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(L0(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(M(Wt),M(rn),M(Ft,9))}}static{this.\u0275dir=he({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),cD={provide:Si,useExisting:Qe(()=>j0),multi:!0};function M0(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function lD(t){return t.split(":")[0]}var j0=(()=>{class t extends wo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let o=e.map(r=>this._getOptionId(r));i=(r,s)=>{r._setSelected(o.indexOf(s.toString())>-1)}}else i=(o,r)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let o=[],r=i.selectedOptions;if(r!==void 0){let s=r;for(let a=0;a<s.length;a++){let d=s[a],f=this._getOptionValue(d.value);o.push(f)}}else{let s=i.options;for(let a=0;a<s.length;a++){let d=s[a];if(d.selected){let f=this._getOptionValue(d.value);o.push(f)}}}this.value=o,e(o)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=lD(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(t)))(o||t)}})()}static{this.\u0275dir=he({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&v("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[_t([cD]),We]})}}return t})(),pn=(()=>{class t{constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(M0(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(M0(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||t)(M(Wt),M(rn),M(j0,9))}}static{this.\u0275dir=he({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function U0(t){return typeof t=="number"?t:parseInt(t,10)}function dD(t){return typeof t=="number"?t:parseFloat(t)}var Ir=(()=>{class t{constructor(){this._validator=m0}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):m0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=he({type:t,features:[Zn]})}}return t})();var uD={provide:Ii,useExisting:Qe(()=>Or),multi:!0},Or=(()=>{class t extends Ir{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>dD(e),this.createValidator=e=>Iw(e)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(t)))(o||t)}})()}static{this.\u0275dir=he({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&Be("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[_t([uD]),We]})}}return t})(),pD={provide:Ii,useExisting:Qe(()=>Kt),multi:!0};var Kt=(()=>{class t extends Ir{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Sn,this.createValidator=e=>Ow}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(t)))(o||t)}})()}static{this.\u0275dir=he({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&Be("required",o._enabled?"":null)},inputs:{required:"required"},features:[_t([pD]),We]})}}return t})();var fD={provide:Ii,useExisting:Qe(()=>Tr),multi:!0},Tr=(()=>{class t extends Ir{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Sn,this.createValidator=e=>Tw}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(t)))(o||t)}})()}static{this.\u0275dir=he({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[_t([fD]),We]})}}return t})(),hD={provide:Ii,useExisting:Qe(()=>$u),multi:!0},$u=(()=>{class t extends Ir{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>U0(e),this.createValidator=e=>kw(e)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(t)))(o||t)}})()}static{this.\u0275dir=he({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&Be("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[_t([hD]),We]})}}return t})(),gD={provide:Ii,useExisting:Qe(()=>Bu),multi:!0},Bu=(()=>{class t extends Ir{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>U0(e),this.createValidator=e=>Rw(e)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(t)))(o||t)}})()}static{this.\u0275dir=he({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&Be("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[_t([gD]),We]})}}return t})();var mD=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Yn({type:t})}static{this.\u0275inj=qn({})}}return t})();var ye=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:dc,useValue:e.callSetDisabledState??uc}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=Yn({type:t})}static{this.\u0275inj=qn({imports:[mD]})}}return t})();var $=function(t){return t.PENDIENTE="Pendiente",t.CONFIRMADO="Confirmado",t.ENTREGADO="Entregado",t.CANCELADO="Cancelado",t}($||{}),Re=function(t){return t.PEDIDO="Pedido",t.DEVOLUCION="Devoluci\xF3n",t}(Re||{}),z0=function(t){return t.SALVABLE="Salvable",t.FALLADO="Fallado",t}(z0||{}),fn=(()=>{class t{constructor(e){this.http=e,this.pedidos=[],this.nextId=1,this.API_URL=Nt}mapToPedido(e){console.log("\u{1F535} [ORDERS SERVICE] Mapeando DTO:",e),console.log("\u{1F535} [ORDERS SERVICE] Usuario en DTO:",e.usuario),console.log("\u{1F535} [ORDERS SERVICE] M\xE9todo de pago en DTO:",e.metodoPago);let i;if(typeof e.estado=="string")switch(e.estado.toUpperCase()){case"BORRADOR":case"PENDIENTE":i=$.PENDIENTE;break;case"CONFIRMADO":i=$.CONFIRMADO;break;case"ENTREGADO":i=$.ENTREGADO;break;case"CANCELADO":i=$.CANCELADO;break;default:i=$.PENDIENTE}else i=e.estado;let o={id:e.id,clienteId:e.clienteId,fecha:new Date(e.fecha),montoTotal:e.total||e.montoTotal||0,estado:i,tipo:e.tipo==="DEVOLUCION"?Re.DEVOLUCION:Re.PEDIDO,tipoAprobacionDevolucion:e.tipoAprobacionDevolucion,metodoPago:e.metodoPago,usuario:e.usuario,items:(e.detalles||e.items||[]).map(r=>({id:r.id,productoId:r.variante?.producto?.id||0,varianteId:r.variante?.id||r.varianteId||0,cantidad:r.cantidad,precioUnitario:r.precioUnitario,subtotal:r.precioUnitario*r.cantidad,variante:r.variante?{id:r.variante.id,sku:r.variante.sku,color:r.variante.color,talle:r.variante.talle,precio:r.variante.precio,stockDisponible:r.variante.stockDisponible}:void 0,productoNombre:r.variante?.producto?.nombre||`Producto ${r.variante?.sku||r.varianteId}`}))};return console.log("\u{1F535} [ORDERS SERVICE] Pedido mapeado:",o),console.log("\u{1F535} [ORDERS SERVICE] Usuario en pedido mapeado:",o.usuario),console.log("\u{1F535} [ORDERS SERVICE] M\xE9todo de pago en pedido mapeado:",o.metodoPago),o}initializeMockData(){let e=new Date;this.pedidos=[{id:1,clienteId:1,fecha:new Date(2024,3,24),montoTotal:56760,estado:$.PENDIENTE,tipo:Re.PEDIDO,items:[]},{id:2,clienteId:1,fecha:new Date(2024,3,15),montoTotal:83250,estado:$.PENDIENTE,tipo:Re.PEDIDO,items:[]},{id:3,clienteId:1,fecha:new Date(2024,3,2),montoTotal:31400,estado:$.ENTREGADO,tipo:Re.PEDIDO,items:[]},{id:4,clienteId:1,fecha:new Date(2024,2,20),montoTotal:67975,estado:$.ENTREGADO,tipo:Re.PEDIDO,items:[]},{id:5,clienteId:1,fecha:new Date(2024,2,5),montoTotal:94140,estado:$.ENTREGADO,tipo:Re.PEDIDO,items:[]},{id:6,clienteId:1,fecha:new Date(2024,1,18),montoTotal:79800,estado:$.ENTREGADO,tipo:Re.DEVOLUCION,tipoDevolucion:z0.SALVABLE,items:[]}],this.nextId=7}crearPedido(e,i,o,r){console.log("\u{1F535} [ORDERS SERVICE] Creando pedido para cliente:",e,"items:",i,"m\xE9todo de pago:",o,"usuario:",r);let s=r?{clienteId:e,metodoPago:o,usuario:{nombreRazonSocial:r.nombreRazonSocial,email:r.email}}:{clienteId:e,metodoPago:o};return console.log("\u{1F535} [ORDERS SERVICE] Request body que se env\xEDa al backend:",s),this.http.post(`${this.API_URL}/pedidos/crear`,s).pipe(Fe(a=>{console.log("\u{1F535} [ORDERS SERVICE] Pedido b\xE1sico creado:",a);let d=null;return Ce(i).pipe(jt(f=>this.http.post(`${this.API_URL}/pedidos/${a.id}/items?varianteId=${f.varianteId}&cantidad=${f.cantidad}`,{}).pipe(U(g=>(console.log("\u{1F535} [ORDERS SERVICE] Item agregado:",f.varianteId,"cantidad:",f.cantidad,"response:",g),d=g,{success:!0,pedidoResponse:g,item:f})),ee(g=>(console.error("\u{1F534} [ORDERS SERVICE] Error al agregar item:",f.varianteId,"error:",g),A({success:!1,error:g,item:f}))))),ds(),Fe(f=>{let g=f.filter(E=>E&&E.success);if(console.log("\u{1F535} [ORDERS SERVICE] Items agregados exitosamente:",g.length,"de",i.length),d&&g.length===i.length)if(o&&(o.toLowerCase()==="mercadopago"||o.toLowerCase()==="mercado_pago"||o.toLowerCase()==="mercado pago")){console.log("\u{1F535} [ORDERS SERVICE] M\xE9todo de pago es MercadoPago. Pedido se queda en BORRADOR hasta confirmar el pago.");let y=this.mapToPedido(d);return A(y)}else return console.log("\u{1F535} [ORDERS SERVICE] Todos los items agregados. Confirmando pedido para descontar stock..."),this.http.post(`${this.API_URL}/pedidos/${a.id}/confirmar`,{}).pipe(U(y=>(console.log("\u2705 [ORDERS SERVICE] Pedido confirmado - Stock descontado:",y),this.mapToPedido(y))),ee(y=>{console.error("\u{1F534} [ORDERS SERVICE] Error al confirmar pedido (pero items ya agregados):",y);let P=this.mapToPedido(d);return console.warn("\u26A0\uFE0F [ORDERS SERVICE] Pedido creado pero NO confirmado - Stock NO descontado"),A(P)}));else if(d){console.warn("\u26A0\uFE0F [ORDERS SERVICE] Algunos items no se agregaron. Pedido NO confirmado.");let E=this.mapToPedido(d);return A(E)}console.log("\u{1F7E1} [ORDERS SERVICE] No hay respuesta exitosa guardada, usando pedido b\xE1sico");let _={id:a.id,clienteId:e,fecha:new Date(a.fecha||new Date),montoTotal:a.total||0,estado:$.PENDIENTE,tipo:Re.PEDIDO,items:i};return A(_)}))}),ee(a=>{console.error("\u{1F534} [ORDERS SERVICE] Error al crear pedido:",a),console.error("\u{1F534} [ORDERS SERVICE] Error status:",a.status),console.error("\u{1F534} [ORDERS SERVICE] Error message:",a.message),a.status===500?(console.error("\u{1F534} [ORDERS SERVICE] Error 500: Problema interno del servidor al crear pedido"),console.error("\u{1F534} [ORDERS SERVICE] Verificar que el endpoint POST /api/pedidos/crear est\xE9 implementado correctamente")):a.status===404&&console.error("\u{1F534} [ORDERS SERVICE] Error 404: Endpoint no encontrado"),console.log("\u{1F7E1} [ORDERS SERVICE] Usando fallback mock debido a error del backend");let d=i.reduce((g,_)=>g+_.subtotal,0),f={id:-this.nextId++,clienteId:e,fecha:new Date,montoTotal:d,estado:$.PENDIENTE,tipo:Re.PEDIDO,items:i};return console.log("\u{1F7E1} [ORDERS SERVICE] Pedido mock creado con ID negativo:",f.id),A(f)}))}getTodosLosPedidos(){return console.log("\u{1F535} [ORDERS SERVICE] Obteniendo todos los pedidos"),console.log("\u{1F535} [ORDERS SERVICE] URL completa:",`${this.API_URL}/pedidos/todos`),this.http.get(`${this.API_URL}/pedidos/todos`).pipe(oe(e=>{console.log("\u{1F535} [ORDERS SERVICE] Respuesta del backend:",e),console.log("\u{1F535} [ORDERS SERVICE] Cantidad de pedidos:",e?.length||0)}),U(e=>Array.isArray(e)?e.map(i=>this.mapToPedido(i)):(console.error("\u{1F534} [ORDERS SERVICE] La respuesta no es un array:",e),[])),ee(e=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error HTTP al obtener todos los pedidos:",e),e.status===500?new Error("Error interno del servidor. Por favor, int\xE9ntalo de nuevo m\xE1s tarde."):e.status===404?new Error("Endpoint no encontrado. Verifica la configuraci\xF3n del servidor."):new Error("Error al obtener todos los pedidos: "+e.message)}))}getHistorialPorCliente(e){return console.log("\u{1F535} [ORDERS SERVICE] Obteniendo historial para cliente:",e),console.log("\u{1F535} [ORDERS SERVICE] URL completa:",`${this.API_URL}/pedidos?clienteId=${e}`),this.http.get(`${this.API_URL}/pedidos?clienteId=${e}`,{headers:{"Content-Type":"application/json"},responseType:"text"}).pipe(oe(i=>{console.log("\u{1F535} [ORDERS SERVICE] Respuesta raw del backend (string):",i),console.log("\u{1F535} [ORDERS SERVICE] Tipo de respuesta:",typeof i),console.log("\u{1F535} [ORDERS SERVICE] Primeros 200 caracteres:",i?.substring(0,200))}),U(i=>{if(typeof i=="string"&&(i.includes("<html>")||i.includes("<!DOCTYPE")))throw console.error("\u{1F534} [ORDERS SERVICE] Backend devolvi\xF3 HTML en lugar de JSON. Posible error 500 o problema de configuraci\xF3n."),new Error("Backend devolvi\xF3 HTML: "+i.substring(0,100));if(!i||i.trim()==="")return console.log("\u{1F7E1} [ORDERS SERVICE] Respuesta vac\xEDa del backend"),[];let o=i.trim();if(!o.startsWith("[")||!o.endsWith("]"))throw console.error("\u{1F534} [ORDERS SERVICE] JSON parece estar truncado o malformado"),console.error("\u{1F534} [ORDERS SERVICE] Inicio:",o.substring(0,100)),console.error("\u{1F534} [ORDERS SERVICE] Final:",o.substring(o.length-100)),new Error("JSON truncado o malformado - posible referencia circular en el backend");try{let r=JSON.parse(i);if(console.log("\u{1F535} [ORDERS SERVICE] JSON parseado correctamente:",r),!Array.isArray(r))return console.log("\u{1F7E1} [ORDERS SERVICE] Backend no devolvi\xF3 array, retornando lista vac\xEDa"),[];console.log("\u{1F535} [ORDERS SERVICE] Mapeando",r.length,"pedidos...");let a=r.map(d=>{let f=d.detalles?d.detalles.map(g=>({id:g.id,cantidad:g.cantidad,precioUnitario:g.precioUnitario,variante:g.variante?{id:g.variante.id,sku:g.variante.sku,color:g.variante.color,talle:g.variante.talle,precio:g.variante.precio,stockDisponible:g.variante.stockDisponible}:null})):[];return{id:d.id,fecha:d.fecha,estado:d.estado,tipo:d.tipo,total:d.total,clienteId:d.clienteId,metodoPago:d.metodoPago,detalles:f,usuario:d.usuario?{id:d.usuario.id,nombreRazonSocial:d.usuario.nombreRazonSocial}:null}}).map(d=>this.mapToPedido(d));return console.log("\u{1F535} [ORDERS SERVICE] Pedidos mapeados:",a),a}catch(r){throw console.error("\u{1F534} [ORDERS SERVICE] Error al parsear JSON:",r),console.error("\u{1F534} [ORDERS SERVICE] Longitud de respuesta:",i.length),console.error("\u{1F534} [ORDERS SERVICE] Primeros 500 caracteres:",i.substring(0,500)),console.error("\u{1F534} [ORDERS SERVICE] \xDAltimos 500 caracteres:",i.substring(Math.max(0,i.length-500))),r instanceof SyntaxError&&r.message.includes("Unexpected token")?new Error("JSON malformado debido a referencias circulares en el backend. Verificar @JsonIgnore o DTOs"):new Error("Error de parsing JSON: "+r)}}),oe(i=>{console.log("\u{1F535} [ORDERS SERVICE] Historial final procesado:",i.length,"pedidos"),i.length>0&&console.log("\u{1F535} [ORDERS SERVICE] Primer pedido:",i[0])}),ee(i=>(console.error("\u{1F534} [ORDERS SERVICE] Error al obtener historial:",i),console.error("\u{1F534} [ORDERS SERVICE] Error status:",i.status),console.error("\u{1F534} [ORDERS SERVICE] Error message:",i.message),console.error("\u{1F534} [ORDERS SERVICE] Error completo:",i),i.status===404?(console.error("\u{1F534} [ORDERS SERVICE] Error 404: Endpoint GET /api/pedidos no encontrado"),console.error("\u{1F534} [ORDERS SERVICE] Verificar que el endpoint GET /api/pedidos?clienteId=X est\xE9 implementado en el controller")):i.status===500?console.error("\u{1F534} [ORDERS SERVICE] Error 500: Problema interno del servidor"):i.message&&i.message.includes("Http failure during parsing")?(console.error("\u{1F534} [ORDERS SERVICE] Error de parsing JSON: El backend est\xE1 devolviendo HTML o texto en lugar de JSON"),console.error("\u{1F534} [ORDERS SERVICE] Verificar que el endpoint GET /api/pedidos devuelva JSON v\xE1lido")):i.status===200&&console.error("\u{1F534} [ORDERS SERVICE] Status 200 pero con error: Posible problema de formato de respuesta"),console.log("\u{1F7E1} [ORDERS SERVICE] Usando fallback: lista vac\xEDa debido a error del backend"),A([]))))}crearDevolucion(e,i,o){let r=this.pedidos.find(a=>a.id===i);if(!r)throw new Error("Pedido original no encontrado");let s={id:this.nextId++,clienteId:e,fecha:new Date,montoTotal:r.montoTotal,estado:$.ENTREGADO,tipo:Re.DEVOLUCION,tipoDevolucion:o,items:[]};return this.pedidos.unshift(s),A(s)}aprobarDevolucionApta(e){return console.log("\u{1F535} [ORDERS SERVICE] Aprobando devoluci\xF3n como apta:",e),this.http.post(`${this.API_URL}/devoluciones/${e}/aprobar-apta`,{}).pipe(oe(i=>{console.log("\u2705 [ORDERS SERVICE] Devoluci\xF3n aprobada como apta:",i)}),ee(i=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al aprobar devoluci\xF3n como apta:",i),i}))}aprobarDevolucionScrap(e){return console.log("\u{1F535} [ORDERS SERVICE] Aprobando devoluci\xF3n como scrap:",e),this.http.post(`${this.API_URL}/devoluciones/${e}/aprobar-scrap`,{}).pipe(oe(i=>{console.log("\u2705 [ORDERS SERVICE] Devoluci\xF3n aprobada como scrap:",i)}),ee(i=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al aprobar devoluci\xF3n como scrap:",i),i}))}cambiarEstadoPedido(e,i){return console.log("\u{1F535} [ORDERS SERVICE] Cambiando estado del pedido",e,"a:",i),i===$.ENTREGADO?this.http.post(`${this.API_URL}/pedidos/${e}/confirmar`,{}).pipe(oe(o=>{console.log("\u{1F535} [ORDERS SERVICE] Pedido confirmado:",o)}),ee(o=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al confirmar pedido:",o),o})):i===$.CANCELADO?this.http.post(`${this.API_URL}/pedidos/${e}/cancelar`,{}).pipe(oe(o=>{console.log("\u{1F535} [ORDERS SERVICE] Pedido cancelado:",o)}),ee(o=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al cancelar pedido:",o),o})):i===$.PENDIENTE?(console.log("\u{1F7E1} [ORDERS SERVICE] Volviendo a pendiente, usando confirmar por defecto"),this.http.post(`${this.API_URL}/pedidos/${e}/confirmar`,{}).pipe(ee(o=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al cambiar estado:",o),o}))):(console.log("\u{1F7E1} [ORDERS SERVICE] Estado no espec\xEDfico, usando confirmar por defecto"),this.http.post(`${this.API_URL}/pedidos/${e}/confirmar`,{}).pipe(ee(o=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al cambiar estado:",o),o})))}actualizarEstado(e,i){let o=this.pedidos.find(r=>r.id===e);if(!o)throw new Error("Pedido no encontrado");return o.estado=i,A(o)}getAllPedidos(){return A([...this.pedidos])}getPedidoPorId(e){return console.log("\u{1F535} [ORDERS SERVICE] Obteniendo pedido por ID:",e),console.log("\u{1F535} [ORDERS SERVICE] URL completa:",`${this.API_URL}/pedidos/${e}`),this.http.get(`${this.API_URL}/pedidos/${e}`).pipe(oe(i=>{console.log("\u{1F535} [ORDERS SERVICE] Pedido obtenido del backend:",i)}),U(i=>this.mapToPedido(i)),ee(i=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al obtener pedido:",i),i.status===404?new Error("Pedido no encontrado"):i}))}getPedidosPorCliente(e){return console.log("\u{1F535} [ORDERS SERVICE] Obteniendo pedidos por cliente:",e),console.log("\u{1F535} [ORDERS SERVICE] URL completa:",`${this.API_URL}/pedidos?clienteId=${e}`),this.http.get(`${this.API_URL}/pedidos?clienteId=${e}`).pipe(oe(i=>{console.log("\u{1F535} [ORDERS SERVICE] Pedidos del cliente obtenidos:",i)}),U(i=>i.map(o=>this.mapToPedido(o))),ee(i=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al obtener pedidos del cliente:",i),i.status===404?new Error("Cliente no encontrado"):i}))}consultarDisponibilidadDevolucion(e,i){return console.log("\u{1F535} [ORDERS SERVICE] Consultando disponibilidad - Cliente:",e,"Variante:",i),this.http.get(`${this.API_URL}/devoluciones/disponibilidad?clienteId=${e}&varianteId=${i}`).pipe(oe(o=>{console.log("\u{1F535} [ORDERS SERVICE] Disponibilidad consultada:",o)}),ee(o=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al consultar disponibilidad:",o),o}))}crearNotaDevolucion(e,i){return console.log("\u{1F535} [ORDERS SERVICE] Creando nota de devoluci\xF3n para cliente:",e),console.log("\u{1F535} [ORDERS SERVICE] Items:",i),this.http.post(`${this.API_URL}/devoluciones/crear?clienteId=${e}`,{}).pipe(Fe(o=>(console.log("\u{1F535} [ORDERS SERVICE] Devoluci\xF3n creada:",o),Ce(i).pipe(jt(r=>(console.log("\u{1F535} [ORDERS SERVICE] Agregando item:",r),this.http.post(`${this.API_URL}/devoluciones/${o.id}/items?varianteId=${r.varianteId}&cantidad=${r.cantidad}&motivo=Devoluci\xF3n por solicitud del cliente`,{}))),ds(),U(r=>(console.log("\u{1F535} [ORDERS SERVICE] Respuestas de agregar items:",r),o)),oe(()=>{console.log("\u{1F535} [ORDERS SERVICE] Todos los items agregados exitosamente")})))),ee(o=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al crear nota de devoluci\xF3n:",o),console.error("\u{1F534} [ORDERS SERVICE] Error status:",o.status),console.error("\u{1F534} [ORDERS SERVICE] Error message:",o.message),console.error("\u{1F534} [ORDERS SERVICE] Error body:",o.error),o.error&&typeof o.error=="string"?new Error(o.error):o.error&&o.error.message?new Error(o.error.message):o}))}static{this.\u0275fac=function(i){return new(i||t)(z(lt))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ye=(()=>{class t{constructor(e,i){this.ordersService=e,this.http=i,this.base="/api/carrito",this.carritoItems=[],this.CART_STORAGE_KEY="cart_items",this.CART_ID_STORAGE_KEY="carrito_id",this.loadCarritoFromStorage()}loadCarritoFromStorage(){if(typeof window<"u"&&window.localStorage)try{let e=localStorage.getItem(this.CART_STORAGE_KEY);e&&(this.carritoItems=JSON.parse(e),console.log("\u{1F535} [CART SERVICE] Carrito cargado desde localStorage:",this.carritoItems));let i=localStorage.getItem(this.CART_ID_STORAGE_KEY);i&&(this.carritoId=Number(i),console.log("\u{1F535} [CART SERVICE] CarritoId cargado desde localStorage:",this.carritoId))}catch(e){console.error("Error al cargar carrito desde localStorage:",e),this.carritoItems=[]}}saveCarritoToStorage(){if(typeof window<"u"&&window.localStorage)try{localStorage.setItem(this.CART_STORAGE_KEY,JSON.stringify(this.carritoItems)),this.carritoId&&localStorage.setItem(this.CART_ID_STORAGE_KEY,String(this.carritoId)),console.log("\u{1F535} [CART SERVICE] Carrito guardado en localStorage:",this.carritoItems)}catch(e){console.error("Error al guardar carrito en localStorage:",e)}}crear(e){return this.carritoId?(console.log("\u{1F535} [CART SERVICE] Carrito ya existe:",this.carritoId),new Y(i=>{i.next(this.carritoId),i.complete()})):new Y(i=>{setTimeout(()=>{this.carritoId=Math.floor(Math.random()*1e3)+1,console.log("\u{1F535} [CART SERVICE] Nuevo carrito creado:",this.carritoId),this.saveCarritoToStorage(),i.next(this.carritoId),i.complete()},300)})}agregarItem(e,i,o){return new Y(r=>{this.http.get(`${dn}/api/productos`).subscribe({next:s=>{let a=null,d=null;for(let g of s){let _=g.variantes?.find(E=>E.id===i);if(_){a=_,d=g;break}}if(!a||!d){console.error(`Variante ${i} no encontrada`),r.error("Variante no encontrada");return}console.log("\u{1F535} [CART SERVICE] Variante encontrada:",a),console.log("\u{1F535} [CART SERVICE] Producto padre:",d);let f=this.carritoItems.find(g=>g.varianteId===i);if(f)f.cantidad+=o,f.subtotal=f.cantidad*f.precioUnitario;else{let _={id:Math.max(0,...this.carritoItems.map(E=>E.id))+1,varianteId:i,cantidad:o,precioUnitario:a.precio,sku:a.sku,color:a.color,talle:a.talle,productoNombre:d.nombre,subtotal:o*a.precio};this.carritoItems.push(_)}console.log(`Agregando ${o} unidades de variante ${i} al carrito ${e}`),console.log("\u{1F535} [CART SERVICE] Carrito actualizado:",this.carritoItems),this.saveCarritoToStorage(),r.next(),r.complete()},error:s=>{console.error("Error al obtener productos:",s),r.error(s)}})})}convertirAPedido(e){return new Y(i=>{setTimeout(()=>{let o=this.carritoItems.reduce((s,a)=>s+a.subtotal,0),r={id:Math.floor(Math.random()*1e3)+1,clienteId:1,fecha:new Date().toISOString(),estado:"BORRADOR",total:o,detalles:this.carritoItems.map(s=>({varianteId:s.varianteId,cantidad:s.cantidad,precioUnitario:s.precioUnitario,sku:s.sku,color:s.color,talle:s.talle}))};i.next(r),i.complete()},500)})}getCarritoItems(){return this.carritoItems}getTotalCarrito(){return this.carritoItems.reduce((e,i)=>e+i.subtotal,0)}getCantidadItems(){return this.carritoItems.reduce((e,i)=>e+i.cantidad,0)}limpiarCarrito(){this.carritoItems=[],this.saveCarritoToStorage(),console.log("\u{1F535} [CART SERVICE] Carrito limpiado y guardado")}removerItem(e){this.carritoItems=this.carritoItems.filter(i=>i.id!==e),this.saveCarritoToStorage(),console.log("\u{1F535} [CART SERVICE] Item removido del carrito:",e)}actualizarCantidad(e,i){let o=this.carritoItems.find(r=>r.id===e);o&&(i<=0?this.removerItem(e):(o.cantidad=i,o.subtotal=o.cantidad*o.precioUnitario,this.saveCarritoToStorage(),console.log("\u{1F535} [CART SERVICE] Cantidad actualizada para item:",e,"Nueva cantidad:",i)))}getCarritoId(){return this.carritoId}generarPedido(e){if(this.carritoItems.length===0)throw new Error("El carrito est\xE1 vac\xEDo");let i=this.carritoItems.map(o=>({id:o.id,productoId:0,varianteId:o.varianteId,cantidad:o.cantidad,precioUnitario:o.precioUnitario,subtotal:o.subtotal}));return new Y(o=>{this.ordersService.crearPedido(e,i).subscribe(r=>{this.limpiarCarrito(),o.next(r.id),o.complete()})})}getCartItemCount(){return this.carritoItems.reduce((e,i)=>e+i.cantidad,0)}static{this.\u0275fac=function(i){return new(i||t)(z(fn),z(lt))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vD(t,n){if(t&1&&(l(0,"span",26),u(1),c()),t&2){let e=m();p(),w(e.cartItemCount)}}function _D(t,n){if(t&1&&(l(0,"option",35),u(1),c()),t&2){let e=n.$implicit;h("value",e.id),p(),Pe(" ",e.nombreRazonSocial," (",e.email,") ")}}function CD(t,n){t&1&&(l(0,"div",36),u(1," Cargando usuarios... "),c())}function xD(t,n){if(t&1&&(l(0,"div",37)(1,"strong"),u(2,"Cliente seleccionado:"),c(),u(3),c()),t&2){let e=m(2);p(3),D(" ",e.selectedUser.nombreRazonSocial," ")}}function bD(t,n){if(t&1){let e=S();l(0,"div",27)(1,"div",28)(2,"label",29),u(3,"Seleccionar Cliente:"),c(),l(4,"select",30),L("ngModelChange",function(o){C(e);let r=m();return j(r.selectedUserId,o)||(r.selectedUserId=o),x(o)}),v("change",function(){C(e);let o=m();return x(o.onUserChange())})("ngModelChange",function(){C(e);let o=m();return x(o.onUserChange())}),l(5,"option",31),u(6,"Seleccionar cliente..."),c(),b(7,_D,2,3,"option",32),c(),b(8,CD,2,0,"div",33)(9,xD,4,1,"div",34),c()()}if(t&2){let e=m();p(4),V("ngModel",e.selectedUserId),h("disabled",e.loadingUsers),p(3),h("ngForOf",e.usuarios),p(),h("ngIf",e.loadingUsers),p(),h("ngIf",e.selectedUser)}}function yD(t,n){if(t&1){let e=S();l(0,"div",45)(1,"div",46)(2,"h4"),u(3),c(),l(4,"p"),u(5),c(),l(6,"p"),u(7),c()(),l(8,"div",47)(9,"label",48),u(10,"Cantidad:"),c(),l(11,"input",49),v("input",function(o){let r=C(e).$implicit,s=m(2);return x(s.actualizarCantidad(r.id,o))}),c()(),l(12,"div",50)(13,"span",51),u(14),Xe(15,"currency"),c(),l(16,"span",52),u(17),Xe(18,"currency"),c()(),l(19,"div",53)(20,"button",54),v("click",function(){let o=C(e).$implicit,r=m(2);return x(r.eliminarItem(o.id))}),u(21," \u{1F5D1}\uFE0F "),c()()()}if(t&2){let e=n.$implicit;Be("data-item-id",e.id),p(3),w(e.productoNombre),p(2),Pe("",e.color," - Talle ",e.talle,""),p(2),D("SKU: ",e.sku,""),p(2),_a("for","cantidad-",e.id,""),p(2),_a("id","cantidad-",e.id,""),h("value",e.cantidad),p(3),D("",et(15,12,e.precioUnitario,"ARS")," c/u"),p(3),w(et(18,15,e.subtotal,"ARS"))}}function ED(t,n){if(t&1){let e=S();l(0,"div",38)(1,"div",2)(2,"h3"),u(3),c()(),l(4,"div",39),b(5,yD,22,18,"div",40),c(),l(6,"div",41)(7,"div",42)(8,"span"),u(9),Xe(10,"currency"),c()()(),l(11,"div",43)(12,"button",44),v("click",function(){C(e);let o=m();return x(o.generarPedido())}),u(13," Generar Nota de Pedido "),c()()()}if(t&2){let e=m();p(3),D("Items en el carrito (",e.cantidadItems,")"),p(2),h("ngForOf",e.carritoItems),p(4),D("Total: ",et(10,4,e.totalCarrito,"ARS"),""),p(3),h("disabled",e.isAdmin&&!e.selectedUserId)}}function MD(t,n){t&1&&(l(0,"div",55)(1,"h3"),u(2,"Tu carrito est\xE1 vac\xEDo"),c(),l(3,"p"),u(4,"Agrega productos desde el cat\xE1logo"),c(),l(5,"a",56),u(6,"Ir al Cat\xE1logo"),c()())}function wD(t,n){if(t&1&&(l(0,"div",65)(1,"strong"),u(2,"Email:"),c(),u(3),c()),t&2){let e=m(2).ngIf;p(3),D(" ",e.usuario.email," ")}}function DD(t,n){if(t&1&&(l(0,"div",63)(1,"h4"),u(2,"Informaci\xF3n del Cliente"),c(),l(3,"div",64)(4,"div",65)(5,"strong"),u(6,"Nombre:"),c(),u(7),c(),b(8,wD,4,1,"div",66),l(9,"div",65)(10,"strong"),u(11,"ID Cliente:"),c(),u(12),c()()()),t&2){let e=m().ngIf;p(7),D(" ",e.usuario.nombreRazonSocial," "),p(),h("ngIf",e.usuario.email),p(4),D(" ",e.clienteId," ")}}function PD(t,n){if(t&1&&(l(0,"tr")(1,"td"),u(2),c(),l(3,"td"),u(4),c(),l(5,"td"),u(6),Xe(7,"currency"),c()()),t&2){let e=n.$implicit;p(2),w(e.sku||e.varianteId),p(2),w(e.cantidad),p(2),w(et(7,3,e.precioUnitario,"ARS"))}}function SD(t,n){if(t&1){let e=S();l(0,"div",57)(1,"h3"),u(2),c(),b(3,DD,13,3,"div",58),l(4,"table",59)(5,"thead")(6,"tr")(7,"th"),u(8,"Variante"),c(),l(9,"th"),u(10,"Cant"),c(),l(11,"th"),u(12,"P.Unit"),c()()(),l(13,"tbody"),b(14,PD,8,6,"tr",60),c()(),l(15,"div",61),u(16),Xe(17,"currency"),c(),l(18,"button",62),v("click",function(){C(e);let o=m();return x(o.confirmar())}),u(19," Confirmar pedido "),c()()}if(t&2){let e=n.ngIf;p(2),Pe("Pedido #",e.id," (",e.estado,")"),p(),h("ngIf",e.usuario),p(11),h("ngForOf",e.detalles),p(2),D("Total: ",et(17,6,e.total,"ARS"),""),p(2),h("disabled",e.estado!=="DOCUMENTADO"&&e.estado!=="BORRADOR")}}function ID(t,n){if(t&1){let e=S();l(0,"div",76)(1,"input",77),L("ngModelChange",function(o){C(e);let r=m(2);return j(r.selectedPaymentMethod,o)||(r.selectedPaymentMethod=o),x(o)}),c(),l(2,"label",48),u(3),c()()}if(t&2){let e=n.$implicit,i=m(2);p(),h("id","payment-"+e.value)("value",e.value),V("ngModel",i.selectedPaymentMethod),p(),h("for","payment-"+e.value),p(),w(e.label)}}function OD(t,n){if(t&1){let e=S();l(0,"div",67),v("click",function(){C(e);let o=m();return x(o.cancelarPago())}),l(1,"div",68),v("click",function(o){return C(e),x(o.stopPropagation())}),l(2,"div",69)(3,"h3"),u(4,"Seleccionar M\xE9todo de Pago"),c(),l(5,"button",70),v("click",function(){C(e);let o=m();return x(o.cancelarPago())}),u(6,"\xD7"),c()(),l(7,"div",71)(8,"p"),u(9,"Total a pagar: "),l(10,"strong"),u(11),Xe(12,"currency"),c()(),l(13,"div",72)(14,"h4"),u(15,"Selecciona un m\xE9todo de pago:"),c(),b(16,ID,4,5,"div",73),c()(),l(17,"div",74)(18,"button",75),v("click",function(){C(e);let o=m();return x(o.cancelarPago())}),u(19,"Cancelar"),c(),l(20,"button",62),v("click",function(){C(e);let o=m();return x(o.confirmarPedidoConPago())}),u(21," Confirmar Pedido "),c()()()()}if(t&2){let e=m();p(11),w(et(12,3,e.totalCarrito,"ARS")),p(5),h("ngForOf",e.paymentMethods),p(4),h("disabled",!e.selectedPaymentMethod)}}function TD(t,n){if(t&1){let e=S();l(0,"div",88),v("click",function(){let o=C(e).$implicit,r=m(3);return x(r.scrollToResult(o))}),l(1,"div",89),u(2),c(),l(3,"div",90)(4,"div",91),u(5),c(),l(6,"div",92),u(7),c()()()}if(t&2){let e=n.$implicit;p(2),w(e.type==="producto"?"\u{1F6CD}\uFE0F":"\u{1F4C4}"),p(3),w(e.title),p(2),w(e.description)}}function kD(t,n){if(t&1&&(l(0,"div",86),b(1,TD,8,3,"div",87),c()),t&2){let e=m(2);p(),h("ngForOf",e.searchResults)}}function RD(t,n){if(t&1&&(l(0,"div",93)(1,"p"),u(2),c()()),t&2){let e=m(2);p(2),D('No se encontraron resultados para "',e.searchTerm,'"')}}function AD(t,n){if(t&1){let e=S();l(0,"div",78),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),l(1,"div",79),v("click",function(o){return C(e),x(o.stopPropagation())}),l(2,"div",80)(3,"h3"),u(4,"Buscar en la p\xE1gina"),c(),l(5,"button",81),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),u(6,"\xD7"),c()(),l(7,"div",82)(8,"input",83),L("ngModelChange",function(o){C(e);let r=m();return j(r.searchTerm,o)||(r.searchTerm=o),x(o)}),v("input",function(){C(e);let o=m();return x(o.performSearch())}),c()(),b(9,kD,2,1,"div",84)(10,RD,3,1,"div",85),c()()}if(t&2){let e=m();p(8),V("ngModel",e.searchTerm),p(),h("ngIf",e.searchResults.length>0),p(),h("ngIf",e.searchTerm&&e.searchResults.length===0)}}var $0=(()=>{class t{constructor(e,i,o,r,s){this.cart=e,this.orders=i,this.authService=o,this.router=r,this.http=s,this.carritoItems=[],this.totalCarrito=0,this.cantidadItems=0,this.cartItemCount=0,this.showPaymentModal=!1,this.selectedPaymentMethod="",this.paymentMethods=[{value:"efectivo",label:"Efectivo"},{value:"transferencia",label:"Transferencia"},{value:"cheque",label:"Cheque"},{value:"mercadopago",label:"MercadoPago"}],this.showSearchModal=!1,this.searchTerm="",this.searchResults=[],this.isAdmin=!1,this.usuarios=[],this.selectedUserId=null,this.selectedUser=null,this.loadingUsers=!1,this.API_URL=Nt}ngOnInit(){this.carritoId=this.cart.getCarritoId(),this.loadCarritoItems(),this.updateCartCount(),this.isAdmin=this.authService.isAdmin(),this.isAdmin&&this.loadUsuarios()}loadCarritoItems(){this.carritoItems=this.cart.getCarritoItems(),this.totalCarrito=this.cart.getTotalCarrito(),this.cantidadItems=this.cart.getCantidadItems()}convertir(){this.carritoId&&this.cart.convertirAPedido(this.carritoId).subscribe(e=>this.pedido=e)}confirmar(){this.pedido&&console.log("Confirmar pedido:",this.pedido.id)}logout(){this.authService.logout(),this.router.navigate(["/login"])}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}generarPedido(){if(this.carritoItems.length===0){alert("El carrito est\xE1 vac\xEDo");return}if(this.isAdmin&&!this.selectedUserId){alert("Por favor selecciona un cliente para generar el pedido");return}this.showPaymentModal=!0}confirmarPedidoConPago(){if(this.selectedPaymentMethod==="mercadopago"){this.procesarMercadoPago();return}if(!this.selectedPaymentMethod){alert("Por favor selecciona un m\xE9todo de pago");return}let e,i;if(this.isAdmin)if(this.selectedUser)e=this.selectedUser.id,i={nombreRazonSocial:this.selectedUser.nombreRazonSocial,email:this.selectedUser.email},console.log("\u{1F535} [CART] Admin - Usando cliente seleccionado:",this.selectedUser);else{let s=this.authService.getCurrentUser();if(!s?.id){alert("Error: No se pudo identificar al usuario");return}e=s.id,i={nombreRazonSocial:s.nombreRazonSocial,email:s.email},console.log("\u{1F535} [CART] Admin - Usando admin actual:",s)}else{let s=this.authService.getCurrentUser();if(!s?.id){alert("Error: No se pudo identificar al cliente");return}e=s.id,i={nombreRazonSocial:s.nombreRazonSocial,email:s.email},console.log("\u{1F535} [CART] Cliente - Usando usuario actual:",s)}console.log("\u{1F535} [CART] ===== DEBUGGING PEDIDO ====="),console.log("\u{1F535} [CART] M\xE9todo de pago:",this.selectedPaymentMethod),console.log("\u{1F535} [CART] Es admin?",this.isAdmin),console.log("\u{1F535} [CART] selectedUserId:",this.selectedUserId,"tipo:",typeof this.selectedUserId),console.log("\u{1F535} [CART] selectedUser:",this.selectedUser),console.log("\u{1F535} [CART] Cliente ID final:",e),console.log("\u{1F535} [CART] Usuario info final:",i),console.log("\u{1F535} [CART] ================================");let o=this.carritoItems.map(s=>({id:s.id,productoId:0,varianteId:s.varianteId,cantidad:s.cantidad,precioUnitario:s.precioUnitario,subtotal:s.subtotal})),r=this.getPaymentMethodLabel();this.orders.crearPedido(e,o,this.selectedPaymentMethod,i).subscribe({next:s=>{console.log("\u{1F535} [CART] Pedido creado exitosamente:",s),console.log("\u{1F535} [CART] ID del pedido:",s.id,"es positivo?",s.id>0),s.id&&s.id>0?(console.log("\u{1F535} [CART] Procesando pedido REAL del backend"),this.cart.limpiarCarrito(),this.loadCarritoItems(),this.updateCartCount(),this.showPaymentModal=!1,this.selectedPaymentMethod="",alert(`\u2705 Pedido generado exitosamente en el sistema.
N\xFAmero de pedido: ${s.id}
M\xE9todo de pago: ${r}
Total: $${s.montoTotal.toLocaleString()}`),this.router.navigate(["/orders-history"])):(console.log("\u{1F7E1} [CART] Pedido creado con datos mock debido a error del backend"),console.log("\u{1F7E1} [CART] ID negativo detectado, no limpiando carrito"),console.log("\u{1F7E1} [CART] Mostrando alert al usuario..."),setTimeout(()=>{alert("\u26A0\uFE0F Error del servidor al crear el pedido. Se utilizaron datos temporales. Por favor, int\xE9ntalo de nuevo m\xE1s tarde.")},100),this.showPaymentModal=!1,this.selectedPaymentMethod="")},error:s=>{console.error("\u{1F534} [CART] Error al generar pedido:",s);let a="Error al generar el pedido.";s.status===500?a="Error interno del servidor. Por favor, verifica que el backend est\xE9 funcionando correctamente y int\xE9ntalo de nuevo.":s.status===404?a="Endpoint no encontrado. Verifica la configuraci\xF3n del servidor.":a=`Error al generar el pedido: ${s.message}`,alert(a),this.showPaymentModal=!1,this.selectedPaymentMethod=""}})}cancelarPago(){this.showPaymentModal=!1,this.selectedPaymentMethod=""}getPaymentMethodLabel(){let e=this.paymentMethods.find(i=>i.value===this.selectedPaymentMethod);return e?e.label:this.selectedPaymentMethod}procesarMercadoPago(){let e=this.authService.getCurrentUser();if(!e){alert("Debes iniciar sesi\xF3n para realizar un pedido");return}let i=this.isAdmin&&this.selectedUserId?this.selectedUserId:e.id,o={nombreRazonSocial:e.nombreRazonSocial,email:e.email},r=this.carritoItems.map(s=>({id:s.id,productoId:0,varianteId:s.varianteId,cantidad:s.cantidad,precioUnitario:s.precioUnitario,subtotal:s.subtotal}));this.orders.crearPedido(i,r,"mercadopago",o).subscribe({next:s=>{console.log("\u{1F535} [CART] Pedido creado para MercadoPago:",s),s.id&&s.id>0?this.crearPreferenciaMercadoPago(s.id):(alert("Error al crear el pedido. Por favor, intenta nuevamente."),this.showPaymentModal=!1,this.selectedPaymentMethod="")},error:s=>{console.error("\u{1F534} [CART] Error al crear pedido para MercadoPago:",s),alert("Error al crear el pedido. Por favor, intenta nuevamente."),this.showPaymentModal=!1,this.selectedPaymentMethod=""}})}crearPreferenciaMercadoPago(e){let i=this.authService.getToken(),o=window.location.origin,r=new an().set("frontendUrl",o),s=new ct({Authorization:`Bearer ${i}`,"Content-Type":"application/json"});this.http.post(`${this.API_URL}/mercadopago/crear-preferencia/${e}`,{},{headers:s,params:r}).subscribe({next:a=>{if(console.log("\u{1F535} [MERCADOPAGO] Preferencia creada:",a),a.success&&a.initPoint){this.cart.limpiarCarrito(),this.loadCarritoItems(),this.updateCartCount(),this.showPaymentModal=!1,this.selectedPaymentMethod="";let d=`${o}/orders-history`,f=o.startsWith("https://")?`\u{1F535} Ser\xE1s redirigido a MercadoPago para completar el pago.

Una vez aprobado el pago volver\xE1s autom\xE1ticamente a la aplicaci\xF3n.

Podr\xE1s revisar el estado en tu historial de pedidos.`:`\u{1F535} Ser\xE1s redirigido a MercadoPago para completar el pago.

\u26A0\uFE0F IMPORTANTE: Despu\xE9s de completar el pago, regresa manualmente a:

${d}

All\xED se actualizar\xE1 el estado de tu pedido.`;if(confirm(f)){let _=a.initPoint||a.sandboxInitPoint;console.log("\u{1F535} [MERCADOPAGO] Redirigiendo a:",_),window.location.href=_}else alert("Puedes volver a intentar el pago desde tu historial de pedidos."),this.router.navigate(["/orders-history"])}else alert("Error al crear la preferencia de pago. Por favor, intenta nuevamente.")},error:a=>{console.error("\u{1F534} [MERCADOPAGO] Error al crear preferencia:",a);let d="Error al procesar el pago con MercadoPago.";a.error?.error&&(d=a.error.error),alert(d),this.showPaymentModal=!1,this.selectedPaymentMethod=""}})}updateCartCount(){this.cartItemCount=this.cart.getCantidadItems()}eliminarItem(e){confirm("\xBFEst\xE1s seguro de que quieres eliminar este producto del carrito?")&&(this.cart.removerItem(e),this.loadCarritoItems(),this.updateCartCount())}actualizarCantidad(e,i){let o=i.target.value.trim();if(o==="")return;let r=parseInt(o,10);if(isNaN(r)||r<1){i.target.value=this.carritoItems.find(s=>s.id===e)?.cantidad||1;return}r===0?this.eliminarItem(e):(this.cart.actualizarCantidad(e,r),this.loadCarritoItems(),this.updateCartCount())}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],this.carritoItems.forEach(o=>{(o.productoNombre.toLowerCase().includes(e)||o.sku.toLowerCase().includes(e)||o.color.toLowerCase().includes(e)||o.talle.toLowerCase().includes(e))&&this.searchResults.push({type:"item",title:o.productoNombre,description:`${o.color} - Talle ${o.talle} - SKU: ${o.sku}`,data:o})}),document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p").forEach(o=>{let r=o.textContent?.toLowerCase()||"";r.includes(e)&&r.length>0&&this.searchResults.push({type:"elemento",title:o.textContent?.trim()||"",description:"Elemento encontrado en la p\xE1gina",element:o})})}scrollToResult(e){if(this.closeSearchModal(),e.type==="item"){let i=document.querySelector(`[data-item-id="${e.data.id}"]`);i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),i.classList.add("search-highlight"),setTimeout(()=>{i.classList.remove("search-highlight")},2e3))}else e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}loadUsuarios(){this.loadingUsers=!0,console.log("\u{1F535} [CART] Cargando usuarios desde la base de datos"),this.authService.getUsuarios().subscribe({next:e=>{this.usuarios=e.filter(i=>i.tipoUsuario==="CLIENTE"||i.tipoUsuario==="ADMIN"),this.loadingUsers=!1,console.log("\u{1F535} [CART] Usuarios cargados desde BD:",this.usuarios)},error:e=>{console.error("\u{1F534} [CART] Error al cargar usuarios:",e),this.loadingUsers=!1,alert("Error al cargar la lista de usuarios. Por favor, int\xE9ntalo de nuevo.")}})}onUserChange(){if(console.log("\u{1F535} [CART] onUserChange llamado con selectedUserId:",this.selectedUserId,"tipo:",typeof this.selectedUserId),this.selectedUserId){let e=typeof this.selectedUserId=="string"?parseInt(this.selectedUserId,10):this.selectedUserId;this.selectedUser=this.usuarios.find(i=>i.id===e)||null,console.log("\u{1F535} [CART] Usuario encontrado:",this.selectedUser),console.log("\u{1F535} [CART] Lista de usuarios disponible:",this.usuarios.map(i=>({id:i.id,nombre:i.nombreRazonSocial})))}else this.selectedUser=null,console.log("\u{1F535} [CART] No hay usuario seleccionado")}static{this.\u0275fac=function(i){return new(i||t)(M(Ye),M(fn),M(ge),M(le),M(lt))}}static{this.\u0275cmp=de({type:t,selectors:[["app-cart-page"]],standalone:!0,features:[ue],decls:39,vars:7,consts:[["emptyCart",""],[1,"cart-container"],[1,"cart-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon","active"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],["class","user-selector-header",4,"ngIf"],[1,"cart-content"],["class","cart-items",4,"ngIf","ngIfElse"],["class","pedido-section",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"user-selector-header"],[1,"user-selector-content"],[1,"user-selector-label"],[1,"user-select",3,"ngModelChange","change","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","loading-indicator",4,"ngIf"],["class","selected-user-info",4,"ngIf"],[3,"value"],[1,"loading-indicator"],[1,"selected-user-info"],[1,"cart-items"],[1,"items-list"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-total"],[1,"total-line"],[1,"cart-actions"],[1,"btn-primary",3,"click","disabled"],[1,"cart-item"],[1,"item-info"],[1,"item-quantity"],[3,"for"],["type","number","min","1","max","999",1,"quantity-input",3,"input","id","value"],[1,"item-price"],[1,"unit-price"],[1,"subtotal"],[1,"item-actions"],["title","Eliminar del carrito",1,"btn-remove",3,"click"],[1,"empty-cart"],["routerLink","/catalog",1,"btn-primary"],[1,"pedido-section"],["class","usuario-info",4,"ngIf"],[1,"pedido-table"],[4,"ngFor","ngForOf"],[1,"pedido-total"],[1,"btn-confirm",3,"click","disabled"],[1,"usuario-info"],[1,"usuario-details"],[1,"usuario-item"],["class","usuario-item",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"payment-methods"],["class","payment-option",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn-cancel",3,"click"],[1,"payment-option"],["type","radio","name","paymentMethod",3,"ngModelChange","id","value","ngModel"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(i,o){if(i&1){let r=S();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),v("click",function(){return C(r),x(o.goToCatalog())}),l(4,"div",5),H(5,"img",6),c(),l(6,"span"),u(7,"HRK"),c()(),l(8,"nav",7)(9,"a",8),v("click",function(){return C(r),x(o.goToCatalog())}),u(10,"SHOP"),c(),l(11,"a",9),v("click",function(){return C(r),x(o.goToCatalog())}),u(12,"SALE"),c(),l(13,"a",10),v("click",function(){return C(r),x(o.goToInfo())}),u(14,"info"),c()()(),l(15,"div",11)(16,"button",12),u(17," \u{1F6D2} "),b(18,vD,2,1,"span",13),c(),l(19,"button",14),v("click",function(){return C(r),x(o.openSearchModal())}),u(20," \u{1F50D} "),c(),l(21,"button",15),v("click",function(){return C(r),x(o.goToHistory())}),u(22," \u{1F4CB} "),c(),l(23,"button",16),v("click",function(){return C(r),x(o.goToProfile())}),H(24,"img",17),l(25,"span",18),u(26,"\u{1F464}"),c()(),l(27,"button",19),v("click",function(){return C(r),x(o.logout())}),u(28," Cerrar Sesi\xF3n "),c()()(),b(29,bD,10,5,"div",20),l(30,"div",21)(31,"h2"),u(32,"Carrito de Compras"),c(),b(33,ED,14,7,"div",22)(34,MD,7,0,"ng-template",null,0,Ca)(36,SD,20,9,"div",23),c(),b(37,OD,22,6,"div",24)(38,AD,11,3,"div",25),c()}if(i&2){let r=qe(35);p(18),h("ngIf",o.cartItemCount>0),p(11),h("ngIf",o.isAdmin),p(4),h("ngIf",o.carritoItems.length>0)("ngIfElse",r),p(3),h("ngIf",o.pedido),p(),h("ngIf",o.showPaymentModal),p(),h("ngIf",o.showSearchModal)}},dependencies:[be,je,im,Co,ye,un,pn,Me,Ft,zu,we,Ee],styles:[".cart-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.cart-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease;transform:rotate(0)}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(0)}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;min-width:20px;border:2px solid black;box-shadow:0 2px 4px #0000004d}.icon-btn.active[_ngcontent-%COMP%]{background:#fff3}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.history-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;padding:8px;border-radius:4px;transition:background-color .3s}.history-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.icon-btn.user-icon[_ngcontent-%COMP%]{background:transparent!important;border:none!important;cursor:pointer;padding:0!important;border-radius:6px;transition:all .3s;display:flex;align-items:center;justify-content:center;width:47.5px;height:47.5px}.user-icon[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.05)}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.cart-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.cart-items[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a;margin-bottom:20px}.cart-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#fff}.items-list[_ngcontent-%COMP%]{margin-bottom:20px}.cart-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr auto;gap:15px;align-items:center;padding:15px;border-bottom:1px solid #e1e5e9}.cart-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0;color:#666;font-size:14px}.item-quantity[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;align-items:center}.item-quantity[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#667eea;font-size:12px;text-transform:uppercase}.quantity-input[_ngcontent-%COMP%]{width:60px;padding:6px 8px;border:1px solid #e1e5e9;border-radius:4px;text-align:center;font-size:14px;font-weight:500}.quantity-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea33}.item-price[_ngcontent-%COMP%]{text-align:right}.item-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.btn-remove[_ngcontent-%COMP%]{background:transparent;color:#666;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:16px;transition:all .3s ease}.btn-remove[_ngcontent-%COMP%]:hover{background:#ff44441a;color:#f44;transform:scale(1.1)}.btn-remove[_ngcontent-%COMP%]:active{transform:scale(.95)}.unit-price[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666}.subtotal[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:16px}.cart-total[_ngcontent-%COMP%]{border-top:2px solid #e1e5e9;padding-top:15px}.total-line[_ngcontent-%COMP%]{text-align:right;font-size:20px;font-weight:600;color:#333}.cart-actions[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s;text-decoration:none;display:inline-block}.btn-primary[_ngcontent-%COMP%]:hover{background:#5a6fd8;transform:translateY(-2px)}.empty-cart[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a}.empty-cart[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:10px}.empty-cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.pedido-section[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:20px;margin-top:20px}.usuario-info[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:15px;margin-bottom:20px;border-left:4px solid #667eea}.usuario-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:#333;font-size:16px;font-weight:600}.usuario-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.usuario-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#555}.usuario-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;font-weight:600;min-width:80px}.pedido-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:15px 0}.pedido-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .pedido-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #e1e5e9}.pedido-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600}.pedido-total[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin:15px 0}.btn-confirm[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-weight:500}.btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:#218838}.btn-confirm[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}@media (max-width: 768px){.cart-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px;padding:15px}.header-left[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:10px}.header-right[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:8px}.main-nav[_ngcontent-%COMP%]{justify-content:center;gap:10px}.cart-content[_ngcontent-%COMP%]{padding:10px}.cart-items[_ngcontent-%COMP%]{gap:20px}.cart-item[_ngcontent-%COMP%]{padding:15px;grid-template-columns:1fr;gap:10px;text-align:center}.item-quantity[_ngcontent-%COMP%]{align-items:center}.quantity-input[_ngcontent-%COMP%]{width:80px}.btn-remove[_ngcontent-%COMP%]{width:40px;height:40px;font-size:16px}}@media (max-width: 480px){.cart-header[_ngcontent-%COMP%]{margin:5px;padding:10px}.header-left[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:8px}.nav-item[_ngcontent-%COMP%]{font-size:12px}.icon-btn[_ngcontent-%COMP%]{font-size:14px;padding:4px}.logout-btn[_ngcontent-%COMP%]{font-size:11px;padding:6px 8px}.cart-content[_ngcontent-%COMP%]{padding:5px}.cart-item[_ngcontent-%COMP%]{padding:10px}.item-details[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:10px}.quantity-controls[_ngcontent-%COMP%]{justify-content:center}.cart-summary[_ngcontent-%COMP%]{padding:15px}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 30px #0000004d}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 25px;border-bottom:1px solid #e1e5e9}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:20px}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.modal-close[_ngcontent-%COMP%]:hover{background:#f8f9fa}.modal-body[_ngcontent-%COMP%]{padding:25px}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;font-size:16px;color:#333}.modal-body[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#667eea}.payment-methods[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:#333;font-size:16px}.payment-option[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px;padding:12px;border:2px solid #e1e5e9;border-radius:8px;transition:all .3s;cursor:pointer}.payment-option[_ngcontent-%COMP%]:hover{border-color:#667eea;background:#f8f9ff}.payment-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked{accent-color:#667eea}.payment-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin:0 12px 0 0;width:18px;height:18px;cursor:pointer}.payment-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#667eea;font-weight:600}.payment-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;cursor:pointer;font-size:16px;color:#333;font-weight:500}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px 25px;border-top:1px solid #e1e5e9;gap:15px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:12px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s;border:none;font-size:16px}.btn-cancel[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background:#5a6268}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{background:#667eea;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6fd8}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}@media (max-width: 480px){.modal-content[_ngcontent-%COMP%]{width:95%;margin:20px}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:15px 20px}.modal-footer[_ngcontent-%COMP%]{flex-direction:column}}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}.user-selector-header[_ngcontent-%COMP%]{background:#f8f9fa;border-bottom:1px solid #dee2e6;padding:15px 25px;margin:10px;border-radius:8px 8px 0 0;display:flex;align-items:center;justify-content:flex-start;gap:15px}.user-selector-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex-wrap:wrap}.user-selector-label[_ngcontent-%COMP%]{font-weight:600;color:#495057;margin:0;white-space:nowrap}.user-select[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #ced4da;border-radius:6px;font-size:14px;background:#fff;min-width:250px;transition:all .3s ease}.user-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.user-select[_ngcontent-%COMP%]:disabled{background:#e9ecef;color:#6c757d;cursor:not-allowed}.loading-indicator[_ngcontent-%COMP%]{color:#6c757d;font-style:italic;font-size:12px;white-space:nowrap}.selected-user-info[_ngcontent-%COMP%]{background:#d4edda;border:1px solid #c3e6cb;border-radius:4px;padding:6px 10px;color:#155724;font-size:12px;white-space:nowrap}"]})}}return t})();function ND(t,n){t&1&&(l(0,"div",24),u(1," Email es requerido y debe ser v\xE1lido "),c())}function FD(t,n){t&1&&(l(0,"div",24),u(1," Contrase\xF1a es requerida "),c())}function VD(t,n){if(t&1&&(l(0,"div",25),u(1),c()),t&2){let e=m();p(),D(" ",e.error," ")}}function LD(t,n){t&1&&(l(0,"div",26),u(1," Iniciando sesi\xF3n... "),c())}function jD(t,n){if(t&1&&(l(0,"div",35),u(1),c()),t&2){let e=m(2);B("error",e.mensajeRecuperacion.includes("Error")),p(),D(" ",e.mensajeRecuperacion," ")}}function UD(t,n){t&1&&(l(0,"span"),u(1,"Enviar Contrase\xF1a"),c())}function zD(t,n){t&1&&(l(0,"span"),u(1,"Enviando..."),c())}function $D(t,n){if(t&1){let e=S();l(0,"div",27)(1,"h3"),u(2,"Recuperar Contrase\xF1a"),c(),l(3,"p"),u(4,"Ingresa tu email y te enviaremos tu contrase\xF1a por correo electr\xF3nico."),c(),l(5,"div",11)(6,"label",28),u(7,"Email:"),c(),l(8,"input",29),L("ngModelChange",function(o){C(e);let r=m();return j(r.emailRecuperacion,o)||(r.emailRecuperacion=o),x(o)}),c()(),b(9,jD,2,3,"div",30),l(10,"div",31)(11,"button",32),v("click",function(){C(e);let o=m();return x(o.solicitarRecuperacion())}),b(12,UD,2,0,"span",33)(13,zD,2,0,"span",33),c(),l(14,"button",34),v("click",function(){C(e);let o=m();return x(o.toggleRecuperacion())}),u(15," Cancelar "),c()()()}if(t&2){let e=m();p(8),V("ngModel",e.emailRecuperacion),h("disabled",e.recuperando),p(),h("ngIf",e.mensajeRecuperacion),p(2),h("disabled",!e.emailRecuperacion||e.recuperando),p(),h("ngIf",!e.recuperando),p(),h("ngIf",e.recuperando),p(),h("disabled",e.recuperando)}}var B0=(()=>{class t{constructor(e,i){this.authService=e,this.router=i,this.credentials={email:"",password:""},this.loading=!1,this.error="",this.mostrarRecuperacion=!1,this.emailRecuperacion="",this.recuperando=!1,this.mensajeRecuperacion=""}onSubmit(){this.loading||(this.loading=!0,this.error="",this.authService.login(this.credentials).subscribe({next:e=>{this.loading=!1,this.router.navigate(["/catalog"])},error:e=>{this.loading=!1,this.error=e.message||"Error al iniciar sesi\xF3n",this.showErrorMessage(),this.clearForm(),console.log("Login error:",e)}}))}showErrorMessage(){alert("Datos ingresados err\xF3neos. Por favor, verifica tu email y contrase\xF1a.")}clearForm(){this.credentials={email:"",password:""}}toggleRecuperacion(){this.mostrarRecuperacion=!this.mostrarRecuperacion,this.emailRecuperacion="",this.mensajeRecuperacion=""}solicitarRecuperacion(){if(!this.emailRecuperacion||!this.emailRecuperacion.includes("@")){alert("Por favor ingresa un email v\xE1lido");return}this.recuperando=!0,this.mensajeRecuperacion="",this.authService.recuperarContrase\u00F1a(this.emailRecuperacion).subscribe({next:e=>{this.recuperando=!1,this.mensajeRecuperacion=e.message||"Se ha enviado un email con tu contrase\xF1a",alert(this.mensajeRecuperacion),this.mostrarRecuperacion=!1,this.emailRecuperacion=""},error:e=>{this.recuperando=!1,this.mensajeRecuperacion=e.message||"Error al solicitar recuperaci\xF3n de contrase\xF1a",alert(this.mensajeRecuperacion)}})}static{this.\u0275fac=function(i){return new(i||t)(M(ge),M(le))}}static{this.\u0275cmp=de({type:t,selectors:[["app-login-page"]],standalone:!0,features:[ue],decls:37,vars:12,consts:[["loginForm","ngForm"],["email","ngModel"],["password","ngModel"],[1,"login-container"],[1,"login-header"],[1,"logo"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"login-title"],[1,"login-card"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["class","loading",4,"ngIf"],["type","submit",1,"btn",3,"disabled"],[1,"login-footer"],["routerLink","/register"],["href","#",1,"forgot-password-link",3,"click"],["class","recuperacion-section",4,"ngIf"],[1,"error"],[1,"error-message"],[1,"loading"],[1,"recuperacion-section"],["for","emailRecuperacion"],["type","email","id","emailRecuperacion","name","emailRecuperacion","required","","email","","placeholder","tu-email@ejemplo.com",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","mensaje-recuperacion",3,"error",4,"ngIf"],[1,"recuperacion-actions"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"mensaje-recuperacion"]],template:function(i,o){if(i&1){let r=S();l(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),H(4,"img",7),c(),l(5,"span"),u(6,"HRK"),c()(),l(7,"h1",8),u(8,"Iniciar Sesi\xF3n"),c()(),l(9,"div",9)(10,"form",10,0),v("ngSubmit",function(){return C(r),x(o.onSubmit())}),l(12,"div",11)(13,"label",12),u(14,"Email:"),c(),l(15,"input",13,1),L("ngModelChange",function(a){return C(r),j(o.credentials.email,a)||(o.credentials.email=a),x(a)}),c(),b(17,ND,2,0,"div",14),c(),l(18,"div",11)(19,"label",15),u(20,"Contrase\xF1a:"),c(),l(21,"input",16,2),L("ngModelChange",function(a){return C(r),j(o.credentials.password,a)||(o.credentials.password=a),x(a)}),c(),b(23,FD,2,0,"div",14),c(),b(24,VD,2,1,"div",17)(25,LD,2,0,"div",18),l(26,"button",19),u(27," Iniciar Sesi\xF3n "),c()(),l(28,"div",20)(29,"p"),u(30,"\xBFNo tienes cuenta? "),l(31,"a",21),u(32,"Reg\xEDstrate aqu\xED"),c()(),l(33,"p")(34,"a",22),v("click",function(a){return C(r),a.preventDefault(),x(o.toggleRecuperacion())}),u(35," \xBFOlvidaste tu contrase\xF1a? "),c()()(),b(36,$D,16,7,"div",23),c()()}if(i&2){let r=qe(11),s=qe(16),a=qe(22);p(15),V("ngModel",o.credentials.email),p(2),h("ngIf",s.invalid&&s.touched),p(4),V("ngModel",o.credentials.password),p(2),h("ngIf",a.invalid&&a.touched),p(),h("ngIf",o.error),p(),h("ngIf",o.loading),p(),B("btn-primary",r.invalid||o.loading)("btn-success",r.valid&&!o.loading),h("disabled",r.invalid||o.loading),p(10),h("ngIf",o.mostrarRecuperacion)}},dependencies:[_e,be,ye,oi,Me,we,ii,Kt,Tr,Ee,Nn,Co],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;background:#fff;padding:0}.login-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:15px 20px;display:flex;align-items:center;justify-content:space-between;position:relative}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:8px}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 2px 8px #0000004d;border:2px solid white}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.login-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin:0;position:absolute;left:50%;transform:translate(-50%);color:#fff}.login-card[_ngcontent-%COMP%]{background:#fff;padding:30px 40px 20px;width:100%;max-width:400px;margin:0 auto;flex:1;display:flex;flex-direction:column;justify-content:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-weight:500;color:#333;font-size:14px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #e1e5e9;border-radius:6px;font-size:14px;transition:border-color .3s;box-sizing:border-box;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#333}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]{background:#f5f5f5;color:#333;border:1px solid #e1e5e9}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e9ecef}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.btn-success[_ngcontent-%COMP%]{background:#87ceeb;color:#fff;border:1px solid #87CEEB}.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:#7bb3d9}.error[_ngcontent-%COMP%]{color:#e74c3c;font-size:14px;margin-top:5px}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:10px;border-radius:5px;margin-bottom:20px;border:1px solid #f5c6cb}.loading[_ngcontent-%COMP%]{text-align:center;color:#667eea;margin-bottom:20px}.login-footer[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.login-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:underline}.login-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.forgot-password-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:.9em}.forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.recuperacion-section[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;border-top:2px solid #e0e0e0;background-color:#f9f9f9;border-radius:8px}.recuperacion-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem;color:#333;font-size:1.2em}.recuperacion-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#666;font-size:.95em}.mensaje-recuperacion[_ngcontent-%COMP%]{margin:1rem 0;padding:.75rem;border-radius:4px;background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.mensaje-recuperacion.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-color:#f5c6cb}.recuperacion-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.recuperacion-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1em;transition:background-color .3s}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#5a6268}.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:10px}.login-header[_ngcontent-%COMP%]{padding:15px;margin:5px}.login-card[_ngcontent-%COMP%]{padding:20px;margin:10px 5px}.logo[_ngcontent-%COMP%]{font-size:16px}.login-title[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%]{padding:10px;font-size:14px}.btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:14px}}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:5px}.login-header[_ngcontent-%COMP%]{padding:10px;margin:2px;flex-direction:column;text-align:center;gap:10px}.login-card[_ngcontent-%COMP%]{padding:15px;margin:5px 2px}.logo[_ngcontent-%COMP%]{font-size:14px}.login-title[_ngcontent-%COMP%]{font-size:18px}.form-control[_ngcontent-%COMP%]{padding:8px;font-size:13px}.btn[_ngcontent-%COMP%]{padding:10px 16px;font-size:13px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px}}"]})}}return t})();function BD(t,n){t&1&&(l(0,"div",31),u(1," Nombre es requerido (m\xEDnimo 2 caracteres) "),c())}function HD(t,n){t&1&&(l(0,"div",31),u(1," Email es requerido y debe ser v\xE1lido "),c())}function GD(t,n){t&1&&(l(0,"div",31),u(1," El CUIT debe tener exactamente 11 d\xEDgitos num\xE9ricos (00000000000 a 99999999999) "),c())}function WD(t,n){t&1&&(l(0,"div",31),u(1," El CUIT es requerido "),c())}function qD(t,n){t&1&&(l(0,"div",32),u(1," \u2713 CUIT v\xE1lido "),c())}function YD(t,n){t&1&&(l(0,"div",31),u(1," Contrase\xF1a es requerida (m\xEDnimo 6 caracteres) "),c())}function ZD(t,n){t&1&&(l(0,"div",31),u(1," Las contrase\xF1as no coinciden "),c())}function KD(t,n){t&1&&(l(0,"div",32),u(1," \u2713 Las contrase\xF1as coinciden "),c())}function QD(t,n){if(t&1&&(l(0,"div",33),u(1),c()),t&2){let e=m();p(),D(" ",e.error," ")}}function JD(t,n){t&1&&(l(0,"div",34),u(1," Registrando usuario... "),c())}var H0=(()=>{class t{constructor(e,i){this.authService=e,this.router=i,this.userData={nombreRazonSocial:"",cuit:"",email:"",password:""},this.cuitFormatted="",this.password2="",this.loading=!1,this.error="",this.passwordsMatch=!1,this.cuitValid=!1}onPasswordChange(){this.passwordsMatch=this.userData.password===this.password2&&this.userData.password.length>=6&&this.password2.length>=6}onCuitChange(e){let i=e.target.value;if(i=i.replace(/\D/g,""),i.length>11&&(i=i.substring(0,11)),i.length>0){let o="";i.length>=1&&(o+=i.substring(0,Math.min(2,i.length))),i.length>2&&(o+="-",o+=i.substring(2,Math.min(10,i.length))),i.length>10&&(o+="-",o+=i.substring(10,Math.min(11,i.length))),this.cuitFormatted=o}else this.cuitFormatted="";this.cuitValid=i.length===11&&/^\d{11}$/.test(i),this.cuitValid?this.userData.cuit=this.cuitFormatted:this.userData.cuit=i}onSubmit(){if(!this.loading){if(!this.cuitValid){this.error="El CUIT debe tener exactamente 11 d\xEDgitos (formato: 00000000000 a 99999999999)",this.showErrorMessage("El CUIT debe tener exactamente 11 d\xEDgitos num\xE9ricos.");return}if(this.userData.password!==this.password2){this.error="Las contrase\xF1as no coinciden",this.showErrorMessage("Las contrase\xF1as no coinciden. Por favor, verifica que ambas contrase\xF1as sean iguales.");return}this.loading=!0,this.error="",this.authService.register(this.userData).subscribe({next:e=>{this.loading=!1,this.authService.login({email:this.userData.email,password:this.userData.password}).subscribe({next:i=>{this.router.navigate(["/catalog"])},error:i=>{this.error="Usuario creado pero error al iniciar sesi\xF3n",this.showErrorMessage("Usuario creado pero error al iniciar sesi\xF3n"),this.clearForm(),console.log("Auto-login error:",i)}})},error:e=>{this.loading=!1,this.error=e.message||"Error al registrar usuario",this.showErrorMessage("Error al registrar usuario. Por favor, verifica los datos ingresados."),this.clearForm(),console.log("Register error:",e)}})}}showErrorMessage(e){alert(e)}clearForm(){this.userData={nombreRazonSocial:"",cuit:"",email:"",password:""},this.cuitFormatted="",this.password2="",this.passwordsMatch=!1,this.cuitValid=!1}static{this.\u0275fac=function(i){return new(i||t)(M(ge),M(le))}}static{this.\u0275cmp=de({type:t,selectors:[["app-register-page"]],standalone:!0,features:[ue],decls:53,vars:20,consts:[["registerForm","ngForm"],["nombreRazonSocial","ngModel"],["email","ngModel"],["cuit","ngModel"],["password","ngModel"],[1,"register-container"],[1,"register-header"],[1,"logo"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"register-title"],[1,"register-card"],[3,"ngSubmit"],[1,"form-group"],["for","nombreRazonSocial"],["type","text","id","nombreRazonSocial","name","nombreRazonSocial","required","","minlength","2","placeholder","Ingresa tu nombre de usuario",1,"form-control",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","email"],["type","email","id","email","name","email","required","","email","","placeholder","Ingresa tu correo electr\xF3nico",1,"form-control",3,"ngModelChange","ngModel"],["for","cuit"],["type","text","id","cuit","name","cuit","placeholder","xx-xxxxxxxx-x","maxlength","13","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["class","success",4,"ngIf"],["for","password"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Ingresa tu contrase\xF1a",1,"form-control",3,"ngModelChange","input","ngModel"],["for","password2"],["type","password","id","password2","name","password2","placeholder","Confirma tu contrase\xF1a",1,"form-control",3,"ngModelChange","input","ngModel"],["class","error-message",4,"ngIf"],["class","loading",4,"ngIf"],["type","submit",1,"btn",3,"disabled"],[1,"register-footer"],["routerLink","/login"],[1,"error"],[1,"success"],[1,"error-message"],[1,"loading"]],template:function(i,o){if(i&1){let r=S();l(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),H(4,"img",9),c(),l(5,"span"),u(6,"HRK"),c()(),l(7,"h1",10),u(8,"Create Account"),c()(),l(9,"div",11)(10,"form",12,0),v("ngSubmit",function(){return C(r),x(o.onSubmit())}),l(12,"div",13)(13,"label",14),u(14,"Nombre de usuario/razon social:"),c(),l(15,"input",15,1),L("ngModelChange",function(a){return C(r),j(o.userData.nombreRazonSocial,a)||(o.userData.nombreRazonSocial=a),x(a)}),c(),b(17,BD,2,0,"div",16),c(),l(18,"div",13)(19,"label",17),u(20,"Mail:"),c(),l(21,"input",18,2),L("ngModelChange",function(a){return C(r),j(o.userData.email,a)||(o.userData.email=a),x(a)}),c(),b(23,HD,2,0,"div",16),c(),l(24,"div",13)(25,"label",19),u(26,"CUIT:"),c(),l(27,"input",20,3),L("ngModelChange",function(a){return C(r),j(o.cuitFormatted,a)||(o.cuitFormatted=a),x(a)}),v("input",function(a){return C(r),x(o.onCuitChange(a))}),c(),b(29,GD,2,0,"div",16)(30,WD,2,0,"div",16)(31,qD,2,0,"div",21),c(),l(32,"div",13)(33,"label",22),u(34,"Contrase\xF1a:"),c(),l(35,"input",23,4),L("ngModelChange",function(a){return C(r),j(o.userData.password,a)||(o.userData.password=a),x(a)}),v("input",function(){return C(r),x(o.onPasswordChange())}),c(),b(37,YD,2,0,"div",16),c(),l(38,"div",13)(39,"label",24),u(40,"Repetir Contrase\xF1a:"),c(),l(41,"input",25),L("ngModelChange",function(a){return C(r),j(o.password2,a)||(o.password2=a),x(a)}),v("input",function(){return C(r),x(o.onPasswordChange())}),c(),b(42,ZD,2,0,"div",16)(43,KD,2,0,"div",21),c(),b(44,QD,2,1,"div",26)(45,JD,2,0,"div",27),l(46,"button",28),u(47," Sign Up "),c()(),l(48,"div",29)(49,"p"),u(50,"\xBFYa tenes cuenta? "),l(51,"a",30),u(52,"Iniciar sesion"),c()()()()()}if(i&2){let r=qe(11),s=qe(16),a=qe(22),d=qe(28),f=qe(36);p(15),V("ngModel",o.userData.nombreRazonSocial),p(2),h("ngIf",s.invalid&&s.touched),p(4),V("ngModel",o.userData.email),p(2),h("ngIf",a.invalid&&a.touched),p(4),V("ngModel",o.cuitFormatted),p(2),h("ngIf",d.touched&&!o.cuitValid&&o.cuitFormatted.length>0),p(),h("ngIf",d.touched&&o.cuitFormatted===""),p(),h("ngIf",o.cuitValid),p(4),V("ngModel",o.userData.password),p(2),h("ngIf",f.invalid&&f.touched),p(4),V("ngModel",o.password2),p(),h("ngIf",o.password2&&o.userData.password&&!o.passwordsMatch),p(),h("ngIf",o.passwordsMatch&&o.password2),p(),h("ngIf",o.error),p(),h("ngIf",o.loading),p(),B("btn-primary",r.invalid||!o.passwordsMatch||!o.cuitValid||o.loading)("btn-success",r.valid&&o.passwordsMatch&&o.cuitValid&&!o.loading),h("disabled",r.invalid||!o.passwordsMatch||!o.cuitValid||o.loading)}},dependencies:[_e,be,ye,oi,Me,we,ii,Kt,$u,Bu,Tr,Ee,Nn,Co],styles:[".register-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;background:#fff;padding:0}.register-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:15px 20px;display:flex;align-items:center;justify-content:space-between;position:relative}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:8px}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 2px 8px #0000004d;border:2px solid white}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.register-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin:0;position:absolute;left:50%;transform:translate(-50%);color:#fff}.register-card[_ngcontent-%COMP%]{background:#fff;padding:30px 40px 20px;width:100%;max-width:400px;margin:0 auto;flex:1;display:flex;flex-direction:column;justify-content:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-weight:500;color:#333;font-size:14px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #e1e5e9;border-radius:6px;font-size:14px;transition:border-color .3s;box-sizing:border-box;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#333}.additional-fields[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:5px;margin:20px 0;border-left:4px solid #667eea}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]{background:#f5f5f5;color:#333;border:1px solid #e1e5e9}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e9ecef}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.btn-success[_ngcontent-%COMP%]{background:#87ceeb;color:#fff;border:1px solid #87CEEB}.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:#7bb3d9}.error[_ngcontent-%COMP%]{color:#e74c3c;font-size:14px;margin-top:5px}.success[_ngcontent-%COMP%]{color:#28a745;font-size:14px;margin-top:5px;font-weight:500}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:10px;border-radius:5px;margin-bottom:20px;border:1px solid #f5c6cb}.loading[_ngcontent-%COMP%]{text-align:center;color:#667eea;margin-bottom:20px}.register-footer[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.register-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:underline}.register-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}@media (max-width: 768px){.register-container[_ngcontent-%COMP%]{padding:10px}.register-header[_ngcontent-%COMP%]{padding:15px;margin:5px}.register-card[_ngcontent-%COMP%]{padding:20px;margin:10px 5px}.logo[_ngcontent-%COMP%]{font-size:16px}.register-title[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%]{padding:10px;font-size:14px}.btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:14px}}@media (max-width: 480px){.register-container[_ngcontent-%COMP%]{padding:5px}.register-header[_ngcontent-%COMP%]{padding:10px;margin:2px;flex-direction:column;text-align:center;gap:10px}.register-card[_ngcontent-%COMP%]{padding:15px;margin:5px 2px}.logo[_ngcontent-%COMP%]{font-size:14px}.register-title[_ngcontent-%COMP%]{font-size:18px}.form-control[_ngcontent-%COMP%]{padding:8px;font-size:13px}.btn[_ngcontent-%COMP%]{padding:10px 16px;font-size:13px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px}}"]})}}return t})();function XD(t,n){t&1&&(l(0,"div",13),u(1," Cargando clientes... "),c())}function eP(t,n){if(t&1&&(l(0,"div",14),u(1),c()),t&2){let e=m();p(),D(" ",e.error," ")}}function tP(t,n){if(t&1&&(l(0,"div",24)(1,"span",25),u(2),c()()),t&2){let e=m().$implicit;p(2),D("\u{1F4DE} ",e.telefono,"")}}function nP(t,n){if(t&1&&(l(0,"div",24)(1,"span",25),u(2),c()()),t&2){let e=m().$implicit;p(2),D("\u{1F4CD} ",e.direccion,"")}}function iP(t,n){if(t&1){let e=S();l(0,"div",18),v("click",function(){let o=C(e).$implicit,r=m(2);return x(r.selectClient(o))}),l(1,"div",19)(2,"h3"),u(3),c(),l(4,"p",20),u(5),c(),b(6,tP,3,1,"div",21)(7,nP,3,1,"div",21),c(),l(8,"div",22)(9,"span",23),u(10),c()()()}if(t&2){let e=n.$implicit,i=m(2);B("selected",(i.selectedClient==null?null:i.selectedClient.id)===e.id),p(3),w(e.nombre),p(2),w(e.email),p(),h("ngIf",e.telefono),p(),h("ngIf",e.direccion),p(2),B("active",e.activo),p(),D(" ",e.activo?"Activo":"Inactivo"," ")}}function oP(t,n){t&1&&(l(0,"div",26)(1,"p"),u(2,"No se encontraron clientes que coincidan con la b\xFAsqueda"),c()())}function rP(t,n){if(t&1&&(l(0,"div",15),b(1,iP,11,9,"div",16)(2,oP,3,0,"div",17),c()),t&2){let e=m();p(),h("ngForOf",e.filteredClients),p(),h("ngIf",e.filteredClients.length===0)}}var G0=(()=>{class t{constructor(e,i){this.authService=e,this.router=i,this.clientes=[],this.filteredClients=[],this.selectedClient=null,this.searchTerm="",this.loading=!1,this.error=""}ngOnInit(){this.loadClients()}loadClients(){this.loading=!0,this.error="",this.authService.getClientes().subscribe({next:e=>{this.clientes=e,this.filteredClients=e,this.loading=!1},error:e=>{this.error="Error al cargar la lista de clientes",this.loading=!1}})}filterClients(){if(!this.searchTerm.trim()){this.filteredClients=this.clientes;return}let e=this.searchTerm.toLowerCase();this.filteredClients=this.clientes.filter(i=>i.nombre.toLowerCase().includes(e)||i.email.toLowerCase().includes(e))}selectClient(e){this.selectedClient=e}continueWithSelectedClient(){this.selectedClient&&(this.authService.selectClient(this.selectedClient),this.router.navigate(["/catalog"]))}continueAsClient(){this.authService.clearSelectedClient(),this.router.navigate(["/catalog"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(i){return new(i||t)(M(ge),M(le))}}static{this.\u0275cmp=de({type:t,selectors:[["app-select-client-page"]],standalone:!0,features:[ue],decls:19,vars:6,consts:[[1,"select-client-container"],[1,"select-client-card"],[1,"subtitle"],[1,"search-section"],["type","text","placeholder","Buscar cliente por nombre o email...",1,"search-input",3,"ngModelChange","input","ngModel"],["class","loading",4,"ngIf"],["class","error-message",4,"ngIf"],["class","clients-list",4,"ngIf"],[1,"actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"footer-actions"],[1,"btn","btn-outline",3,"click"],[1,"loading"],[1,"error-message"],[1,"clients-list"],["class","client-card",3,"selected","click",4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],[1,"client-card",3,"click"],[1,"client-info"],[1,"client-email"],["class","client-details",4,"ngIf"],[1,"client-status"],[1,"status-badge"],[1,"client-details"],[1,"detail-item"],[1,"no-results"]],template:function(i,o){i&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),u(3,"Seleccionar Cliente"),c(),l(4,"p",2),u(5,"Como vendedor, selecciona el cliente para el cual realizar\xE1s el pedido"),c(),l(6,"div",3)(7,"input",4),L("ngModelChange",function(s){return j(o.searchTerm,s)||(o.searchTerm=s),s}),v("input",function(){return o.filterClients()}),c()(),b(8,XD,2,0,"div",5)(9,eP,2,1,"div",6)(10,rP,3,2,"div",7),l(11,"div",8)(12,"button",9),v("click",function(){return o.continueWithSelectedClient()}),u(13),c(),l(14,"button",10),v("click",function(){return o.continueAsClient()}),u(15," Continuar como Cliente Directo "),c()(),l(16,"div",11)(17,"button",12),v("click",function(){return o.logout()}),u(18," Cerrar Sesi\xF3n "),c()()()()),i&2&&(p(7),V("ngModel",o.searchTerm),p(),h("ngIf",o.loading),p(),h("ngIf",o.error),p(),h("ngIf",!o.loading&&!o.error),p(2),h("disabled",!o.selectedClient),p(),D(" Continuar con ",(o.selectedClient==null?null:o.selectedClient.nombre)||"Cliente Seleccionado"," "))},dependencies:[_e,je,be,ye,Me,we,Ee],styles:[".select-client-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.select-client-card[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:10px;box-shadow:0 15px 35px #0000001a;width:100%;max-width:800px}.subtitle[_ngcontent-%COMP%]{color:#666;margin-bottom:30px;font-size:16px}.search-section[_ngcontent-%COMP%]{margin-bottom:30px}.search-input[_ngcontent-%COMP%]{width:100%;padding:15px;border:2px solid #e1e5e9;border-radius:8px;font-size:16px;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.clients-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;border:1px solid #e1e5e9;border-radius:8px}.client-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #e1e5e9;cursor:pointer;transition:background-color .3s}.client-card[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.client-card.selected[_ngcontent-%COMP%]{background-color:#e3f2fd;border-left:4px solid #667eea}.client-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:18px}.client-email[_ngcontent-%COMP%]{margin:0 0 10px;color:#666;font-size:14px}.client-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px}.detail-item[_ngcontent-%COMP%]{font-size:12px;color:#888}.client-status[_ngcontent-%COMP%]{display:flex;align-items:center}.status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500;background-color:#f5f5f5;color:#666}.status-badge.active[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.no-results[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.actions[_ngcontent-%COMP%]{margin-top:30px;display:flex;gap:15px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:5px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s;flex:1;min-width:200px}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6fd8}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn-outline[_ngcontent-%COMP%]{background:transparent;color:#667eea;border:2px solid #667eea}.btn-outline[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff}.footer-actions[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.loading[_ngcontent-%COMP%]{text-align:center;color:#667eea;padding:40px}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:15px;border-radius:5px;margin-bottom:20px;border:1px solid #f5c6cb}@media (max-width: 768px){.actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{min-width:auto}}"]})}}return t})();var hn=function(t){return t.REMERA="remera",t.MUSCULOSA="musculosa",t.PANTALON="pantalon",t.SHORT="short",t.CARDIGAN="cardigan",t.RUANA="ruana",t.SWEATER="sweater",t.BUFANDA="bufanda",t.GORRO="gorro",t.TAPADO="tapado",t.CAPA="capa",t.SACO="saco",t.BLUSA="blusa",t.MONO="mono",t.VESTIDO="vestido",t.BUZO="buzo",t.MITONES="mitones",t.CAMPERA="campera",t.TOP="top",t.CHALECO="chaleco",t}(hn||{}),y4=Object.values(hn);var Do=(()=>{class t{constructor(e){this.http=e,this.BASE_URL=dn,this.API_URL=`${Nt}`}normalizeImageUrl(e){if(console.log("\u{1F50D} [FRONTEND] Normalizando URL:",e),e.startsWith("http"))return console.log("\u{1F50D} [FRONTEND] URL completa detectada:",e),e;if(e.startsWith("/images/categories/"))return console.log("\u{1F50D} [FRONTEND] Imagen por defecto del frontend:",e),e;if(!e.includes("/")&&!e.includes(".")){let i=`/images/categories/${e.toLowerCase()}.jpg`;return console.log("\u{1F50D} [FRONTEND] Categor\xEDa detectada, construyendo ruta:",i),console.log("\u{1F50D} [FRONTEND] URL original:",e,"\u2192 URL construida:",i),i}if(e.startsWith("/uploads/")||e.startsWith("uploads/")){let i=e.startsWith("/")?e:`/${e}`,o=`${dn}${i}`;return console.log("\u{1F50D} [FRONTEND] Imagen subida, usando URL directa al backend:",o),o}if(!e.includes("/")&&e.length>0&&!e.includes(".")){let i=`/uploads/${e}`,o=`${dn}${i}`;return console.log("\u{1F50D} [FRONTEND] Solo nombre de archivo, construyendo ruta directa:",o),o}if(!e.includes("/")&&e.includes(".")&&e.length>0){let i=`/uploads/${e}`,o=`${dn}${i}`;return console.log("\u{1F50D} [FRONTEND] Filename directo del backend, usando URL directa:",o),o}return console.log("\u{1F50D} [FRONTEND] URL sin cambios:",e),e}uploadImage(e){let i=new FormData;i.append("file",e);let o=`${dn}/uploads`;return console.log("\u{1F535} [FRONTEND] Subiendo imagen:",e.name,"Tama\xF1o:",e.size),console.log("\u{1F535} [FRONTEND] URL de subida (URL directa):",o),this.http.post(o,i,{headers:{},responseType:"text"}).pipe(oe(r=>{if(console.log("\u{1F535} [FRONTEND] \u2705 Respuesta recibida del servidor:"),console.log("\u{1F535} [FRONTEND] Tipo:",typeof r),console.log("\u{1F535} [FRONTEND] Longitud:",r?r.length:0),console.log("\u{1F535} [FRONTEND] Primeros 100 caracteres:",r?r.substring(0,100):"null"),typeof r=="string"&&r.trim().startsWith("<!DOCTYPE"))throw console.error("\u{1F534} [FRONTEND] \u274C La respuesta parece ser HTML en lugar del filename esperado"),console.error("\u{1F534} [FRONTEND] Esto indica que el endpoint /uploads no est\xE1 funcionando correctamente"),console.error(`\u{1F534} [FRONTEND] El proxy podr\xEDa no estar redirigiendo correctamente a ${dn}`),new Error("El servidor devolvi\xF3 HTML en lugar del filename del archivo");if(typeof r=="string"&&r.length>0&&!r.includes("<")&&!r.includes("/>"))console.log("\u{1F535} [FRONTEND] \u2705 Respuesta v\xE1lida recibida:",r);else throw console.error("\u{1F534} [FRONTEND] \u274C Respuesta inv\xE1lida:",r),new Error("Respuesta del servidor no es v\xE1lida")}),ee(r=>{throw console.error("\u{1F534} [FRONTEND] \u274C Error al subir imagen:"),console.error("\u{1F534} [FRONTEND] Status:",r.status),console.error("\u{1F534} [FRONTEND] StatusText:",r.statusText),console.error("\u{1F534} [FRONTEND] URL:",r.url),console.error("\u{1F534} [FRONTEND] Error completo:",r),r.status===0||r.status===404?(console.error("\u{1F534} [FRONTEND] Posible problema de proxy o CORS"),new Error("No se puede conectar con el servidor de archivos. Verificar configuraci\xF3n del proxy.")):r}))}list(e=!1){console.log("\u{1F535} [FRONTEND] Obteniendo productos desde la API... (incluirOcultos:",e,")");let i=`${this.API_URL}/productos${e?"?incluirOcultos=true":""}`;return this.http.get(i).pipe(oe(o=>{console.log("\u{1F535} [FRONTEND] Productos recibidos:",o.length,"productos"),o.forEach((r,s)=>{let a=r.imagenUrl;r.imagenUrl=this.normalizeImageUrl(r.imagenUrl),console.log(`\u{1F535} [FRONTEND] Producto ${s+1}: ${r.nombre} (oculto: ${r.oculto})`),console.log(`  - URL original: ${a}`),console.log(`  - URL normalizada: ${r.imagenUrl}`)})}),ee(o=>(console.error("\u{1F534} [FRONTEND] Error al obtener productos:",o),console.log("\u{1F7E1} [FRONTEND] Usando datos mock como fallback"),this.getMockProducts())))}getById(e){return console.log("\u{1F535} [FRONTEND] Obteniendo producto por ID:",e),this.http.get(`${this.API_URL}/productos/${e}`).pipe(oe(i=>{i.imagenUrl=this.normalizeImageUrl(i.imagenUrl),console.log("\u{1F535} [FRONTEND] Producto obtenido:",i.nombre,"(oculto:",i.oculto,")")}),ee(i=>{throw console.error("\u{1F534} [FRONTEND] Error al obtener producto:",i),i}))}createProduct(e){if(console.log("\u{1F535} [FRONTEND] Datos enviados:",e),console.log("\u{1F535} [FRONTEND] \u{1F50D} DETALLES DE LA IMAGEN RECIBIDA:",{imagen:e.imagen,tipo:typeof e.imagen,esFile:e.imagen instanceof File,nombre:e.imagen?.name,tama\u00F1o:e.imagen?.size,constructor:e.imagen?.constructor?.name}),!e.tipo||!e.categoria)throw console.error("\u{1F534} [FRONTEND] Error: Tipo o categor\xEDa vac\xEDos",{tipo:e.tipo,categoria:e.categoria}),new Error("Tipo y categor\xEDa son obligatorios");let i={nombre:e.nombre,tipo:e.tipo,categoria:e.categoria,sku:e.sku,colores:e.colores||[],talles:e.talles||[],precio:e.precio,descripcion:e.descripcion||""};if(e.stockPorVariante!=null&&Object.keys(e.stockPorVariante).length>0){i.stockPorVariante=e.stockPorVariante;let o=0;Object.values(e.stockPorVariante).forEach(r=>{o+=r||0}),i.stock=o,console.log("\u{1F535} [FRONTEND] Stock individual detectado, suma calculada:",o)}else e.stock!=null&&(i.stock=e.stock);return console.log("\u{1F535} [FRONTEND] Verificando imagen:",{imagen:e.imagen,esFile:e.imagen instanceof File,nombre:e.imagen?.name}),e.imagen&&e.imagen instanceof File?(console.log("\u{1F535} [FRONTEND] Subiendo imagen personalizada:",e.imagen.name),this.uploadImage(e.imagen).pipe(Fe(o=>{if(console.log("\u{1F535} [FRONTEND] \u{1F389} ENTRANDO AL switchMap - Imagen subida exitosamente, URL:",o),console.log("\u{1F535} [FRONTEND] Tipo de imageUrl recibido:",typeof o),console.log("\u{1F535} [FRONTEND] Contenido completo de imageUrl:",JSON.stringify(o)),typeof o=="string"&&(o.includes("<!DOCTYPE html>")||o.includes("<!DOCTYPE")))return console.error("\u{1F534} [FRONTEND] \u274C El backend devolvi\xF3 HTML en lugar del filename. El endpoint /uploads no funciona correctamente."),console.error("\u{1F534} [FRONTEND] Esto puede deberse a:"),console.error("\u{1F534} [FRONTEND] 1. El backend no est\xE1 ejecut\xE1ndose en localhost:8081"),console.error("\u{1F534} [FRONTEND] 2. El endpoint /uploads no est\xE1 configurado correctamente"),console.error("\u{1F534} [FRONTEND] 3. Problema de CORS o proxy"),console.error("\u{1F534} [FRONTEND] Continuando sin imagen personalizada..."),console.log("\u{1F7E1} [FRONTEND] Creando producto sin imagen personalizada debido a error en upload"),this.http.post(`${this.API_URL}/productos`,i);let r=this.normalizeImageUrl(o);console.log("\u{1F535} [FRONTEND] URL normalizada:",r);let s=Q(O({},i),{imagenUrl:r});return console.log("\u{1F535} [FRONTEND] \u{1F4E4} Request CON imagen al backend:",s),console.log("\u{1F535} [FRONTEND] \u2705 imagenUrl que se env\xEDa al backend:",s.imagenUrl),console.log("\u{1F535} [FRONTEND] \u{1F50D} STOCK EN REQUEST:",s.stock),console.log("\u{1F535} [FRONTEND] \u{1F50D} STOCK POR VARIANTE EN REQUEST:",s.stockPorVariante),console.log("\u{1F535} [FRONTEND] \u{1F50D} TIPO DE STOCK POR VARIANTE:",typeof s.stockPorVariante),console.log("\u{1F535} [FRONTEND] \u{1F50D} JSON STRINGIFY:",JSON.stringify(s.stockPorVariante)),this.http.post(`${this.API_URL}/productos`,s)}),ee(o=>(console.error("\u{1F534} [FRONTEND] Error en subida de imagen:",o),console.error("\u{1F534} [FRONTEND] Detalles del error:",{status:o.status,statusText:o.statusText,error:o.error,message:o.message}),console.log("\u{1F7E1} [FRONTEND] Fallback: creando producto sin imagen personalizada debido a error en upload"),console.log("\u{1F535} [FRONTEND] Request sin imagen:",i),o.message&&o.message.includes("HTML")&&(console.log("\u{1F7E1} [FRONTEND] El problema es que el endpoint /uploads est\xE1 devolviendo HTML en lugar de procesar el archivo"),console.log("\u{1F7E1} [FRONTEND] Esto generalmente se debe a problemas de configuraci\xF3n del proxy o CORS en el backend")),this.http.post(`${this.API_URL}/productos`,i))))):(console.log("\u{1F535} [FRONTEND] No hay imagen personalizada, el backend usar\xE1 imagen por defecto"),console.log("\u{1F535} [FRONTEND] Request sin imagen:",i),this.http.post(`${this.API_URL}/productos`,i))}updateProduct(e,i,o=!1){if(console.log("\u{1F535} [FRONTEND] Actualizando producto ID:",e),console.log("\u{1F535} [FRONTEND] Datos a actualizar:",i),console.log("\u{1F535} [FRONTEND] Confirmar variantes con pedidos:",o),!i.tipo||!i.categoria)throw console.error("\u{1F534} [FRONTEND] Error: Tipo o categor\xEDa vac\xEDos",{tipo:i.tipo,categoria:i.categoria}),new Error("Tipo y categor\xEDa son obligatorios");let r={nombre:i.nombre,tipo:i.tipo,categoria:i.categoria,sku:i.sku,descripcion:i.descripcion||"",stockPorVariante:i.stockPorVariante,oculto:i.oculto!==void 0?i.oculto:!1};return console.log("\u{1F535} [FRONTEND] Request base incluye oculto:",r.oculto),i.colores&&Array.isArray(i.colores)&&i.colores.length>0?r.colores=i.colores:console.log("\u{1F535} [FRONTEND] No se env\xEDan colores (vac\xEDo o no modificado)"),i.talles&&Array.isArray(i.talles)&&i.talles.length>0?r.talles=i.talles:console.log("\u{1F535} [FRONTEND] No se env\xEDan talles (vac\xEDo o no modificado)"),i.precio!=null&&i.precio>0&&(r.precio=i.precio),i.stock!=null&&i.stock>=0&&(r.stock=i.stock),console.log("\u{1F535} [FRONTEND] Verificando imagen:",{imagen:i.imagen,esFile:i.imagen instanceof File,nombre:i.imagen?.name}),i.imagen&&i.imagen instanceof File?(console.log("\u{1F535} [FRONTEND] Subiendo nueva imagen personalizada:",i.imagen.name),this.uploadImage(i.imagen).pipe(Fe(s=>{if(console.log("\u{1F535} [FRONTEND] \u{1F389} Imagen subida exitosamente, URL:",s),typeof s=="string"&&(s.includes("<!DOCTYPE html>")||s.includes("<!DOCTYPE")))return console.error("\u{1F534} [FRONTEND] \u274C El backend devolvi\xF3 HTML en lugar del filename."),console.log("\u{1F7E1} [FRONTEND] Actualizando producto sin nueva imagen personalizada..."),this.http.put(`${this.API_URL}/productos/${e}?confirmarVariantesConPedidos=${o}`,r);let a=this.normalizeImageUrl(s);console.log("\u{1F535} [FRONTEND] URL normalizada:",a);let d=Q(O({},r),{imagenUrl:a});return console.log("\u{1F535} [FRONTEND] \u{1F4E4} Request CON nueva imagen al backend:",d),console.log("\u{1F535} [FRONTEND] Request incluye oculto:",d.oculto),this.http.put(`${this.API_URL}/productos/${e}?confirmarVariantesConPedidos=${o}`,d)}),ee(s=>(console.error("\u{1F534} [FRONTEND] Error en subida de imagen:",s),console.log("\u{1F7E1} [FRONTEND] Fallback: actualizando producto sin nueva imagen personalizada"),this.http.put(`${this.API_URL}/productos/${e}?confirmarVariantesConPedidos=${o}`,r))))):(console.log("\u{1F535} [FRONTEND] No hay imagen nueva, actualizando solo datos del producto"),console.log("\u{1F535} [FRONTEND] Request base (sin imagen) incluye oculto:",r.oculto),this.http.put(`${this.API_URL}/productos/${e}?confirmarVariantesConPedidos=${o}`,r))}verificarVariantesConPedidos(e){return console.log("\u{1F535} [FRONTEND] Verificando variantes con pedidos para producto ID:",e),this.http.get(`${this.API_URL}/productos/${e}/verificar-pedidos`)}getMockProducts(){let e=[{id:1,nombre:"Remera B\xE1sica Tejida",descripcion:"Remera de algod\xF3n 100% tejida",tipo:"ROPA",imagenUrl:"/images/categories/remera.jpg",categoria:hn.REMERA,variantes:[{id:1,sku:"REM-S-B",color:"Blanco",talle:"S",precio:1500,stockDisponible:50},{id:2,sku:"REM-M-B",color:"Blanco",talle:"M",precio:1500,stockDisponible:30},{id:3,sku:"REM-L-B",color:"Blanco",talle:"L",precio:1500,stockDisponible:25},{id:4,sku:"REM-S-A",color:"Azul",talle:"S",precio:1500,stockDisponible:40},{id:5,sku:"REM-M-A",color:"Azul",talle:"M",precio:1500,stockDisponible:35},{id:6,sku:"REM-L-A",color:"Azul",talle:"L",precio:1500,stockDisponible:20}]},{id:2,nombre:"Hoodie Sirio Tinto",descripcion:"Hoodie con capucha y bolsillo delantero",tipo:"ROPA",imagenUrl:"/images/categories/buzo.jpg",categoria:hn.BUZO,variantes:[{id:7,sku:"HOO-S-N",color:"Negro",talle:"S",precio:3500,stockDisponible:15},{id:8,sku:"HOO-M-N",color:"Negro",talle:"M",precio:3500,stockDisponible:20},{id:9,sku:"HOO-L-N",color:"Negro",talle:"L",precio:3500,stockDisponible:18},{id:10,sku:"HOO-S-M",color:"Marr\xF3n",talle:"S",precio:3500,stockDisponible:12},{id:11,sku:"HOO-M-M",color:"Marr\xF3n",talle:"M",precio:3500,stockDisponible:16},{id:12,sku:"HOO-L-M",color:"Marr\xF3n",talle:"L",precio:3500,stockDisponible:14}]},{id:3,nombre:"Campera Sherpa Teddy",descripcion:"Campera de sherpa con cierre",tipo:"ROPA",imagenUrl:"/images/categories/campera.jpg",categoria:hn.CAMPERA,variantes:[{id:13,sku:"CAM-S-N",color:"Negro",talle:"S",precio:4500,stockDisponible:8},{id:14,sku:"CAM-M-N",color:"Negro",talle:"M",precio:4500,stockDisponible:10},{id:15,sku:"CAM-L-N",color:"Negro",talle:"L",precio:4500,stockDisponible:12},{id:16,sku:"CAM-S-M",color:"Marr\xF3n",talle:"S",precio:4500,stockDisponible:6},{id:17,sku:"CAM-M-M",color:"Marr\xF3n",talle:"M",precio:4500,stockDisponible:9},{id:18,sku:"CAM-L-M",color:"Marr\xF3n",talle:"L",precio:4500,stockDisponible:11}]},{id:4,nombre:"Chaleco Wendbarr Reversible",descripcion:"Chaleco reversible sin mangas",tipo:"ROPA",imagenUrl:"/images/categories/blazer.jpg",categoria:hn.CHALECO,variantes:[{id:19,sku:"CHA-S-N",color:"Negro",talle:"S",precio:2800,stockDisponible:15},{id:20,sku:"CHA-M-N",color:"Negro",talle:"M",precio:2800,stockDisponible:18},{id:21,sku:"CHA-L-N",color:"Negro",talle:"L",precio:2800,stockDisponible:12},{id:22,sku:"CHA-S-K",color:"Khaki",talle:"S",precio:2800,stockDisponible:10},{id:23,sku:"CHA-M-K",color:"Khaki",talle:"M",precio:2800,stockDisponible:14},{id:24,sku:"CHA-L-K",color:"Khaki",talle:"L",precio:2800,stockDisponible:8}]},{id:5,nombre:"Pantal\xF3n Cargo Verde",descripcion:"Pantal\xF3n cargo con bolsillos laterales",tipo:"ROPA",imagenUrl:"/images/categories/pantalon.jpg",categoria:hn.PANTALON,variantes:[{id:25,sku:"PAN-S-V",color:"Verde",talle:"S",precio:3200,stockDisponible:8},{id:26,sku:"PAN-M-V",color:"Verde",talle:"M",precio:3200,stockDisponible:10},{id:27,sku:"PAN-L-V",color:"Verde",talle:"L",precio:3200,stockDisponible:12},{id:28,sku:"PAN-S-K",color:"Khaki",talle:"S",precio:3200,stockDisponible:6},{id:29,sku:"PAN-M-K",color:"Khaki",talle:"M",precio:3200,stockDisponible:9},{id:30,sku:"PAN-L-K",color:"Khaki",talle:"L",precio:3200,stockDisponible:11}]},{id:6,nombre:"Short Deportivo Negro",descripcion:"Short c\xF3modo para deporte",tipo:"ROPA",imagenUrl:"/images/categories/short.jpg",categoria:hn.SHORT,variantes:[{id:31,sku:"SHO-S-N",color:"Negro",talle:"S",precio:1800,stockDisponible:15},{id:32,sku:"SHO-M-N",color:"Negro",talle:"M",precio:1800,stockDisponible:18},{id:33,sku:"SHO-L-N",color:"Negro",talle:"L",precio:1800,stockDisponible:12},{id:34,sku:"SHO-S-A",color:"Azul",talle:"S",precio:1800,stockDisponible:10},{id:35,sku:"SHO-M-A",color:"Azul",talle:"M",precio:1800,stockDisponible:14},{id:36,sku:"SHO-L-A",color:"Azul",talle:"L",precio:1800,stockDisponible:8}]},{id:7,nombre:"Sweater de Lana",descripcion:"Sweater c\xE1lido de lana natural",tipo:"ROPA",imagenUrl:"/images/categories/sweater.jpg",categoria:hn.SWEATER,variantes:[{id:37,sku:"SWE-S-G",color:"Gris",talle:"S",precio:4200,stockDisponible:5},{id:38,sku:"SWE-M-G",color:"Gris",talle:"M",precio:4200,stockDisponible:7},{id:39,sku:"SWE-L-G",color:"Gris",talle:"L",precio:4200,stockDisponible:6},{id:40,sku:"SWE-S-B",color:"Beige",talle:"S",precio:4200,stockDisponible:4},{id:41,sku:"SWE-M-B",color:"Beige",talle:"M",precio:4200,stockDisponible:8},{id:42,sku:"SWE-L-B",color:"Beige",talle:"L",precio:4200,stockDisponible:5}]}];return new Y(i=>{setTimeout(()=>{i.next(e),i.complete()},500)})}static{this.\u0275fac=function(i){return new(i||t)(z(lt))}}static{this.\u0275prov=R({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sP(t,n){if(t&1&&(l(0,"span",31),u(1),c()),t&2){let e=m();p(),w(e.cartItemCount)}}function aP(t,n){if(t&1){let e=S();l(0,"div",32)(1,"button",33),v("click",function(){C(e);let o=m();return x(o.goToAddProduct())}),u(2," \u2795 Agregar Producto "),c()()}}function cP(t,n){if(t&1){let e=S();l(0,"button",34),v("click",function(){C(e);let o=m();return x(o.previousSlide())}),u(1," \u2039 "),c()}if(t&2){let e=m();h("disabled",e.currentSlide===0)}}function lP(t,n){t&1&&(l(0,"span",43),u(1,"(Oculto)"),c())}function dP(t,n){if(t&1){let e=S();l(0,"div",35),v("click",function(){let o=C(e).$implicit,r=m();return x(r.selectProduct(o))}),l(1,"div",36)(2,"div",37),H(3,"img",38),c(),l(4,"div",39)(5,"h3"),u(6),b(7,lP,2,0,"span",40),c(),l(8,"div",41),u(9),c(),l(10,"button",42),v("click",function(){let o=C(e).$implicit,r=m();return x(r.selectProduct(o))}),u(11," COMPRAR "),c()()()()}if(t&2){let e=n.$implicit,i=m();st("flex","0 0 calc(100% / "+i.itemsPerView+")"),B("selected",(i.selectedProduct==null?null:i.selectedProduct.id)===e.id)("producto-oculto",e.oculto&&i.authService.isAdmin()),Be("data-product-id",e.id),p(),B("oculto",e.oculto&&i.authService.isAdmin()),p(2),h("src",e.imagenUrl,Jn)("alt",e.nombre),p(3),D(" ",e.nombre," "),p(),h("ngIf",e.oculto&&i.authService.isAdmin()),p(2),D(" Precio: $",i.getMinPrice(e)," "),p(),B("selected-btn",(i.selectedProduct==null?null:i.selectedProduct.id)===e.id)}}function uP(t,n){if(t&1){let e=S();l(0,"button",44),v("click",function(){C(e);let o=m();return x(o.nextSlide())}),u(1," \u203A "),c()}if(t&2){let e=m();h("disabled",e.currentSlide>=e.maxSlide)}}function pP(t,n){if(t&1){let e=S();l(0,"button",59),v("click",function(){C(e);let o=m(2);return x(o.goToEditProduct(o.selectedProduct.id))}),u(1," \u270F\uFE0F Modificar Producto "),c()}}function fP(t,n){if(t&1&&(l(0,"div",60),u(1),c()),t&2){let e=n.$implicit;p(),w(e)}}function hP(t,n){if(t&1){let e=S();l(0,"div",64)(1,"input",65),v("input",function(o){let r=C(e).$implicit,s=m().$implicit,a=m(2);return x(a.updateQuantity(s,r,o))}),c()()}if(t&2){let e=n.$implicit,i=m().$implicit,o=m(2);p(),h("value",o.getQuantity(i,e))("max",o.getStock(i,e))}}function gP(t,n){if(t&1&&(l(0,"div",61)(1,"div",62),u(2),c(),b(3,hP,2,2,"div",63),c()),t&2){let e=n.$implicit,i=m(2);p(2),w(e),p(),h("ngForOf",i.getTalles())}}function mP(t,n){if(t&1){let e=S();l(0,"div",45)(1,"div",46)(2,"div",47),H(3,"img",38),b(4,pP,2,0,"button",48),c(),l(5,"div",49)(6,"h2"),u(7),c(),l(8,"p",50),u(9),c(),l(10,"div",51)(11,"div",52)(12,"div",53),u(13,"SKU"),c(),b(14,fP,2,1,"div",54),c(),b(15,gP,4,2,"div",55),c(),l(16,"div",56)(17,"div",57),u(18),c(),l(19,"button",58),v("click",function(){C(e);let o=m();return x(o.addToCart())}),u(20," AGREGAR AL PEDIDO "),c()()()()()}if(t&2){let e=m();p(3),h("src",e.selectedProduct.imagenUrl,Jn)("alt",e.selectedProduct.nombre),p(),h("ngIf",e.isAdmin()),p(3),w(e.selectedProduct.nombre),p(2),w(e.selectedProduct.descripcion),p(5),h("ngForOf",e.getTalles()),p(),h("ngForOf",e.getColores()),p(3),D(" Precio: $",e.getMinPrice(e.selectedProduct)," "),p(),h("disabled",!e.hasSelectedItems())}}function vP(t,n){if(t&1){let e=S();l(0,"div",76),v("click",function(){let o=C(e).$implicit,r=m(3);return x(r.scrollToResult(o))}),l(1,"div",77),u(2),c(),l(3,"div",78)(4,"div",79),u(5),c(),l(6,"div",80),u(7),c()()()}if(t&2){let e=n.$implicit;p(2),w(e.type==="producto"?"\u{1F6CD}\uFE0F":"\u{1F4C4}"),p(3),w(e.title),p(2),w(e.description)}}function _P(t,n){if(t&1&&(l(0,"div",74),b(1,vP,8,3,"div",75),c()),t&2){let e=m(2);p(),h("ngForOf",e.searchResults)}}function CP(t,n){if(t&1&&(l(0,"div",81)(1,"p"),u(2),c()()),t&2){let e=m(2);p(2),D('No se encontraron resultados para "',e.searchTerm,'"')}}function xP(t,n){if(t&1){let e=S();l(0,"div",66),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),l(1,"div",67),v("click",function(o){return C(e),x(o.stopPropagation())}),l(2,"div",68)(3,"h3"),u(4,"Buscar en la p\xE1gina"),c(),l(5,"button",69),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),u(6,"\xD7"),c()(),l(7,"div",70)(8,"input",71),L("ngModelChange",function(o){C(e);let r=m();return j(r.searchTerm,o)||(r.searchTerm=o),x(o)}),v("input",function(){C(e);let o=m();return x(o.performSearch())}),c()(),b(9,_P,2,1,"div",72)(10,CP,3,1,"div",73),c()()}if(t&2){let e=m();p(8),V("ngModel",e.searchTerm),p(),h("ngIf",e.searchResults.length>0),p(),h("ngIf",e.searchTerm&&e.searchResults.length===0)}}var W0=(()=>{class t{constructor(e,i,o,r){this.productsService=e,this.cartService=i,this.authService=o,this.router=r,this.productos=[],this.filteredProducts=[],this.selectedProduct=null,this.selectedFilter="tejido",this.currentSlide=0,this.maxSlide=0,this.itemsPerView=5,this.showNavigation=!1,this.selectedQuantities={},this.cartItemCount=0,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[],this.lastStorageValue=null}ngOnInit(){this.loadProducts(),this.updateCartCount(),this.setupStorageListener()}ngOnDestroy(){}setupStorageListener(){this.router.events.pipe(nt(e=>e instanceof ln)).subscribe(e=>{(e.url==="/catalog"||e.urlAfterRedirects==="/catalog")&&this.loadProducts()}),setInterval(()=>{let e=localStorage.getItem("verProductosOcultos");e!==this.lastStorageValue&&(this.lastStorageValue=e,this.router.url==="/catalog"&&(console.log("\u{1F535} [HOME] Preferencia cambi\xF3, recargando productos..."),this.loadProducts()))},500)}loadProducts(){let e=this.authService.isAdmin()&&localStorage.getItem("verProductosOcultos")==="true";this.lastStorageValue=localStorage.getItem("verProductosOcultos"),console.log("\u{1F535} [HOME] Cargando productos, incluirOcultos:",e),this.productsService.list(e).subscribe(i=>{this.productos=i,this.applyFilter()})}setFilter(e){this.selectedFilter=e,this.applyFilter()}applyFilter(){this.filteredProducts=this.productos.filter(e=>this.selectedFilter==="tejido"?e.categoria==="TEJIDO":e.categoria==="PLANO"),this.updateCarouselLogic(),this.updateSelectedProduct()}updateCarouselLogic(){let e=this.filteredProducts.length;e<=5?(this.itemsPerView=e,this.currentSlide=0,this.maxSlide=0,this.showNavigation=!1):(this.itemsPerView=5,this.currentSlide=0,this.maxSlide=e-5,this.showNavigation=!0)}previousSlide(){this.currentSlide>0&&(this.currentSlide--,this.updateSelectedProduct())}nextSlide(){this.currentSlide<this.maxSlide&&(this.currentSlide++,this.updateSelectedProduct())}updateSelectedProduct(){if(this.filteredProducts.length===0){this.selectedProduct=null,this.selectedQuantities={};return}if(this.filteredProducts.length<=5)this.selectedProduct=this.filteredProducts[0];else{let e=this.currentSlide+Math.floor(this.itemsPerView/2);e<this.filteredProducts.length&&(this.selectedProduct=this.filteredProducts[e])}this.selectedQuantities={}}selectProduct(e){this.selectedProduct=e,this.selectedQuantities={};let i=this.filteredProducts.findIndex(o=>o.id===e.id);if(i!==-1){let o=Math.floor(this.itemsPerView/2);this.currentSlide=Math.max(0,Math.min(this.maxSlide,i-o))}}getTalles(){if(!this.selectedProduct)return[];let e=new Set;return this.selectedProduct.variantes.forEach(i=>{let o=i.talle.trim(),r=this.normalizarTalle(o);e.add(`Talle ${r}`)}),Array.from(e).sort((i,o)=>{let r=i.replace("Talle ",""),s=o.replace("Talle ","");if(r==="\xDAnico"&&s!=="\xDAnico")return 1;if(r!=="\xDAnico"&&s==="\xDAnico")return-1;if(r==="\xDAnico"&&s==="\xDAnico")return 0;let a=parseInt(r),d=parseInt(s);if(!isNaN(a)&&!isNaN(d))return a-d;if(!isNaN(a)&&isNaN(d))return-1;if(isNaN(a)&&!isNaN(d))return 1;let f=["XS","S","M","L","XL"],g=f.indexOf(r.toUpperCase()),_=f.indexOf(s.toUpperCase());return g!==-1&&_!==-1?g-_:g!==-1?-1:_!==-1?1:r.localeCompare(s)})}getColores(){return this.selectedProduct?Array.from(new Set(this.selectedProduct.variantes.map(e=>e.color))).sort():[]}findVariante(e,i){if(!this.selectedProduct||!this.selectedProduct.variantes)return null;let o=i.replace("Talle ","");return this.selectedProduct.variantes.find(r=>r.color===e&&this.talleMatches(r.talle,o))}talleMatches(e,i){let o=this.normalizarTalle(e.trim()),r=this.normalizarTalle(i.trim());return o===r}normalizarTalle(e){return{U:"\xDAnico",TU:"\xDAnico",UNICO:"\xDAnico",T3:"3",3:"3",1:"1",2:"2",4:"4",5:"5",S:"S",M:"M",L:"L",XL:"XL"}[e.toUpperCase()]||e}getQuantity(e,i){let o=`${e}-${i}`;return this.selectedQuantities[o]||0}updateQuantity(e,i,o){let r=Number(o.target.value)||0,s=`${e}-${i}`;r>0?this.selectedQuantities[s]=r:delete this.selectedQuantities[s]}getStock(e,i){let o=this.findVariante(e,i);return o?o.stockDisponible:0}getMinPrice(e){return Math.min(...e.variantes.map(i=>i.precio))}getMaxPrice(e){return Math.max(...e.variantes.map(i=>i.precio))}hasSelectedItems(){return Object.values(this.selectedQuantities).some(e=>e>0)}addToCart(){if(!this.selectedProduct||!this.hasSelectedItems())return;let e=this.authService.getCurrentUser(),i=this.authService.getSelectedClient(),o=e?.id;o&&this.cartService.crear(o).subscribe(r=>{let s=[];Object.entries(this.selectedQuantities).forEach(([f,g])=>{if(g>0){let _=f.split("-"),E=_[0],y=_.slice(1).join("-"),P=this.findVariante(E,y);P&&s.push({variante:P,quantity:g,color:E,talle:y})}});let a=0,d=s.length;d!==0&&(s.forEach(({variante:f,quantity:g,color:_,talle:E})=>{let y=E.replace("Talle ","");this.cartService.agregarItem(r,f.id,g).subscribe({next:()=>{a++,a===d&&(alert("Se agregaron todos los items al carrito"),this.updateCartCount())},error:P=>{console.error("Error al agregar item al carrito:",P),alert("Error al agregar el producto al carrito")}})}),this.selectedQuantities={})})}logout(){this.authService.logout(),this.router.navigate(["/login"])}goToCart(){this.router.navigate(["/cart"])}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}goToEditProduct(e){this.router.navigate(["/edit-product",e])}goToAddProduct(){this.router.navigate(["/add-product"])}isAdmin(){return this.authService.isAdmin()}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],this.productos.forEach(o=>{if(o.nombre.toLowerCase().includes(e)||o.descripcion?.toLowerCase().includes(e)||o.categoria.toLowerCase().includes(e))if(this.filteredProducts.includes(o))this.searchResults.push({type:"producto",title:o.nombre,description:o.descripcion||"Sin descripci\xF3n",data:o,requiresFilterChange:!1});else{let s="tejido";o.categoria.toLowerCase().includes("plano")&&(s="plano"),this.searchResults.push({type:"producto",title:o.nombre,description:`${o.descripcion||"Sin descripci\xF3n"} (En filtro: ${s.toUpperCase()})`,data:o,requiresFilterChange:!0,correctFilter:s})}}),document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p").forEach(o=>{let r=o.textContent?.toLowerCase()||"";r.includes(e)&&r.length>0&&this.searchResults.push({type:"elemento",title:o.textContent?.trim()||"",description:"Elemento encontrado en la p\xE1gina",element:o})})}scrollToResult(e){if(this.closeSearchModal(),e.type==="producto")if(e.requiresFilterChange&&e.correctFilter)this.setFilter(e.correctFilter),setTimeout(()=>{let i=document.querySelector(`[data-product-id="${e.data.id}"]`);i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),i.classList.add("search-highlight"),setTimeout(()=>{i.classList.remove("search-highlight")},2e3))},500);else{let i=document.querySelector(`[data-product-id="${e.data.id}"]`);i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),i.classList.add("search-highlight"),setTimeout(()=>{i.classList.remove("search-highlight")},2e3))}else e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}static{this.\u0275fac=function(i){return new(i||t)(M(Do),M(Ye),M(ge),M(le))}}static{this.\u0275cmp=de({type:t,selectors:[["app-home-page"]],standalone:!0,features:[ue],decls:44,vars:15,consts:[[1,"home-container"],[1,"home-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"catalog-header"],[1,"filters"],[1,"filter-btn",3,"click"],["class","admin-actions",4,"ngIf"],[1,"carousel-container"],["class","carousel-btn prev",3,"disabled","click",4,"ngIf"],[1,"carousel-wrapper"],[1,"carousel-track"],["class","carousel-item",3,"flex","selected","producto-oculto","click",4,"ngFor","ngForOf"],["class","carousel-btn next",3,"disabled","click",4,"ngIf"],["class","product-detail",4,"ngIf"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"admin-actions"],[1,"add-product-btn",3,"click"],[1,"carousel-btn","prev",3,"click","disabled"],[1,"carousel-item",3,"click"],[1,"product-card"],[1,"product-image"],[3,"src","alt"],[1,"product-info"],["class","badge-oculto",4,"ngIf"],[1,"price-range"],[1,"add-to-cart-btn",3,"click"],[1,"badge-oculto"],[1,"carousel-btn","next",3,"click","disabled"],[1,"product-detail"],[1,"detail-container"],[1,"product-image-large"],["class","edit-product-btn","title","Modificar Producto",3,"click",4,"ngIf"],[1,"product-variants"],[1,"product-description"],[1,"variants-grid"],[1,"grid-header"],[1,"sku-col"],["class","size-col",4,"ngFor","ngForOf"],["class","variant-row",4,"ngFor","ngForOf"],[1,"product-actions"],[1,"price-display"],[1,"add-to-cart-btn",3,"click","disabled"],["title","Modificar Producto",1,"edit-product-btn",3,"click"],[1,"size-col"],[1,"variant-row"],[1,"color-cell"],["class","quantity-cell",4,"ngFor","ngForOf"],[1,"quantity-cell"],["type","number","min","0",1,"quantity-input",3,"input","value","max"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(i,o){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),v("click",function(){return o.goToCatalog()}),l(4,"div",4),H(5,"img",5),c(),l(6,"span"),u(7,"HRK"),c()(),l(8,"nav",6)(9,"a",7),v("click",function(){return o.goToCatalog()}),u(10,"SHOP"),c(),l(11,"a",8),v("click",function(){return o.goToCatalog()}),u(12,"SALE"),c(),l(13,"a",9),v("click",function(){return o.goToInfo()}),u(14,"info"),c()()(),l(15,"div",10)(16,"button",11),v("click",function(){return o.goToCart()}),u(17," \u{1F6D2} "),b(18,sP,2,1,"span",12),c(),l(19,"button",13),v("click",function(){return o.openSearchModal()}),u(20," \u{1F50D} "),c(),l(21,"button",14),v("click",function(){return o.goToHistory()}),u(22," \u{1F4CB} "),c(),l(23,"button",15),v("click",function(){return o.goToProfile()}),H(24,"img",16),l(25,"span",17),u(26,"\u{1F464}"),c()(),l(27,"button",18),v("click",function(){return o.logout()}),u(28," Cerrar Sesi\xF3n "),c()()(),l(29,"div",19)(30,"div",20)(31,"button",21),v("click",function(){return o.setFilter("tejido")}),u(32," Tejido "),c(),l(33,"button",21),v("click",function(){return o.setFilter("plano")}),u(34," Plano "),c()(),b(35,aP,3,0,"div",22),c(),l(36,"div",23),b(37,cP,2,1,"button",24),l(38,"div",25)(39,"div",26),b(40,dP,12,16,"div",27),c()(),b(41,uP,2,1,"button",28),c(),b(42,mP,21,9,"div",29),c(),b(43,xP,11,3,"div",30)),i&2&&(p(18),h("ngIf",o.cartItemCount>0),p(13),B("active",o.selectedFilter==="tejido"),p(2),B("active",o.selectedFilter==="plano"),p(2),h("ngIf",o.isAdmin()),p(2),h("ngIf",o.showNavigation),p(),B("centered",!o.showNavigation),p(),st("transform",o.showNavigation?"translateX("+-o.currentSlide*(100/o.itemsPerView)+"%)":"translateX(0%)"),p(),h("ngForOf",o.filteredProducts),p(),h("ngIf",o.showNavigation),p(),h("ngIf",o.selectedProduct),p(),h("ngIf",o.showSearchModal))},dependencies:[_e,je,be,ye,Me,we,Ee],styles:['@charset "UTF-8";.home-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.home-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease;transform:rotate(0)}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(0)}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;min-width:20px;border:2px solid black;box-shadow:0 2px 4px #0000004d}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.history-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;padding:8px;border-radius:4px;transition:background-color .3s}.history-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.icon-btn.user-icon[_ngcontent-%COMP%]{background:transparent!important;border:none!important;cursor:pointer;padding:0!important;border-radius:6px;transition:all .3s;display:flex;align-items:center;justify-content:center;width:47.5px;height:47.5px}.user-icon[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.05)}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.catalog-header[_ngcontent-%COMP%]{margin-bottom:30px;padding:20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}.filters[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.add-product-btn[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;padding:12px 20px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:14px;display:flex;align-items:center;gap:8px}.add-product-btn[_ngcontent-%COMP%]:hover{background:#218838;transform:translateY(-1px);box-shadow:0 4px 8px #28a7454d}.filter-btn[_ngcontent-%COMP%]{padding:12px 24px;border:2px solid #e1e5e9;background:#fff;border-radius:8px;cursor:pointer;font-weight:500;transition:all .3s}.filter-btn[_ngcontent-%COMP%]:hover{border-color:#667eea;background:#f8f9fa}.filter-btn.active[_ngcontent-%COMP%]{background:#667eea;color:#fff;border-color:#667eea}.carousel-container[_ngcontent-%COMP%]{position:relative;margin-bottom:40px;padding:10px 40px;display:flex;align-items:center;justify-content:center}.carousel-wrapper[_ngcontent-%COMP%]{overflow:hidden;border-radius:12px;position:relative;display:flex;padding:0 15px;width:100%}.carousel-wrapper.centered[_ngcontent-%COMP%]{justify-content:center}.carousel-track[_ngcontent-%COMP%]{display:flex;transition:transform .3s ease;width:100%;max-width:100%}.carousel-wrapper.centered[_ngcontent-%COMP%]   .carousel-track[_ngcontent-%COMP%]{width:100%;max-width:none}.carousel-item[_ngcontent-%COMP%]{padding:0 10px;cursor:pointer;min-width:0;flex-shrink:0}.product-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a;transition:all .3s;border:2px solid transparent;width:200px;max-width:200px;margin:0 auto;position:relative;z-index:1}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.product-card.oculto[_ngcontent-%COMP%], .carousel-item.producto-oculto[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{opacity:.5;background-color:#f5f5f5;border:2px solid #cccccc;position:relative}.product-card.oculto[_ngcontent-%COMP%]:before, .carousel-item.producto-oculto[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#8080801a,#80808033);border-radius:12px;pointer-events:none;z-index:1}.product-card.oculto[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .carousel-item.producto-oculto[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(70%);opacity:.7}.product-card.oculto[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%], .carousel-item.producto-oculto[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{position:relative;z-index:2}.badge-oculto[_ngcontent-%COMP%]{display:inline-block;background-color:#6c757d;color:#fff;font-size:10px;padding:2px 6px;border-radius:4px;margin-left:8px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.carousel-item.selected[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{border-color:#667eea;background:#f8f9ff;z-index:2}.product-image[_ngcontent-%COMP%]{width:100%;height:200px;margin-bottom:15px;border-radius:8px;overflow:hidden}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:8px}.placeholder-image[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:48px;font-weight:700;color:#fff}.product-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;color:#333}.product-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;color:#666;font-size:14px}.price-range[_ngcontent-%COMP%]{font-weight:600;color:#667eea;font-size:16px}.carousel-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:50px;height:50px;border:none;border-radius:50%;background:#f8f9fa;box-shadow:0 4px 12px #00000026;cursor:pointer;font-size:24px;font-weight:700;color:#2c3e50;transition:all .3s;z-index:10}.carousel-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2c3e50;color:#fff;transform:translateY(-50%) scale(1.1);box-shadow:0 6px 20px #2c3e5080}.carousel-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.carousel-btn.prev[_ngcontent-%COMP%]{left:10px}.carousel-btn.next[_ngcontent-%COMP%]{right:10px}.product-detail[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;margin:0 10px;box-shadow:0 4px 6px #0000001a}.detail-container[_ngcontent-%COMP%]{display:flex;gap:40px}.product-image-large[_ngcontent-%COMP%]{flex:0 0 300px;border-radius:12px;overflow:visible;display:flex;flex-direction:column;gap:15px}.product-image-large[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover;border-radius:12px}.product-image-large[_ngcontent-%COMP%]   .edit-product-btn[_ngcontent-%COMP%]{width:100%;margin-top:0}.placeholder-image-large[_ngcontent-%COMP%]{width:100%;height:300px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:72px;font-weight:700;color:#fff}.product-variants[_ngcontent-%COMP%]{flex:1}.product-variants[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:24px}.product-description[_ngcontent-%COMP%]{margin:0 0 30px;color:#666;font-size:16px}.variants-grid[_ngcontent-%COMP%]{margin-bottom:30px}.grid-header[_ngcontent-%COMP%]{display:flex;background:#f8f9fa;border-radius:8px 8px 0 0;font-weight:600;color:#333}.sku-col[_ngcontent-%COMP%]{flex:0 0 100px;padding:12px;text-align:center}.size-col[_ngcontent-%COMP%]{flex:1;padding:12px;text-align:center}.variant-row[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #e1e5e9}.color-cell[_ngcontent-%COMP%]{flex:0 0 100px;padding:12px;text-align:center;font-weight:500;background:#f8f9fa}.quantity-cell[_ngcontent-%COMP%]{flex:1;padding:8px;text-align:center}.quantity-input[_ngcontent-%COMP%]{width:60px;padding:6px;border:1px solid #e1e5e9;border-radius:4px;text-align:center}.quantity-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.product-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.price-display[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#667eea}.add-to-cart-btn[_ngcontent-%COMP%]{background:#e0e0e0;color:#333;border:none;padding:10px 20px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s;font-size:14px;width:100%;margin-top:10px}.add-to-cart-btn.selected-btn[_ngcontent-%COMP%]{background:#333;color:#fff}.add-to-cart-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#555;transform:translateY(-2px)}.add-to-cart-btn[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.edit-product-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;border:none;padding:10px 20px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s;font-size:14px;flex:1;min-width:150px;box-shadow:0 2px 4px #007bff33}.edit-product-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #007bff66;background:linear-gradient(135deg,#0056b3,#004085)}.admin-note[_ngcontent-%COMP%]{display:block;color:#6c757d;font-size:12px;margin-top:8px;font-style:italic}@media (max-width: 1024px){.header-left[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%]{gap:10px}.nav-item[_ngcontent-%COMP%]{font-size:13px}.header-right[_ngcontent-%COMP%]{gap:8px}.icon-btn[_ngcontent-%COMP%]{font-size:16px;padding:6px}.logo-symbol[_ngcontent-%COMP%]{width:50px;height:50px}}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}@media (max-width: 768px){.home-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px;padding:15px}.header-left[_ngcontent-%COMP%], .header-right[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}.main-nav[_ngcontent-%COMP%]{justify-content:center}.logo-symbol[_ngcontent-%COMP%]{width:45px;height:45px;margin-top:-5px;margin-bottom:-5px}.detail-container[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.carousel-item[_ngcontent-%COMP%]{flex:0 0 33.333%;padding:0 5px}.carousel-container[_ngcontent-%COMP%]{padding:0 5px}.carousel-btn[_ngcontent-%COMP%]{width:40px;height:40px;font-size:18px}.carousel-btn.prev[_ngcontent-%COMP%]{left:5px}.carousel-btn.next[_ngcontent-%COMP%]{right:5px}}@media (max-width: 480px){.home-header[_ngcontent-%COMP%]{margin:5px;padding:10px}.header-left[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:8px}.main-nav[_ngcontent-%COMP%]{gap:8px}.nav-item[_ngcontent-%COMP%]{font-size:12px;padding:4px 8px}.header-right[_ngcontent-%COMP%]{gap:5px}.icon-btn[_ngcontent-%COMP%]{font-size:14px;padding:4px}.logout-btn[_ngcontent-%COMP%]{font-size:11px;padding:6px 8px}.logo-symbol[_ngcontent-%COMP%]{width:40px;height:40px;margin-top:-3px;margin-bottom:-3px}.carousel-item[_ngcontent-%COMP%]{flex:0 0 50%;padding:0}.product-detail[_ngcontent-%COMP%]{margin:0 5px;padding:15px}.filters[_ngcontent-%COMP%]{flex-wrap:wrap;gap:5px}.filter-btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:14px}}']})}}return t})();function bP(t,n){if(t&1&&(l(0,"span",26),u(1),c()),t&2){let e=m();p(),w(e.cartItemCount)}}function yP(t,n){if(t&1){let e=S();l(0,"div",37),v("click",function(){let o=C(e).$implicit,r=m(3);return x(r.scrollToResult(o))}),l(1,"div",38),u(2),c(),l(3,"div",39)(4,"div",40),u(5),c(),l(6,"div",41),u(7),c()()()}if(t&2){let e=n.$implicit;p(2),w(e.type==="faq"?"\u2753":"\u{1F4C4}"),p(3),w(e.title),p(2),w(e.description)}}function EP(t,n){if(t&1&&(l(0,"div",35),b(1,yP,8,3,"div",36),c()),t&2){let e=m(2);p(),h("ngForOf",e.searchResults)}}function MP(t,n){if(t&1&&(l(0,"div",42)(1,"p"),u(2),c()()),t&2){let e=m(2);p(2),D('No se encontraron resultados para "',e.searchTerm,'"')}}function wP(t,n){if(t&1){let e=S();l(0,"div",27),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),l(1,"div",28),v("click",function(o){return C(e),x(o.stopPropagation())}),l(2,"div",29)(3,"h3"),u(4,"Buscar en la p\xE1gina"),c(),l(5,"button",30),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),u(6,"\xD7"),c()(),l(7,"div",31)(8,"input",32),L("ngModelChange",function(o){C(e);let r=m();return j(r.searchTerm,o)||(r.searchTerm=o),x(o)}),v("input",function(){C(e);let o=m();return x(o.performSearch())}),c()(),b(9,EP,2,1,"div",33)(10,MP,3,1,"div",34),c()()}if(t&2){let e=m();p(8),V("ngModel",e.searchTerm),p(),h("ngIf",e.searchResults.length>0),p(),h("ngIf",e.searchTerm&&e.searchResults.length===0)}}var q0=(()=>{class t{constructor(e,i,o){this.authService=e,this.router=i,this.cartService=o,this.cartItemCount=0,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}ngOnInit(){this.updateCartCount()}logout(){this.authService.logout(),this.router.navigate(["/login"])}goToCatalog(){this.router.navigate(["/catalog"])}goToCart(){this.router.navigate(["/cart"])}goToInfo(){this.router.navigate(["/info"])}goToWhatsApp(){let o=`https://wa.me/5491132550195?text=${encodeURIComponent("Hola! Necesito ayuda con mi pedido.")}`;window.open(o,"_blank")}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p").forEach(o=>{let r=o.textContent?.toLowerCase()||"";if(r.includes(e)&&r.length>0){let s="elemento";o.tagName==="H2"&&(s="faq"),this.searchResults.push({type:s,title:o.textContent?.trim()||"",description:s==="faq"?"Pregunta frecuente":"Elemento encontrado en la p\xE1gina",element:o})}})}scrollToResult(e){this.closeSearchModal(),e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}static{this.\u0275fac=function(i){return new(i||t)(M(ge),M(le),M(Ye))}}static{this.\u0275cmp=de({type:t,selectors:[["app-info-page"]],standalone:!0,features:[ue],decls:54,vars:2,consts:[[1,"info-container"],[1,"info-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info","active",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"info-content"],[1,"faq-container"],[1,"faq-item"],[1,"whatsapp-container"],["title","Contactar por WhatsApp",1,"whatsapp-btn",3,"click"],[1,"whatsapp-icon"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(i,o){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),v("click",function(){return o.goToCatalog()}),l(4,"div",4),H(5,"img",5),c(),l(6,"span"),u(7,"HRK"),c()(),l(8,"nav",6)(9,"a",7),v("click",function(){return o.goToCatalog()}),u(10,"SHOP"),c(),l(11,"a",8),v("click",function(){return o.goToCatalog()}),u(12,"SALE"),c(),l(13,"a",9),v("click",function(){return o.goToInfo()}),u(14,"info"),c()()(),l(15,"div",10)(16,"button",11),v("click",function(){return o.goToCart()}),u(17," \u{1F6D2} "),b(18,bP,2,1,"span",12),c(),l(19,"button",13),v("click",function(){return o.openSearchModal()}),u(20," \u{1F50D} "),c(),l(21,"button",14),v("click",function(){return o.goToHistory()}),u(22," \u{1F4CB} "),c(),l(23,"button",15),v("click",function(){return o.goToProfile()}),H(24,"img",16),l(25,"span",17),u(26,"\u{1F464}"),c()(),l(27,"button",18),v("click",function(){return o.logout()}),u(28," Cerrar Sesi\xF3n "),c()()(),l(29,"div",19)(30,"h1"),u(31,"Preguntas Frecuentes"),c(),l(32,"div",20)(33,"div",21)(34,"h2"),u(35,"\xBFC\xF3mo comprar?"),c(),l(36,"p"),u(37,"Para realizar un pedido, debe agregarse los elementos del cat\xE1logo en talle y color seleccionados. Una vez agregados deber\xE1 dirigirse al carrito para verificar y confirmar el pedido."),c(),l(38,"p"),u(39,"Una copia de su orden de compra ser\xE1 enviada por mail y la misma ser\xE1 compromiso de compra."),c()(),l(40,"div",21)(41,"h2"),u(42,"\xBFNecesitas ayuda?"),c(),l(43,"p"),u(44,"Comun\xEDcate al "),l(45,"strong"),u(46,"11-3255-0195"),c()(),l(47,"div",22)(48,"button",23),v("click",function(){return o.goToWhatsApp()}),l(49,"span",24),u(50,"\u{1F4F1}"),c(),l(51,"span"),u(52,"Contactar por WhatsApp"),c()()()()()(),b(53,wP,11,3,"div",25),c()),i&2&&(p(18),h("ngIf",o.cartItemCount>0),p(35),h("ngIf",o.showSearchModal))},dependencies:[_e,je,be,ye,Me,we,Ee],styles:[".info-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.info-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.nav-item.active[_ngcontent-%COMP%]{background:#fff3;padding:4px 8px;border-radius:4px}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;min-width:20px;border:2px solid black;box-shadow:0 2px 4px #0000004d}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.history-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;padding:8px;border-radius:4px;transition:background-color .3s}.history-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.icon-btn.user-icon[_ngcontent-%COMP%]{background:transparent!important;border:none!important;cursor:pointer;padding:0!important;border-radius:6px;transition:all .3s;display:flex;align-items:center;justify-content:center;width:47.5px;height:47.5px}.user-icon[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.05)}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.info-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:40px 20px;text-align:center}.info-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:40px;font-weight:600}.faq-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px;max-width:600px;margin:0 auto}.faq-item[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:30px;box-shadow:0 4px 12px #0000001a;border:1px solid #e1e5e9;transition:transform .3s,box-shadow .3s}.faq-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00000026}.faq-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:20px;font-weight:700;text-align:center}.faq-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;color:#666;margin-bottom:15px;text-align:left}.faq-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.whatsapp-container[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.whatsapp-btn[_ngcontent-%COMP%]{background:#25d366;color:#fff;border:none;padding:15px 25px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:10px;transition:all .3s;box-shadow:0 2px 8px #25d3664d}.whatsapp-btn[_ngcontent-%COMP%]:hover{background:#20b358;transform:translateY(-2px);box-shadow:0 4px 12px #25d36666}.whatsapp-icon[_ngcontent-%COMP%]{font-size:20px}@media (max-width: 1024px){.header-left[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%]{gap:10px}.nav-item[_ngcontent-%COMP%]{font-size:13px}.header-right[_ngcontent-%COMP%]{gap:8px}.icon-btn[_ngcontent-%COMP%]{font-size:16px;padding:6px}}@media (max-width: 768px){.info-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px;padding:15px}.header-left[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:10px}.header-right[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:8px}.main-nav[_ngcontent-%COMP%]{justify-content:center;gap:10px}.info-content[_ngcontent-%COMP%]{padding:20px 15px}.info-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:30px}.faq-item[_ngcontent-%COMP%]{padding:20px}.faq-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.faq-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.whatsapp-btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:.9rem}}@media (max-width: 480px){.info-header[_ngcontent-%COMP%]{margin:5px;padding:10px}.header-left[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:8px}.main-nav[_ngcontent-%COMP%]{gap:8px}.nav-item[_ngcontent-%COMP%]{font-size:12px;padding:4px 8px}.header-right[_ngcontent-%COMP%]{gap:5px}.icon-btn[_ngcontent-%COMP%]{font-size:14px;padding:4px}.logout-btn[_ngcontent-%COMP%]{font-size:11px;padding:6px 8px}.info-content[_ngcontent-%COMP%]{padding:15px 10px}.info-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}.faq-item[_ngcontent-%COMP%]{padding:15px}.faq-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem}.faq-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.whatsapp-btn[_ngcontent-%COMP%]{padding:10px 16px;font-size:.85rem}}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}"]})}}return t})();function DP(t,n){if(t&1){let e=S();l(0,"button",23),v("click",function(){C(e);let o=m();return x(o.editProfile())}),u(1," Editar Perfil "),c()}}function PP(t,n){if(t&1){let e=S();l(0,"button",24),v("click",function(){C(e);let o=m();return x(o.viewOrderHistory())}),u(1," Ver Historial de Pedidos "),c()}}function SP(t,n){if(t&1){let e=S();l(0,"button",25),v("click",function(){C(e);let o=m();return x(o.goToDashboards())}),l(1,"span",26),u(2,"Ver m\xE9tricas del negocio"),c(),l(3,"span",27),u(4,"\u{1F4CA}"),c()()}}function IP(t,n){if(t&1){let e=S();l(0,"button",28),v("click",function(){C(e);let o=m();return x(o.logout())}),u(1," Cerrar Sesi\xF3n "),c()}}function OP(t,n){if(t&1){let e=S();l(0,"div",29)(1,"label",30),u(2,"Ver productos ocultos en el cat\xE1logo:"),c(),l(3,"label",33)(4,"input",34),v("change",function(o){C(e);let r=m(2);return x(r.toggleVerProductosOcultos(o))}),c(),l(5,"span"),u(6,"Ver productos ocultos"),c()()()}if(t&2){let e=m(2);p(4),h("checked",e.verProductosOcultos)}}function TP(t,n){if(t&1){let e=S();ma(0),l(1,"div",29)(2,"span",30),u(3,"Usuario:"),c(),l(4,"span",31),u(5),c()(),l(6,"div",29)(7,"span",30),u(8,"Email:"),c(),l(9,"span",31),u(10),c()(),l(11,"div",29)(12,"span",30),u(13,"Miembro desde:"),c(),l(14,"span",31),u(15),c()(),l(16,"div",29)(17,"span",30),u(18,"Rol actual:"),c(),l(19,"span",31),u(20),c()(),l(21,"div",29)(22,"span",30),u(23,"CUIT:"),c(),l(24,"span",31),u(25),c()(),b(26,OP,7,1,"div",32),l(27,"div",29)(28,"button",24),v("click",function(){C(e);let o=m();return x(o.cambiarRol())}),u(29),c()(),va()}if(t&2){let e=m();p(5),w((e.user==null?null:e.user.nombreRazonSocial)||"N/A"),p(5),w((e.user==null?null:e.user.email)||"N/A"),p(5),w(e.memberSince),p(5),w((e.user==null?null:e.user.tipoUsuario)||"N/A"),p(5),w((e.user==null?null:e.user.cuit)||"N/A"),p(),h("ngIf",e.authService.isAdmin()),p(3),D(" Cambiar a ",(e.user==null?null:e.user.tipoUsuario)==="CLIENTE"?"ADMIN":"CLIENTE"," ")}}function kP(t,n){if(t&1&&(l(0,"div",48),u(1),c()),t&2){let e=m(2);p(),D(" ",e.error," ")}}function RP(t,n){t&1&&(l(0,"span"),u(1,"Guardar Cambios"),c())}function AP(t,n){t&1&&(l(0,"span"),u(1,"Guardando..."),c())}function NP(t,n){if(t&1){let e=S();ma(0),l(1,"div",35)(2,"div",36)(3,"label",37),u(4,"Nombre / Raz\xF3n Social:"),c(),l(5,"input",38),L("ngModelChange",function(o){C(e);let r=m();return j(r.editForm.nombreRazonSocial,o)||(r.editForm.nombreRazonSocial=o),x(o)}),c()(),l(6,"div",36)(7,"label",39),u(8,"CUIT:"),c(),l(9,"input",40),L("ngModelChange",function(o){C(e);let r=m();return j(r.editForm.cuit,o)||(r.editForm.cuit=o),x(o)}),c()(),l(10,"div",36)(11,"label",41),u(12,"Email:"),c(),H(13,"input",42),l(14,"small",43),u(15,"El email no se puede modificar"),c()(),b(16,kP,2,1,"div",44),l(17,"div",45)(18,"button",46),v("click",function(){C(e);let o=m();return x(o.guardarCambios())}),b(19,RP,2,0,"span",21)(20,AP,2,0,"span",21),c(),l(21,"button",47),v("click",function(){C(e);let o=m();return x(o.cancelarEdicion())}),u(22," Cancelar "),c()()(),va()}if(t&2){let e=m();p(5),V("ngModel",e.editForm.nombreRazonSocial),h("disabled",e.guardando),p(4),V("ngModel",e.editForm.cuit),h("disabled",e.guardando),p(4),h("value",(e.user==null?null:e.user.email)||""),p(3),h("ngIf",e.error),p(2),h("disabled",e.guardando),p(),h("ngIf",!e.guardando),p(),h("ngIf",e.guardando),p(),h("disabled",e.guardando)}}function FP(t,n){if(t&1&&(l(0,"div",48),u(1),c()),t&2){let e=m(2);p(),D(" ",e.errorCodigo," ")}}function VP(t,n){if(t&1){let e=S();l(0,"div",49),v("click",function(){C(e);let o=m();return x(o.cerrarModalCodigo())}),l(1,"div",50),v("click",function(o){return C(e),x(o.stopPropagation())}),l(2,"div",51)(3,"h3"),u(4,"C\xF3digo de Validaci\xF3n"),c(),l(5,"button",52),v("click",function(){C(e);let o=m();return x(o.cerrarModalCodigo())}),u(6,"\xD7"),c()(),l(7,"div",53)(8,"p"),u(9,"Para cambiar tu rol a "),l(10,"strong"),u(11,"ADMIN"),c(),u(12,", ingresa el c\xF3digo de validaci\xF3n:"),c(),l(13,"div",36)(14,"input",54),L("ngModelChange",function(o){C(e);let r=m();return j(r.codigoValidacion,o)||(r.codigoValidacion=o),x(o)}),v("keyup.enter",function(){C(e);let o=m();return x(o.validarYCambiarRol())}),c(),b(15,FP,2,1,"div",44),c()(),l(16,"div",55)(17,"button",23),v("click",function(){C(e);let o=m();return x(o.validarYCambiarRol())}),u(18," Validar "),c(),l(19,"button",28),v("click",function(){C(e);let o=m();return x(o.cerrarModalCodigo())}),u(20," Cancelar "),c()()()()}if(t&2){let e=m();p(14),V("ngModel",e.codigoValidacion),p(),h("ngIf",e.errorCodigo)}}var Y0=(()=>{class t{constructor(e,i){this.authService=e,this.router=i,this.user=null,this.memberSince="",this.editando=!1,this.editForm={nombreRazonSocial:"",cuit:""},this.guardando=!1,this.error="",this.verProductosOcultos=!1,this.mostrarModalCodigo=!1,this.codigoValidacion="",this.errorCodigo="",this.CODIGO_ADMIN="cascuino"}ngOnInit(){if(this.loadUserData(),this.authService.isAdmin()){let e=localStorage.getItem("verProductosOcultos");this.verProductosOcultos=e==="true"}}loadUserData(){let e=this.authService.getCurrentUser();e?(this.user=e,this.memberSince=this.getMemberSince()):this.router.navigate(["/login"])}getMemberSince(){if(this.user&&this.user.fechaCreacion){let o=new Date(this.user.fechaCreacion);return`${["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][o.getMonth()]} ${o.getFullYear()}`}let e=new Date;return`${["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][e.getMonth()]} ${e.getFullYear()}`}goBack(){this.router.navigate(["/catalog"])}editProfile(){this.user&&(this.editando=!0,this.editForm={nombreRazonSocial:this.user.nombreRazonSocial||"",cuit:this.user.cuit||""},this.error="")}cancelarEdicion(){this.editando=!1,this.editForm={nombreRazonSocial:"",cuit:""},this.error=""}guardarCambios(){if(!this.user)return;if(!this.editForm.nombreRazonSocial||this.editForm.nombreRazonSocial.trim().length===0){this.error="El nombre es requerido";return}if(!this.editForm.cuit||this.editForm.cuit.trim().length===0){this.error="El CUIT es requerido";return}this.guardando=!0,this.error="";let e={nombreRazonSocial:this.editForm.nombreRazonSocial.trim(),cuit:this.editForm.cuit.trim()};this.authService.actualizarPerfil(this.user.id,e).subscribe({next:i=>{this.user=i,this.editando=!1,this.guardando=!1,alert("Perfil actualizado exitosamente")},error:i=>{console.error("Error al actualizar perfil:",i),this.error=i.message||"Error al actualizar el perfil",this.guardando=!1}})}logout(){this.authService.logout(),this.router.navigate(["/login"])}viewOrderHistory(){this.router.navigate(["/orders-history"])}goToDashboards(){this.router.navigate(["/dashboards"])}toggleVerProductosOcultos(e){this.verProductosOcultos=e.target.checked,localStorage.setItem("verProductosOcultos",this.verProductosOcultos.toString()),console.log("\u{1F535} [PROFILE] Preferencia de ver productos ocultos actualizada:",this.verProductosOcultos)}cambiarRol(){if(!this.user)return;let e=this.user.tipoUsuario==="CLIENTE"?"ADMIN":"CLIENTE";e==="ADMIN"?(this.mostrarModalCodigo=!0,this.codigoValidacion="",this.errorCodigo=""):confirm(`\xBFEst\xE1s seguro que quieres cambiar tu rol a ${e}?`)&&this.ejecutarCambioRol(e)}cerrarModalCodigo(){this.mostrarModalCodigo=!1,this.codigoValidacion="",this.errorCodigo=""}validarYCambiarRol(){if(!this.codigoValidacion||this.codigoValidacion.trim().length===0){this.errorCodigo="Por favor ingresa el c\xF3digo de validaci\xF3n";return}if(this.codigoValidacion.trim().toLowerCase()!==this.CODIGO_ADMIN.toLowerCase()){this.errorCodigo="C\xF3digo incorrecto. Int\xE9ntalo de nuevo.";return}this.cerrarModalCodigo(),confirm("\xBFEst\xE1s seguro que quieres cambiar tu rol a ADMIN?")&&this.ejecutarCambioRol("ADMIN")}ejecutarCambioRol(e){this.user&&this.authService.cambiarRol(this.user.id,e).subscribe({next:i=>{this.user=i,alert(`Rol cambiado exitosamente a ${e}`)},error:i=>{console.error("Error al cambiar rol:",i),alert("Error al cambiar el rol. Int\xE9ntalo de nuevo.")}})}static{this.\u0275fac=function(i){return new(i||t)(M(ge),M(le))}}static{this.\u0275cmp=de({type:t,selectors:[["app-profile-page"]],standalone:!0,features:[ue],decls:29,vars:9,consts:[[1,"profile-container"],[1,"profile-header"],["title","Volver",1,"back-btn",3,"click"],[1,"page-title"],[1,"separator"],[1,"profile-content"],[1,"profile-card"],[1,"profile-info"],[1,"profile-icon"],[1,"user-avatar"],["src","/images/profile/default-user.png","alt","Usuario",1,"avatar-image"],[1,"user-details"],[1,"user-name"],[1,"user-email"],[1,"action-buttons"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","btn btn-dashboard",3,"click",4,"ngIf"],["class","btn btn-outline",3,"click",4,"ngIf"],[1,"info-card"],[1,"card-title"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-dashboard",3,"click"],[1,"btn-text"],[1,"icon-chart"],[1,"btn","btn-outline",3,"click"],[1,"info-row"],[1,"info-label"],[1,"info-value"],["class","info-row",4,"ngIf"],[1,"checkbox-label"],["type","checkbox",3,"change","checked"],[1,"edit-form"],[1,"form-group"],["for","nombreRazonSocial",1,"form-label"],["type","text","id","nombreRazonSocial","name","nombreRazonSocial","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","cuit",1,"form-label"],["type","text","id","cuit","name","cuit","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-label"],["type","email","disabled","",1,"form-control",3,"value"],[1,"form-text"],["class","error-message",4,"ngIf"],[1,"form-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-outline",3,"click","disabled"],[1,"error-message"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],["title","Cerrar",1,"modal-close",3,"click"],[1,"modal-body"],["type","text","placeholder","Ingresa el c\xF3digo","autofocus","",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"modal-footer"]],template:function(i,o){i&1&&(l(0,"div",0)(1,"div",1)(2,"button",2),v("click",function(){return o.goBack()}),u(3," \u2190 "),c(),l(4,"h1",3),u(5,"Mi Perfil"),c()(),H(6,"div",4),l(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),H(12,"img",10),c()(),l(13,"div",11)(14,"h2",12),u(15),c(),l(16,"p",13),u(17),c()()(),l(18,"div",14),b(19,DP,2,0,"button",15)(20,PP,2,0,"button",16)(21,SP,5,0,"button",17)(22,IP,2,0,"button",18),c()(),l(23,"div",19)(24,"h3",20),u(25,"Informaci\xF3n de la cuenta"),c(),b(26,TP,30,7,"ng-container",21)(27,NP,23,10,"ng-container",21),c()()(),b(28,VP,21,2,"div",22)),i&2&&(p(15),w((o.user==null?null:o.user.nombreRazonSocial)||"Usuario"),p(2),w((o.user==null?null:o.user.email)||"email@ejemplo.com"),p(2),h("ngIf",!o.editando),p(),h("ngIf",!o.editando),p(),h("ngIf",!o.editando&&o.authService.isAdmin()),p(),h("ngIf",!o.editando),p(4),h("ngIf",!o.editando),p(),h("ngIf",o.editando),p(),h("ngIf",o.mostrarModalCodigo))},dependencies:[_e,be,ye,Me,we,Kt,Ee],styles:['@charset "UTF-8";.profile-container[_ngcontent-%COMP%]{min-height:100vh;background:#f5f5f5;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.profile-header[_ngcontent-%COMP%]{background:#fff;padding:20px;display:flex;align-items:center;gap:15px;box-shadow:0 2px 4px #0000001a}.back-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#333;cursor:pointer;padding:8px;border-radius:4px;transition:background-color .3s}.back-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.page-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#333;margin:0}.separator[_ngcontent-%COMP%]{height:1px;background:#e0e0e0;margin:0}.profile-content[_ngcontent-%COMP%]{padding:20px 15px;max-width:500px;margin:0 auto;display:flex;flex-direction:column;gap:15px}.profile-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000001a;display:flex;flex-direction:column;gap:20px}.profile-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.profile-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.user-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;overflow:hidden;border:2px solid #e3f2fd}.avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.user-details[_ngcontent-%COMP%]{flex:1}.user-name[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#333;margin:0 0 6px}.user-email[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;border:none;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s;text-align:center;display:flex;align-items:center;justify-content:center;min-height:40px;box-sizing:border-box}.btn-primary[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1565c0;transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#45a049;transform:translateY(-1px)}.btn-dashboard[_ngcontent-%COMP%]{background:#8b5cf6;color:#fff;justify-content:space-between;width:100%;position:relative}.btn-dashboard[_ngcontent-%COMP%]:hover{background:#7c3aed;transform:translateY(-1px)}.btn-dashboard[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{flex:1;text-align:center}.btn-dashboard[_ngcontent-%COMP%]   .icon-chart[_ngcontent-%COMP%]{font-size:18px;position:absolute;right:20px}.btn-outline[_ngcontent-%COMP%]{background:#fff;color:#333;border:1px solid #ddd}.btn-outline[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-color:#bbb}.info-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000001a}.card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#333;margin:0 0 15px}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #f0f0f0}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-label[_ngcontent-%COMP%]{font-size:14px;color:#333;font-weight:500}.info-value[_ngcontent-%COMP%]{font-size:14px;color:#333;text-align:right}@media (max-width: 768px){.profile-content[_ngcontent-%COMP%]{padding:15px 10px;max-width:100%}.profile-card[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]{padding:15px}.profile-info[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:12px}.user-avatar[_ngcontent-%COMP%]{width:50px;height:50px}.user-name[_ngcontent-%COMP%]{font-size:18px}.user-email[_ngcontent-%COMP%]{font-size:13px}.info-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}.info-value[_ngcontent-%COMP%]{text-align:left}}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.form-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.form-control[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:6px;font-size:14px;font-family:inherit;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2}.form-control[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;color:#666;cursor:not-allowed}.form-text[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-top:4px}.error-message[_ngcontent-%COMP%]{padding:10px;background-color:#f8d7da;color:#721c24;border-radius:6px;border:1px solid #f5c6cb;font-size:14px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:14px}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:450px;box-shadow:0 4px 20px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease;max-height:90vh;overflow-y:auto}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:700;color:#333}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;color:#666;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .3s}.modal-close[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 15px;color:#666;font-size:14px;line-height:1.5}.modal-body[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;font-weight:600}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:10px;padding:20px;border-top:1px solid #e0e0e0;justify-content:flex-end}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px}']})}}return t})();function LP(t,n){if(t&1&&(l(0,"span",31),u(1),c()),t&2){let e=m();p(),w(e.cartItemCount)}}function jP(t,n){if(t&1&&(l(0,"option",39),u(1),c()),t&2){let e=n.$implicit;h("value",e.id),p(),Pe(" ",e.nombreRazonSocial," (",e.email,") ")}}function UP(t,n){t&1&&(l(0,"div",40),u(1," Cargando usuarios... "),c())}function zP(t,n){if(t&1&&(l(0,"div",41)(1,"strong"),u(2,"Mostrando pedidos de:"),c(),u(3),c()),t&2){let e=m(2);p(3),D(" ",e.selectedUser.nombreRazonSocial," ")}}function $P(t,n){if(t&1){let e=S();l(0,"div",32)(1,"label",33),u(2,"Cliente:"),c(),l(3,"select",34),L("ngModelChange",function(o){C(e);let r=m();return j(r.selectedUserId,o)||(r.selectedUserId=o),x(o)}),v("change",function(){C(e);let o=m();return x(o.onUserChange())}),l(4,"option",35),u(5,"Todos los clientes"),c(),b(6,jP,2,3,"option",36),c(),b(7,UP,2,0,"div",37)(8,zP,4,1,"div",38),c()}if(t&2){let e=m();p(3),V("ngModel",e.selectedUserId),h("disabled",e.loadingUsers),p(3),h("ngForOf",e.usuarios),p(),h("ngIf",e.loadingUsers),p(),h("ngIf",e.selectedUser)}}function BP(t,n){t&1&&(l(0,"div",42)(1,"p"),u(2,"Cargando historial de pedidos..."),c()())}function HP(t,n){if(t&1){let e=S();l(0,"div",43)(1,"p"),u(2),c(),l(3,"button",44),v("click",function(){C(e);let o=m();return x(o.loadPedidos())}),u(4,"Reintentar"),c()()}if(t&2){let e=m();p(2),w(e.error)}}function GP(t,n){if(t&1){let e=S();l(0,"div",47)(1,"h3"),u(2,"A\xFAn no hay pedidos realizados por el cliente"),c(),l(3,"p"),u(4,"Cuando realices tu primer pedido, aparecer\xE1 aqu\xED."),c(),l(5,"button",48),v("click",function(){C(e);let o=m(2);return x(o.goToCatalog())}),u(6,"Ir al Cat\xE1logo"),c()()}}function WP(t,n){if(t&1&&(l(0,"span"),u(1),c()),t&2){let e=m().$implicit;p(),D(" - ",(e.usuario==null?null:e.usuario.nombreRazonSocial)||"Cliente","")}}function qP(t,n){if(t&1){let e=S();l(0,"div",54)(1,"div",55)(2,"strong"),u(3),c(),b(4,WP,2,1,"span",28),c(),l(5,"div",55),u(6),c(),l(7,"div",55),u(8),c(),l(9,"div",55)(10,"span"),u(11),c()(),l(12,"div",55)(13,"span")(14,"span",56),u(15),c(),u(16),c()(),l(17,"div",55)(18,"button",57),v("click",function(){let o=C(e).$implicit,r=m(3);return x(r.verDetallePedido(o.id))}),u(19," \u{1F4CB} Ver "),c()()()}if(t&2){let e=n.$implicit,i=m(3);xi(i.getRowClass(e.tipo)),Be("data-pedido-id",e.id),p(3),D("#",e.id,""),p(),h("ngIf",!i.selectedUserId),p(2),w(i.formatearFecha(e.fecha)),p(2),w(i.formatearMonto(e.montoTotal)),p(2),xi(i.getEstadoClass(e.estado)),p(),w(e.estado),p(2),xi(i.getTipoClass(e.tipo)),p(2),w(i.getTipoIcon(e.tipo)),p(),D(" ",e.tipo," ")}}function YP(t,n){if(t&1&&(l(0,"div",49)(1,"div",50)(2,"div",51),u(3,"ID"),c(),l(4,"div",51),u(5,"FECHA"),c(),l(6,"div",51),u(7,"MONTO"),c(),l(8,"div",51),u(9,"ESTADO"),c(),l(10,"div",51),u(11,"TIPO"),c(),l(12,"div",51),u(13,"ACCI\xD3N"),c()(),l(14,"div",52),b(15,qP,20,14,"div",53),c()()),t&2){let e=m(2);p(15),h("ngForOf",e.pedidosFiltrados)}}function ZP(t,n){if(t&1&&(l(0,"div"),b(1,GP,7,0,"div",45)(2,YP,16,1,"div",46),c()),t&2){let e=m();p(),h("ngIf",e.pedidosFiltrados.length===0),p(),h("ngIf",e.pedidosFiltrados.length>0)}}function KP(t,n){t&1&&(l(0,"div",61),u(1," Selecciona un cliente espec\xEDfico para generar la nota de devoluci\xF3n "),c())}function QP(t,n){if(t&1){let e=S();l(0,"div",58)(1,"button",59),v("click",function(){C(e);let o=m();return x(o.generarNotaDevolucion())}),u(2," Generar nota de devoluci\xF3n "),c(),b(3,KP,2,0,"div",60),c()}if(t&2){let e=m();p(),B("disabled",!e.selectedUserId),h("disabled",!e.selectedUserId),p(2),h("ngIf",!e.selectedUserId)}}function JP(t,n){if(t&1){let e=S();l(0,"div",72),v("click",function(){let o=C(e).$implicit,r=m(3);return x(r.scrollToResult(o))}),l(1,"div",73),u(2),c(),l(3,"div",74)(4,"div",75),u(5),c(),l(6,"div",76),u(7),c()()()}if(t&2){let e=n.$implicit;p(2),w(e.type==="pedido"?"\u{1F4CB}":"\u{1F4C4}"),p(3),w(e.title),p(2),w(e.description)}}function XP(t,n){if(t&1&&(l(0,"div",70),b(1,JP,8,3,"div",71),c()),t&2){let e=m(2);p(),h("ngForOf",e.searchResults)}}function eS(t,n){if(t&1&&(l(0,"div",77)(1,"p"),u(2),c()()),t&2){let e=m(2);p(2),D('No se encontraron resultados para "',e.searchTerm,'"')}}function tS(t,n){if(t&1){let e=S();l(0,"div",62),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),l(1,"div",63),v("click",function(o){return C(e),x(o.stopPropagation())}),l(2,"div",64)(3,"h3"),u(4,"Buscar en la p\xE1gina"),c(),l(5,"button",65),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),u(6,"\xD7"),c()(),l(7,"div",66)(8,"input",67),L("ngModelChange",function(o){C(e);let r=m();return j(r.searchTerm,o)||(r.searchTerm=o),x(o)}),v("input",function(){C(e);let o=m();return x(o.performSearch())}),c()(),b(9,XP,2,1,"div",68)(10,eS,3,1,"div",69),c()()}if(t&2){let e=m();p(8),V("ngModel",e.searchTerm),p(),h("ngIf",e.searchResults.length>0),p(),h("ngIf",e.searchTerm&&e.searchResults.length===0)}}var Z0=(()=>{class t{constructor(e,i,o,r,s,a){this.ordersService=e,this.authService=i,this.router=o,this.route=r,this.cartService=s,this.http=a,this.pedidos=[],this.pedidosFiltrados=[],this.filtroFecha="",this.cartItemCount=0,this.loading=!1,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[],this.isAdmin=!1,this.usuarios=[],this.selectedUserId=null,this.selectedUser=null,this.loadingUsers=!1,this.API_URL=Nt}ngOnInit(){this.isAdmin=this.authService.isAdmin(),console.log("\u{1F535} [ORDERS HISTORY] Es admin?",this.isAdmin);let e=this.authService.getCurrentUser();if(console.log("\u{1F535} [ORDERS HISTORY] Usuario actual:",e),!e?.id){this.error="No se pudo identificar al usuario",console.error("\u{1F534} [ORDERS HISTORY] Error: No se pudo obtener usuario ID");return}this.isAdmin?(this.loadUsuarios(),this.clienteId=e.id,this.selectedUserId=e.id,this.selectedUser=e,console.log("\u{1F535} [ORDERS HISTORY] Admin - Cliente ID por defecto:",this.clienteId),this.loadPedidos()):(this.clienteId=e.id,console.log("\u{1F535} [ORDERS HISTORY] Cliente ID obtenido:",this.clienteId),this.loadPedidos()),this.updateCartCount(),this.route.queryParams.subscribe(i=>{(i.payment_status||i.status)&&this.procesarRetornoMercadoPago(i)})}procesarRetornoMercadoPago(e){let i=e.payment_status||e.status,o=e.payment_id||e.collection_id,r=e.external_reference||e.preference_id;if(!r){console.warn("\u{1F7E1} [ORDERS HISTORY] Retorno de MercadoPago sin preference_id ni external_reference");return}console.log("\u{1F535} [ORDERS HISTORY] Procesando retorno de MercadoPago:",{paymentStatus:i,preferenceId:r,external_reference:e.external_reference,preference_id_mp:e.preference_id});let s=this.authService.getToken(),a=new ct({Authorization:`Bearer ${s}`,"Content-Type":"application/json"}),d=`${this.API_URL}/mercadopago/procesar-retorno?preference_id=${r}`;i&&(d+=`&payment_status=${i}`),e.status&&(d+=`&status=${e.status}`),o&&(d+=`&payment_id=${o}`),e.collection_id&&!o&&(d+=`&collection_id=${e.collection_id}`),this.http.get(d,{headers:a}).subscribe({next:f=>{console.log("\u{1F535} [ORDERS HISTORY] Respuesta del backend:",f);let g="";f.message?g=f.message:f.success&&(i==="success"||i==="approved")?g="\u2705 Pago procesado exitosamente. Tu pedido ha sido confirmado.":i==="failure"||i==="rejected"?g="\u274C El pago fue rechazado. Tu pedido ha sido cancelado. Por favor, intenta realizar el pedido nuevamente.":i==="pending"&&(g="\u23F3 Tu pago est\xE1 pendiente. El pedido se confirmar\xE1 autom\xE1ticamente cuando el pago sea procesado."),g&&alert(g),setTimeout(()=>{this.loadPedidos()},1e3)},error:f=>{console.error("\u{1F534} [ORDERS HISTORY] Error al procesar retorno de MercadoPago:",f);let g="\u26A0\uFE0F Se proces\xF3 el retorno de MercadoPago, pero hubo un error al actualizar el pedido. Por favor, verifica el estado del pedido.";(i==="success"||i==="approved")&&(g="\u2705 Pago aprobado. Verificando estado del pedido..."),alert(g),setTimeout(()=>{this.loadPedidos()},1e3)},complete:()=>{this.router.navigate(["/orders-history"],{replaceUrl:!0})}})}loadPedidos(){if(!this.clienteId){this.error="No se pudo identificar al cliente";return}this.loading=!0,this.error=void 0,this.ordersService.getHistorialPorCliente(this.clienteId).subscribe({next:e=>{this.pedidos=e,this.aplicarFiltro(),this.loading=!1,console.log("\u{1F535} [ORDERS HISTORY] Pedidos cargados:",e.length)},error:e=>{console.error("Error al cargar pedidos:",e),this.error="Error al cargar el historial de pedidos",this.loading=!1,this.pedidos=[],this.pedidosFiltrados=[]}})}loadTodosLosPedidos(){this.loading=!0,this.error=void 0,this.ordersService.getTodosLosPedidos().subscribe({next:e=>{this.pedidos=e,this.aplicarFiltro(),this.loading=!1,console.log("\u{1F535} [ORDERS HISTORY] Todos los pedidos cargados:",e.length)},error:e=>{console.error("Error al cargar todos los pedidos:",e),this.error="Error al cargar todos los pedidos",this.loading=!1,this.pedidos=[],this.pedidosFiltrados=[]}})}generarNotaDevolucion(){if(!this.selectedUserId){alert("Por favor selecciona un cliente espec\xEDfico para generar la nota de devoluci\xF3n");return}console.log("\u{1F535} [ORDERS HISTORY] Generando nota de devoluci\xF3n para cliente:",this.selectedUserId),this.router.navigate(["/devolucion"],{queryParams:{clienteId:this.selectedUserId}})}aplicarFiltro(){console.log("\u{1F50D} [FILTRO] Aplicando filtro con fecha:",this.filtroFecha),this.pedidosFiltrados=this.pedidos.filter(e=>{if(!this.filtroFecha)return!0;let i=new Date(e.fecha),o=new Date(this.filtroFecha),r=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s=new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),a=r>=s;return console.log(`\u{1F50D} [FILTRO] Pedido ${e.id}: fecha=${r.toISOString().split("T")[0]}, filtro=${s.toISOString().split("T")[0]}, cumple=${a}`),a}),console.log(`\u{1F50D} [FILTRO] Resultado: ${this.pedidosFiltrados.length} pedidos de ${this.pedidos.length} total`)}onFechaChange(){this.aplicarFiltro()}getEstadoClass(e){switch(e){case $.PENDIENTE:return"estado-pendiente";case $.CONFIRMADO:return"estado-confirmado";case $.ENTREGADO:return"estado-entregado";case $.CANCELADO:return"estado-cancelado";default:return""}}getTipoClass(e){switch(e){case Re.PEDIDO:return"tipo-pedido";case Re.DEVOLUCION:return"tipo-devolucion";default:return"tipo-pedido"}}getRowClass(e){switch(e){case Re.PEDIDO:return"row-pedido";case Re.DEVOLUCION:return"row-devolucion";default:return"row-pedido"}}getTipoIcon(e){switch(e){case Re.PEDIDO:return"\u{1F4E6}";case Re.DEVOLUCION:return"\u21A9\uFE0F";default:return"\u{1F4E6}"}}formatearFecha(e){return e?(e instanceof Date?e:new Date(e)).toLocaleDateString("es-ES"):""}formatearMonto(e){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"ARS",minimumFractionDigits:0}).format(e)}logout(){this.authService.logout(),this.router.navigate(["/login"])}goToCart(){this.router.navigate(["/cart"])}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}verDetallePedido(e){console.log("\u{1F535} [ORDERS HISTORY] Navegando a detalle del pedido:",e),this.router.navigate(["/order-detail",e])}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],this.pedidosFiltrados.forEach(o=>{(o.id.toString().includes(e)||o.estado.toLowerCase().includes(e)||o.tipo.toLowerCase().includes(e)||o.montoTotal.toString().includes(e))&&this.searchResults.push({type:"pedido",title:`Pedido #${o.id}`,description:`${o.estado} - ${o.tipo} - Total: $${o.montoTotal}`,data:o})}),document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p").forEach(o=>{let r=o.textContent?.toLowerCase()||"";r.includes(e)&&r.length>0&&this.searchResults.push({type:"elemento",title:o.textContent?.trim()||"",description:"Elemento encontrado en la p\xE1gina",element:o})})}scrollToResult(e){if(this.closeSearchModal(),e.type==="pedido"){let i=document.querySelector(`[data-pedido-id="${e.data.id}"]`);i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),i.classList.add("search-highlight"),setTimeout(()=>{i.classList.remove("search-highlight")},2e3))}else e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}loadUsuarios(){this.loadingUsers=!0,console.log("\u{1F535} [ORDERS HISTORY] Cargando usuarios desde la base de datos"),this.authService.getUsuarios().subscribe({next:e=>{this.usuarios=e.filter(i=>i.tipoUsuario==="CLIENTE"||i.tipoUsuario==="ADMIN"),this.loadingUsers=!1,console.log("\u{1F535} [ORDERS HISTORY] Usuarios cargados desde BD:",this.usuarios)},error:e=>{console.error("\u{1F534} [ORDERS HISTORY] Error al cargar usuarios:",e),this.loadingUsers=!1,alert("Error al cargar la lista de usuarios. Por favor, int\xE9ntalo de nuevo.")}})}onUserChange(){this.selectedUserId?(this.selectedUser=this.usuarios.find(e=>e.id===this.selectedUserId)||null,this.clienteId=this.selectedUserId,console.log("\u{1F535} [ORDERS HISTORY] Usuario seleccionado:",this.selectedUser),console.log("\u{1F535} [ORDERS HISTORY] Cliente ID actualizado:",this.clienteId),this.loadPedidos()):(this.selectedUser=null,this.clienteId=void 0,console.log("\u{1F535} [ORDERS HISTORY] Cargando todos los pedidos"),this.loadTodosLosPedidos())}static{this.\u0275fac=function(i){return new(i||t)(M(fn),M(ge),M(le),M(dt),M(Ye),M(lt))}}static{this.\u0275cmp=de({type:t,selectors:[["app-orders-history-page"]],standalone:!0,features:[ue],decls:43,vars:8,consts:[[1,"orders-page-container"],[1,"home-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn","active",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"orders-container"],[1,"page-title"],[1,"filter-section"],["class","user-filter",4,"ngIf"],[1,"date-filter"],["for","fecha",1,"filter-label"],["type","date","id","fecha","placeholder","Selecciona fecha desde",1,"date-input",3,"ngModelChange","change","ngModel"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[4,"ngIf"],["class","actions-section",4,"ngIf"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"user-filter"],["for","usuario",1,"filter-label"],["id","usuario",1,"user-select",3,"ngModelChange","change","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","loading-indicator",4,"ngIf"],["class","selected-user-info",4,"ngIf"],[3,"value"],[1,"loading-indicator"],[1,"selected-user-info"],[1,"loading-state"],[1,"error-state"],[1,"retry-btn",3,"click"],["class","empty-state",4,"ngIf"],["class","orders-table",4,"ngIf"],[1,"empty-state"],[1,"catalog-btn",3,"click"],[1,"orders-table"],[1,"table-header"],[1,"header-cell"],[1,"table-body"],["class","table-row",3,"class",4,"ngFor","ngForOf"],[1,"table-row"],[1,"table-cell"],[1,"tipo-icon"],["title","Ver Detalle",1,"view-btn",3,"click"],[1,"actions-section"],[1,"devolucion-btn",3,"click","disabled"],["class","devolucion-hint",4,"ngIf"],[1,"devolucion-hint"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(i,o){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),v("click",function(){return o.goToCatalog()}),l(4,"div",4),H(5,"img",5),c(),l(6,"span"),u(7,"HRK"),c()(),l(8,"nav",6)(9,"a",7),v("click",function(){return o.goToCatalog()}),u(10,"SHOP"),c(),l(11,"a",8),v("click",function(){return o.goToCatalog()}),u(12,"SALE"),c(),l(13,"a",9),v("click",function(){return o.goToInfo()}),u(14,"info"),c()()(),l(15,"div",10)(16,"button",11),v("click",function(){return o.goToCart()}),u(17," \u{1F6D2} "),b(18,LP,2,1,"span",12),c(),l(19,"button",13),v("click",function(){return o.openSearchModal()}),u(20," \u{1F50D} "),c(),l(21,"button",14),v("click",function(){return o.goToHistory()}),u(22," \u{1F4CB} "),c(),l(23,"button",15),v("click",function(){return o.goToProfile()}),H(24,"img",16),l(25,"span",17),u(26,"\u{1F464}"),c()(),l(27,"button",18),v("click",function(){return o.logout()}),u(28," Cerrar Sesi\xF3n "),c()()(),l(29,"div",19)(30,"h1",20),u(31,"HISTORIAL DE PEDIDOS"),c(),l(32,"div",21),b(33,$P,9,5,"div",22),l(34,"div",23)(35,"label",24),u(36,"Fecha desde:"),c(),l(37,"input",25),L("ngModelChange",function(s){return j(o.filtroFecha,s)||(o.filtroFecha=s),s}),v("change",function(){return o.onFechaChange()}),c()()(),b(38,BP,3,0,"div",26)(39,HP,5,1,"div",27)(40,ZP,3,2,"div",28)(41,QP,4,4,"div",29),c(),b(42,tS,11,3,"div",30),c()),i&2&&(p(18),h("ngIf",o.cartItemCount>0),p(15),h("ngIf",o.isAdmin),p(4),V("ngModel",o.filtroFecha),p(),h("ngIf",o.loading),p(),h("ngIf",o.error&&!o.loading),p(),h("ngIf",!o.loading&&!o.error),p(),h("ngIf",o.isAdmin),p(),h("ngIf",o.showSearchModal))},dependencies:[_e,je,be,ye,un,pn,Me,Ft,we,Ee],styles:[".orders-page-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.home-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease;transform:rotate(0)}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(0)}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.icon-btn.active[_ngcontent-%COMP%]{background-color:#fff3}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;min-width:20px;border:2px solid black;box-shadow:0 2px 4px #0000004d}.user-icon[_ngcontent-%COMP%]{background:none!important;border:none!important;padding:0!important}.icon-btn.user-icon[_ngcontent-%COMP%]{width:47.5px;height:47.5px;background:transparent!important;border:none!important;cursor:pointer;padding:0!important;border-radius:6px;transition:all .3s;display:flex;align-items:center;justify-content:center}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center;border-radius:50%}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.orders-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:20px;background:#fff;min-height:calc(100vh - 120px)}.page-title[_ngcontent-%COMP%]{text-align:center;font-size:28px;font-weight:700;color:#333;margin-bottom:40px;font-family:serif}.filter-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:30px;padding:20px;background:#f8f9fa;border-radius:8px;flex-wrap:wrap}.filter-label[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:16px}.date-input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #e9ecef;border-radius:6px;font-size:14px;background:#fff;color:#333}.date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea33}.user-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:300px}.date-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:200px;margin-left:auto}.user-select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #e9ecef;border-radius:6px;font-size:14px;background:#fff;min-width:200px;transition:all .3s ease}.user-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea33}.user-select[_ngcontent-%COMP%]:disabled{background:#e9ecef;color:#6c757d;cursor:not-allowed}.loading-indicator[_ngcontent-%COMP%]{color:#6c757d;font-style:italic;font-size:11px;white-space:nowrap;margin-top:5px}.selected-user-info[_ngcontent-%COMP%]{background:#d4edda;border:1px solid #c3e6cb;border-radius:4px;padding:4px 8px;color:#155724;font-size:11px;white-space:nowrap;margin-top:5px}.orders-table[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a;margin-bottom:30px}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 1fr 1fr 1fr 1fr 120px;background:#333;color:#fff;font-weight:700;text-align:center}.header-cell[_ngcontent-%COMP%]{padding:15px;font-size:14px;text-transform:uppercase;letter-spacing:.5px}.table-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 1fr 1fr 1fr 1fr 120px;border-bottom:1px solid #e9ecef;transition:all .2s}.table-row[_ngcontent-%COMP%]:hover{transform:translate(2px);box-shadow:-2px 0 0 0 currentColor}.table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.table-row.row-pedido[_ngcontent-%COMP%]{background:linear-gradient(to right,#007bff0a,#fff0 3px);border-left:3px solid #007bff}.table-row.row-pedido[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#007bff14,#fff0 3px);box-shadow:-3px 0 #007bff}.table-row.row-devolucion[_ngcontent-%COMP%]{background:linear-gradient(to right,#6f42c10a,#fff0 3px);border-left:3px solid #8e44ad}.table-row.row-devolucion[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#6f42c114,#fff0 3px);box-shadow:-3px 0 #8e44ad}.table-cell[_ngcontent-%COMP%]{padding:15px;display:flex;align-items:center;justify-content:center;text-align:center;font-size:14px;color:#333}.estado-pendiente[_ngcontent-%COMP%]{color:#ffc107;font-weight:500;background:#ffc1071a;padding:4px 8px;border-radius:12px;border:1px solid rgba(255,193,7,.3)}.estado-confirmado[_ngcontent-%COMP%]{color:#17a2b8;font-weight:500;background:#17a2b81a;padding:4px 8px;border-radius:12px;border:1px solid rgba(23,162,184,.3)}.estado-entregado[_ngcontent-%COMP%]{color:#28a745;font-weight:500;background:#28a7451a;padding:4px 8px;border-radius:12px;border:1px solid rgba(40,167,69,.3)}.estado-cancelado[_ngcontent-%COMP%]{color:#dc3545;font-weight:500;background:#dc35451a;padding:4px 8px;border-radius:12px;border:1px solid rgba(220,53,69,.3)}.tipo-pedido[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;border:none;padding:5px 12px;border-radius:16px;font-size:12px;font-weight:500;cursor:default;display:inline-flex;align-items:center;gap:5px;box-shadow:0 1px 3px #007bff40}.tipo-pedido[_ngcontent-%COMP%]   .tipo-icon[_ngcontent-%COMP%]{font-size:14px}.tipo-devolucion[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8e44ad,#6f42c1);color:#fff;border:none;padding:5px 12px;border-radius:16px;font-size:12px;font-weight:500;cursor:default;display:inline-flex;align-items:center;gap:5px;box-shadow:0 1px 3px #8e44ad4d}.tipo-devolucion[_ngcontent-%COMP%]   .tipo-icon[_ngcontent-%COMP%]{font-size:14px}.view-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:8px 12px;border-radius:4px;font-size:12px;font-weight:500;cursor:pointer;transition:all .2s}.view-btn[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px)}.view-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.actions-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px}.devolucion-btn[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:12px 24px;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s}.devolucion-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#3958e4;transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.devolucion-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.devolucion-btn[_ngcontent-%COMP%]:disabled, .devolucion-btn.disabled[_ngcontent-%COMP%]{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none;opacity:.6}.devolucion-hint[_ngcontent-%COMP%]{margin-top:8px;font-size:14px;color:#6c757d;font-style:italic;text-align:center}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;padding:0 15px}.main-nav[_ngcontent-%COMP%]{gap:20px}.nav-item[_ngcontent-%COMP%]{font-size:14px;padding:6px 12px}.header-right[_ngcontent-%COMP%]{gap:10px}.orders-container[_ngcontent-%COMP%]{padding:20px 15px}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:30px}.filter-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;grid-template-rows:auto auto}.header-cell[_ngcontent-%COMP%]:nth-child(3), .header-cell[_ngcontent-%COMP%]:nth-child(4), .table-cell[_ngcontent-%COMP%]:nth-child(3), .table-cell[_ngcontent-%COMP%]:nth-child(4){grid-column:1/-1}.table-cell[_ngcontent-%COMP%]:nth-child(3), .table-cell[_ngcontent-%COMP%]:nth-child(4){border-top:1px solid #e9ecef}.actions-section[_ngcontent-%COMP%]{justify-content:center}.devolucion-btn[_ngcontent-%COMP%]{width:100%;max-width:300px}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{padding:0 10px}.orders-container[_ngcontent-%COMP%]{padding:15px 10px}.page-title[_ngcontent-%COMP%]{font-size:20px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.header-cell[_ngcontent-%COMP%], .table-cell[_ngcontent-%COMP%]{padding:10px}.header-cell[_ngcontent-%COMP%]:nth-child(n+2), .table-cell[_ngcontent-%COMP%]:nth-child(n+2){border-top:1px solid #e9ecef}}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:20px 0}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:16px}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#dc3545;font-size:16px;margin-bottom:20px}.retry-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s}.retry-btn[_ngcontent-%COMP%]:hover{background:#c82333}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:15px;font-size:20px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:30px;font-size:16px}.catalog-btn[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-weight:600;font-size:16px;transition:all .3s}.catalog-btn[_ngcontent-%COMP%]:hover{background:#5a6fd8;transform:translateY(-2px)}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}"]})}}return t})();function nS(t,n){if(t&1&&(l(0,"span",26),u(1),c()),t&2){let e=m();p(),w(e.cartItemCount)}}function iS(t,n){t&1&&(l(0,"div",27)(1,"p"),u(2,"Cargando detalles del pedido..."),c()())}function oS(t,n){if(t&1){let e=S();l(0,"div",28)(1,"p"),u(2),c(),l(3,"button",29),v("click",function(){C(e);let o=m();return x(o.loadPedido())}),u(4,"Reintentar"),c()()}if(t&2){let e=m();p(2),w(e.error)}}function rS(t,n){if(t&1&&(l(0,"div",35)(1,"label"),u(2,"Tipo de Aprobaci\xF3n:"),c(),l(3,"span"),u(4),c()()),t&2){let e=m(2);p(3),xi(e.getTipoAprobacionClass(e.pedido.tipoAprobacionDevolucion)),p(),D(" ",e.pedido.tipoAprobacionDevolucion==="APTA"?"\u2705 APTA (Stock Devuelto)":"\u26A0\uFE0F SCRAP (Merma Registrada)"," ")}}function sS(t,n){t&1&&(l(0,"span"),u(1,"\u{1F4CB} Confirmar Pedido"),c())}function aS(t,n){t&1&&(l(0,"span"),u(1,"\u23F3 Procesando..."),c())}function cS(t,n){t&1&&(l(0,"span"),u(1,"\u274C Marcar como Cancelado"),c())}function lS(t,n){t&1&&(l(0,"span"),u(1,"\u23F3 Procesando..."),c())}function dS(t,n){if(t&1){let e=S();l(0,"div",48)(1,"button",49),v("click",function(){C(e);let o=m(3);return x(o.confirmarPedido())}),b(2,sS,2,0,"span",50)(3,aS,2,0,"span",50),c(),l(4,"button",51),v("click",function(){C(e);let o=m(3);return x(o.marcarComoCancelado())}),b(5,cS,2,0,"span",50)(6,lS,2,0,"span",50),c()()}if(t&2){let e=m(3);p(),h("disabled",e.cambiandoEstado),p(),h("ngIf",!e.cambiandoEstado),p(),h("ngIf",e.cambiandoEstado),p(),h("disabled",e.cambiandoEstado||e.isCancelado()||e.isEntregado()),p(),h("ngIf",!e.cambiandoEstado),p(),h("ngIf",e.cambiandoEstado)}}function uS(t,n){t&1&&(l(0,"span"),u(1,"\u2705 Marcar como Entregado"),c())}function pS(t,n){t&1&&(l(0,"span"),u(1,"\u23F3 Procesando..."),c())}function fS(t,n){t&1&&(l(0,"span"),u(1,"\u274C Marcar como Cancelado"),c())}function hS(t,n){t&1&&(l(0,"span"),u(1,"\u23F3 Procesando..."),c())}function gS(t,n){if(t&1){let e=S();l(0,"div",52)(1,"button",53),v("click",function(){C(e);let o=m(3);return x(o.marcarComoEntregado())}),b(2,uS,2,0,"span",50)(3,pS,2,0,"span",50),c(),l(4,"button",51),v("click",function(){C(e);let o=m(3);return x(o.marcarComoCancelado())}),b(5,fS,2,0,"span",50)(6,hS,2,0,"span",50),c()()}if(t&2){let e=m(3);p(),h("disabled",e.cambiandoEstado||e.isEntregado()),p(),h("ngIf",!e.cambiandoEstado),p(),h("ngIf",e.cambiandoEstado),p(),h("disabled",e.cambiandoEstado||e.isCancelado()||e.isEntregado()),p(),h("ngIf",!e.cambiandoEstado),p(),h("ngIf",e.cambiandoEstado)}}function mS(t,n){t&1&&(l(0,"span"),u(1,"\u2705 Marcar como Entregado"),c())}function vS(t,n){t&1&&(l(0,"span"),u(1,"\u23F3 Procesando..."),c())}function _S(t,n){t&1&&(l(0,"span"),u(1,"\u274C Marcar como Cancelado"),c())}function CS(t,n){t&1&&(l(0,"span"),u(1,"\u23F3 Procesando..."),c())}function xS(t,n){if(t&1){let e=S();l(0,"div",52)(1,"button",53),v("click",function(){C(e);let o=m(3);return x(o.marcarComoEntregado())}),b(2,mS,2,0,"span",50)(3,vS,2,0,"span",50),c(),l(4,"button",51),v("click",function(){C(e);let o=m(3);return x(o.marcarComoCancelado())}),b(5,_S,2,0,"span",50)(6,CS,2,0,"span",50),c()()}if(t&2){let e=m(3);p(),h("disabled",e.cambiandoEstado||e.isEntregado()),p(),h("ngIf",!e.cambiandoEstado),p(),h("ngIf",e.cambiandoEstado),p(),h("disabled",e.cambiandoEstado||e.isCancelado()||e.isEntregado()),p(),h("ngIf",!e.cambiandoEstado),p(),h("ngIf",e.cambiandoEstado)}}function bS(t,n){t&1&&(l(0,"span"),u(1,"\u2705 Aprobar como APTA (Devuelve Stock)"),c())}function yS(t,n){t&1&&(l(0,"span"),u(1,"\u23F3 Procesando..."),c())}function ES(t,n){t&1&&(l(0,"span"),u(1,"\u26A0\uFE0F Aprobar como SCRAP (No Devuelve Stock)"),c())}function MS(t,n){t&1&&(l(0,"span"),u(1,"\u23F3 Procesando..."),c())}function wS(t,n){if(t&1){let e=S();l(0,"div",52)(1,"button",55),v("click",function(){C(e);let o=m(4);return x(o.aprobarDevolucionApta())}),b(2,bS,2,0,"span",50)(3,yS,2,0,"span",50),c(),l(4,"button",56),v("click",function(){C(e);let o=m(4);return x(o.aprobarDevolucionScrap())}),b(5,ES,2,0,"span",50)(6,MS,2,0,"span",50),c()()}if(t&2){let e=m(4);p(),h("disabled",e.cambiandoEstado),p(),h("ngIf",!e.cambiandoEstado),p(),h("ngIf",e.cambiandoEstado),p(),h("disabled",e.cambiandoEstado),p(),h("ngIf",!e.cambiandoEstado),p(),h("ngIf",e.cambiandoEstado)}}function DS(t,n){t&1&&(l(0,"div",57)(1,"p",58),u(2,"\u2705 Esta devoluci\xF3n ya ha sido aprobada"),c()())}function PS(t,n){if(t&1&&(l(0,"div",54)(1,"h4"),u(2,"Gestionar Devoluci\xF3n"),c(),b(3,wS,7,6,"div",45)(4,DS,3,0,"div",47),c()),t&2){let e=m(3);p(3),h("ngIf",e.esDevolucionPendiente()),p(),h("ngIf",e.esDevolucionAprobada())}}function SS(t,n){t&1&&(l(0,"span"),u(1,"\u2705 Este pedido ya ha sido entregado"),c())}function IS(t,n){t&1&&(l(0,"span"),u(1,"\u274C Este pedido ha sido cancelado"),c())}function OS(t,n){if(t&1&&(l(0,"div",57)(1,"p",58),b(2,SS,2,0,"span",50)(3,IS,2,0,"span",50),c()()),t&2){let e=m(3);p(2),h("ngIf",e.isEntregado()),p(),h("ngIf",e.isCancelado())}}function TS(t,n){if(t&1&&(l(0,"div",42)(1,"h3"),u(2,"Gestionar Estado del Pedido"),c(),l(3,"div",43)(4,"label"),u(5,"Estado actual: "),l(6,"strong"),u(7),c()(),b(8,dS,7,6,"div",44)(9,gS,7,6,"div",45)(10,xS,7,6,"div",45)(11,PS,5,2,"div",46)(12,OS,4,2,"div",47),c()()),t&2){let e=m(2);p(7),w(e.pedido.estado),p(),h("ngIf",e.esMercadoPagoPendiente()&&!e.esDevolucion()),p(),h("ngIf",e.isConfirmado()&&!e.esMercadoPagoPendiente()&&!e.esDevolucion()),p(),h("ngIf",e.isPendiente()&&!e.esMercadoPagoPendiente()&&!e.esDevolucion()),p(),h("ngIf",e.esDevolucion()&&e.isAdmin),p(),h("ngIf",!e.esDevolucion()&&e.isEntregadoOrCancelado()&&!e.isPendienteOrConfirmado())}}function kS(t,n){t&1&&(l(0,"div",59)(1,"p"),u(2,"No se encontraron items para este pedido."),c()())}function RS(t,n){if(t&1&&(l(0,"h4"),u(1),c()),t&2){let e=m().$implicit;p(),D(" ",e.productoNombre," ")}}function AS(t,n){if(t&1&&(l(0,"h4"),u(1),c()),t&2){let e=m().$implicit;p(),D(" ",e.variante.sku," ")}}function NS(t,n){if(t&1&&(l(0,"h4"),u(1),c()),t&2){let e=m().$implicit;p(),D(" Variante ID: ",e.varianteId," ")}}function FS(t,n){if(t&1&&(l(0,"p"),u(1),c()),t&2){let e=m().$implicit;p(),Pe(" ",e.variante.color," - Talle ",e.variante.talle," ")}}function VS(t,n){if(t&1&&(l(0,"p"),u(1),c()),t&2){let e=m().$implicit;p(),D(" SKU: ",e.variante.sku," ")}}function LS(t,n){if(t&1&&(l(0,"p"),u(1),c()),t&2){let e=m().$implicit;p(),D(" ID del item: ",e.id," ")}}function jS(t,n){if(t&1&&(l(0,"div",66)(1,"div",67),b(2,RS,2,1,"h4",50)(3,AS,2,1,"h4",50)(4,NS,2,1,"h4",50)(5,FS,2,2,"p",50)(6,VS,2,1,"p",50)(7,LS,2,1,"p",50),c(),l(8,"div",68)(9,"label"),u(10,"Cantidad:"),c(),l(11,"div",69),u(12),c()(),l(13,"div",70)(14,"span",71),u(15),c(),l(16,"span",72),u(17),c()()()),t&2){let e=n.$implicit,i=m(3);Be("data-item-id",e.id),p(2),h("ngIf",e.productoNombre),p(),h("ngIf",!e.productoNombre&&e.variante),p(),h("ngIf",!e.productoNombre&&!e.variante),p(),h("ngIf",e.variante),p(),h("ngIf",e.variante),p(),h("ngIf",!e.variante),p(5),w(e.cantidad),p(3),D("",i.formatearMonto(e.precioUnitario)," c/u"),p(2),w(i.formatearMonto(e.subtotal))}}function US(t,n){if(t&1&&(l(0,"div",60)(1,"div",61),b(2,jS,18,10,"div",62),c(),l(3,"div",63)(4,"div",64)(5,"span",65),u(6,"TOTAL DEL PEDIDO:"),c(),l(7,"span",36),u(8),c()()()()),t&2){let e=m(2);p(2),h("ngForOf",e.pedido.items),p(6),w(e.formatearMonto(e.pedido.montoTotal))}}function zS(t,n){if(t&1&&(l(0,"div",30)(1,"div",31)(2,"div",32)(3,"h2"),u(4),c(),l(5,"span",33),u(6),c()(),l(7,"div",34)(8,"div",35)(9,"label"),u(10,"Fecha:"),c(),l(11,"span"),u(12),c()(),l(13,"div",35)(14,"label"),u(15,"Cliente ID:"),c(),l(16,"span"),u(17),c()(),l(18,"div",35)(19,"label"),u(20,"M\xE9todo de Pago:"),c(),l(21,"span"),u(22),c()(),l(23,"div",35)(24,"label"),u(25,"Total:"),c(),l(26,"span",36),u(27),c()(),l(28,"div",35)(29,"label"),u(30,"Tipo:"),c(),l(31,"span"),u(32),c()(),b(33,rS,5,3,"div",37),c()(),b(34,TS,13,6,"div",38),l(35,"div",39)(36,"h3"),u(37),c(),b(38,kS,3,0,"div",40)(39,US,9,2,"div",41),c()()),t&2){let e=m();p(4),D("Pedido #",e.pedido.id,""),p(),xi(e.getEstadoClass(e.pedido.estado)),p(),D(" ",e.pedido.estado," "),p(6),w(e.formatearFecha(e.pedido.fecha)),p(5),Pe("",e.pedido.clienteId," - ",(e.pedido.usuario==null?null:e.pedido.usuario.nombreRazonSocial)||"SIN NOMBRE",""),p(5),w(e.pedido.metodoPago||"No especificado"),p(5),w(e.formatearMonto(e.pedido.montoTotal)),p(5),w(e.pedido.tipo),p(),h("ngIf",e.esDevolucion()&&e.pedido.tipoAprobacionDevolucion),p(),h("ngIf",e.isAdmin),p(3),D("Items del Pedido (",(e.pedido.items==null?null:e.pedido.items.length)||0,")"),p(),h("ngIf",!e.pedido.items||e.pedido.items.length===0),p(),h("ngIf",e.pedido.items&&e.pedido.items.length>0)}}function $S(t,n){if(t&1){let e=S();l(0,"div",83),v("click",function(){let o=C(e).$implicit,r=m(3);return x(r.scrollToResult(o))}),l(1,"div",84),u(2),c(),l(3,"div",85)(4,"div",86),u(5),c(),l(6,"div",87),u(7),c()()()}if(t&2){let e=n.$implicit;p(2),w(e.type==="item"?"\u{1F6CD}\uFE0F":"\u{1F4C4}"),p(3),w(e.title),p(2),w(e.description)}}function BS(t,n){if(t&1&&(l(0,"div",81),b(1,$S,8,3,"div",82),c()),t&2){let e=m(2);p(),h("ngForOf",e.searchResults)}}function HS(t,n){if(t&1&&(l(0,"div",88)(1,"p"),u(2),c()()),t&2){let e=m(2);p(2),D('No se encontraron resultados para "',e.searchTerm,'"')}}function GS(t,n){if(t&1){let e=S();l(0,"div",73),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),l(1,"div",74),v("click",function(o){return C(e),x(o.stopPropagation())}),l(2,"div",75)(3,"h3"),u(4,"Buscar en la p\xE1gina"),c(),l(5,"button",76),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),u(6,"\xD7"),c()(),l(7,"div",77)(8,"input",78),L("ngModelChange",function(o){C(e);let r=m();return j(r.searchTerm,o)||(r.searchTerm=o),x(o)}),v("input",function(){C(e);let o=m();return x(o.performSearch())}),c()(),b(9,BS,2,1,"div",79)(10,HS,3,1,"div",80),c()()}if(t&2){let e=m();p(8),V("ngModel",e.searchTerm),p(),h("ngIf",e.searchResults.length>0),p(),h("ngIf",e.searchTerm&&e.searchResults.length===0)}}var K0=(()=>{class t{constructor(e,i,o,r,s){this.ordersService=e,this.authService=i,this.router=o,this.route=r,this.cartService=s,this.loading=!1,this.cartItemCount=0,this.cambiandoEstado=!1,this.isAdmin=!1,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}ngOnInit(){this.isAdmin=this.authService.isAdmin(),console.log("\u{1F535} [ORDER DETAIL] Es admin?",this.isAdmin),this.route.params.subscribe(e=>{this.pedidoId=+e.id,console.log("\u{1F535} [ORDER DETAIL] Pedido ID:",this.pedidoId),this.loadPedido()}),this.updateCartCount()}loadPedido(){if(!this.pedidoId){this.error="ID de pedido no v\xE1lido";return}this.loading=!0,this.error=void 0,this.ordersService.getPedidoPorId(this.pedidoId).subscribe({next:e=>{console.log("\u{1F535} [ORDER DETAIL] Pedido obtenido:",e),this.pedido=e,console.log("\u{1F535} [ORDER DETAIL] Usuario del pedido:",this.pedido.usuario),console.log("\u{1F535} [ORDER DETAIL] M\xE9todo de pago:",this.pedido.metodoPago),this.loading=!1},error:e=>{console.error("\u{1F534} [ORDER DETAIL] Error al cargar pedido:",e),this.error="Pedido no encontrado",this.loading=!1}})}marcarComoEntregado(){!this.pedido||this.pedido.estado===$.ENTREGADO||(this.cambiandoEstado=!0,console.log("\u{1F535} [ORDER DETAIL] Marcando pedido como entregado:",this.pedido.id),this.ordersService.cambiarEstadoPedido(this.pedido.id,$.ENTREGADO).subscribe({next:e=>{console.log("\u{1F535} [ORDER DETAIL] Pedido marcado como entregado:",e),this.pedido.estado=$.ENTREGADO,this.cambiandoEstado=!1,alert(`\u2705 Pedido #${this.pedido?.id} marcado como entregado exitosamente`)},error:e=>{console.error("\u{1F534} [ORDER DETAIL] Error al marcar como entregado:",e),this.cambiandoEstado=!1;let i="Error al marcar el pedido como entregado.";e.status===500?i="Error interno del servidor. Por favor, int\xE9ntalo de nuevo m\xE1s tarde.":e.status===404&&(i="Pedido no encontrado."),alert(`\u274C ${i}`)}}))}marcarComoCancelado(){if(!this.pedido||this.pedido.estado===$.CANCELADO||this.pedido.estado===$.ENTREGADO){this.pedido?.estado===$.ENTREGADO&&alert("\u274C No se pueden cancelar pedidos que ya est\xE1n ENTREGADOS");return}let e="";if(this.pedido.estado===$.CONFIRMADO?e=`\xBFEst\xE1s seguro de que quieres cancelar el pedido #${this.pedido.id}?

\u26A0\uFE0F Este pedido est\xE1 CONFIRMADO, por lo que se restaurar\xE1 el stock descontado.

Esta acci\xF3n no se puede deshacer.`:e=`\xBFEst\xE1s seguro de que quieres cancelar el pedido #${this.pedido.id}?

Este pedido est\xE1 en estado ${this.pedido.estado}, por lo que no se restaurar\xE1 stock (nunca se hab\xEDa descontado).

Esta acci\xF3n no se puede deshacer.`,!confirm(e))return;this.cambiandoEstado=!0,console.log("\u{1F535} [ORDER DETAIL] Marcando pedido como cancelado:",this.pedido.id);let o=this.pedido.estado;this.ordersService.cambiarEstadoPedido(this.pedido.id,$.CANCELADO).subscribe({next:r=>{console.log("\u{1F535} [ORDER DETAIL] Pedido marcado como cancelado:",r),this.pedido.estado=$.CANCELADO,this.cambiandoEstado=!1;let s=o===$.CONFIRMADO?`\u2705 Pedido #${this.pedido?.id} cancelado exitosamente. Stock restaurado.`:`\u2705 Pedido #${this.pedido?.id} cancelado exitosamente.`;alert(s)},error:r=>{console.error("\u{1F534} [ORDER DETAIL] Error al marcar como cancelado:",r),this.cambiandoEstado=!1;let s="Error al marcar el pedido como cancelado.";r.status===500?s="Error interno del servidor. Por favor, int\xE9ntalo de nuevo m\xE1s tarde.":r.status===404?s="Pedido no encontrado.":r.status===400&&(s=r.error?.error||"No se puede cancelar el pedido en su estado actual."),alert(`\u274C ${s}`)}})}formatearFecha(e){if(!e)return"";let i=e instanceof Date?e:new Date(e);return i.toLocaleDateString("es-ES")+" "+i.toLocaleTimeString("es-ES")}formatearMonto(e){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"ARS",minimumFractionDigits:0}).format(e)}getEstadoClass(e){switch(e){case $.PENDIENTE:return"estado-pendiente";case $.ENTREGADO:return"estado-entregado";case $.CANCELADO:return"estado-cancelado";default:return""}}getTipoAprobacionClass(e){return e==="APTA"?"tipo-aprobacion-apta":"tipo-aprobacion-scrap"}isPendiente(){return this.pedido?.estado===$.PENDIENTE}isConfirmado(){return this.pedido?.estado===$.CONFIRMADO}isEntregado(){return this.pedido?.estado===$.ENTREGADO}isCancelado(){return this.pedido?.estado===$.CANCELADO}isPendienteOrConfirmado(){return this.isPendiente()||this.isConfirmado()}isEntregadoOrCancelado(){return this.isEntregado()||this.isCancelado()}esDevolucion(){return this.pedido?.tipo===Re.DEVOLUCION}esMercadoPagoPendiente(){if(!this.pedido)return!1;let e=this.pedido.metodoPago?.toLowerCase()||"";return(e.includes("mercadopago")||e.includes("mercado_pago")||e.includes("mercado pago"))&&(this.isPendiente()||this.pedido.estado===$.PENDIENTE)}confirmarPedido(){!this.pedido||!this.esMercadoPagoPendiente()||!confirm(`\xBFConfirmar el pedido #${this.pedido.id}?

Esta acci\xF3n confirmar\xE1 el pedido y descontar\xE1 el stock.`)||(this.cambiandoEstado=!0,console.log("\u{1F535} [ORDER DETAIL] Confirmando pedido MercadoPago:",this.pedido.id),this.ordersService.cambiarEstadoPedido(this.pedido.id,$.CONFIRMADO).subscribe({next:i=>{console.log("\u{1F535} [ORDER DETAIL] Pedido confirmado:",i),this.pedido.estado=$.CONFIRMADO,this.cambiandoEstado=!1,alert(`\u2705 Pedido #${this.pedido?.id} confirmado exitosamente`),this.loadPedido()},error:i=>{console.error("\u{1F534} [ORDER DETAIL] Error al confirmar pedido:",i),this.cambiandoEstado=!1;let o="Error al confirmar el pedido.";i.status===500?o="Error interno del servidor. Por favor, int\xE9ntalo de nuevo m\xE1s tarde.":i.status===404?o="Pedido no encontrado.":i.status===400&&(o=i.error?.error||"No se puede confirmar el pedido en su estado actual."),alert(`\u274C ${o}`)}}))}esDevolucionAprobada(){return this.esDevolucion()&&this.pedido?.estado===$.CONFIRMADO}esDevolucionPendiente(){return this.esDevolucion()&&this.pedido?.estado!==$.CONFIRMADO}aprobarDevolucionApta(){if(!this.pedido||!this.esDevolucion())return;if(this.pedido.estado===$.CONFIRMADO){alert("\u26A0\uFE0F Esta devoluci\xF3n ya ha sido aprobada");return}confirm(`\xBFAprobar esta devoluci\xF3n como APTA?

\u2705 El stock ser\xE1 devuelto al inventario.
Esta acci\xF3n cambiar\xE1 el estado de la devoluci\xF3n.`)&&(this.cambiandoEstado=!0,console.log("\u{1F535} [ORDER DETAIL] Aprobando devoluci\xF3n como apta:",this.pedido.id),this.ordersService.aprobarDevolucionApta(this.pedido.id).subscribe({next:i=>{console.log("\u2705 [ORDER DETAIL] Devoluci\xF3n aprobada como apta:",i),this.pedido.estado=$.CONFIRMADO,this.cambiandoEstado=!1,alert("\u2705 Devoluci\xF3n aprobada como APTA. Stock devuelto al inventario."),this.loadPedido()},error:i=>{console.error("\u{1F534} [ORDER DETAIL] Error al aprobar devoluci\xF3n:",i),this.cambiandoEstado=!1;let o="Error al aprobar la devoluci\xF3n.";i.status===500?o="Error interno del servidor.":i.status===400&&(o=i.error?.error||"No es una devoluci\xF3n v\xE1lida."),alert(`\u274C ${o}`)}}))}aprobarDevolucionScrap(){if(!this.pedido||!this.esDevolucion())return;if(this.pedido.estado===$.CONFIRMADO){alert("\u26A0\uFE0F Esta devoluci\xF3n ya ha sido aprobada");return}confirm(`\xBFAprobar esta devoluci\xF3n como SCRAP?

\u26A0\uFE0F El stock NO ser\xE1 devuelto al inventario.
Solo se registrar\xE1 como desperfecto/merma.

\xBFContinuar?`)&&(this.cambiandoEstado=!0,console.log("\u{1F535} [ORDER DETAIL] Aprobando devoluci\xF3n como scrap:",this.pedido.id),this.ordersService.aprobarDevolucionScrap(this.pedido.id).subscribe({next:i=>{console.log("\u2705 [ORDER DETAIL] Devoluci\xF3n aprobada como scrap:",i),this.pedido.estado=$.CONFIRMADO,this.cambiandoEstado=!1,alert("\u26A0\uFE0F Devoluci\xF3n aprobada como SCRAP. Stock NO devuelto (registrado como merma)."),this.loadPedido()},error:i=>{console.error("\u{1F534} [ORDER DETAIL] Error al aprobar devoluci\xF3n:",i),this.cambiandoEstado=!1;let o="Error al aprobar la devoluci\xF3n.";i.status===500?o="Error interno del servidor.":i.status===400&&(o=i.error?.error||"No es una devoluci\xF3n v\xE1lida."),alert(`\u274C ${o}`)}}))}logout(){this.authService.logout(),this.router.navigate(["/login"])}goToCart(){this.router.navigate(["/cart"])}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],this.pedido?.items&&this.pedido.items.forEach(o=>{let r=o.productoNombre?.toLowerCase()||"",s=o.variante?.sku?.toLowerCase()||"",a=o.variante?.color?.toLowerCase()||"",d=o.variante?.talle?.toLowerCase()||"";(r.includes(e)||s.includes(e)||a.includes(e)||d.includes(e))&&this.searchResults.push({type:"item",title:o.productoNombre||"Producto sin nombre",description:`${o.variante?.color||"Sin color"} - Talle ${o.variante?.talle||"Sin talle"} - SKU: ${o.variante?.sku||"Sin SKU"}`,data:o})}),this.pedido&&(this.pedido.id.toString().includes(e)||this.pedido.estado.toLowerCase().includes(e)||this.pedido.tipo.toLowerCase().includes(e)||this.pedido.montoTotal.toString().includes(e))&&this.searchResults.push({type:"pedido",title:`Pedido #${this.pedido.id}`,description:`${this.pedido.estado} - ${this.pedido.tipo} - Total: $${this.pedido.montoTotal}`,data:this.pedido}),document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p").forEach(o=>{let r=o.textContent?.toLowerCase()||"";r.includes(e)&&r.length>0&&this.searchResults.push({type:"elemento",title:o.textContent?.trim()||"",description:"Elemento encontrado en la p\xE1gina",element:o})})}scrollToResult(e){if(this.closeSearchModal(),e.type==="item"){let i=document.querySelector(`[data-item-id="${e.data.id}"]`);i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),i.classList.add("search-highlight"),setTimeout(()=>{i.classList.remove("search-highlight")},2e3))}else e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}static{this.\u0275fac=function(i){return new(i||t)(M(fn),M(ge),M(le),M(dt),M(Ye))}}static{this.\u0275cmp=de({type:t,selectors:[["app-order-detail-page"]],standalone:!0,features:[ue],decls:38,vars:5,consts:[[1,"order-detail-page-container"],[1,"home-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn","active",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"order-detail-container"],[1,"back-btn",3,"click"],[1,"page-title"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","order-detail",4,"ngIf"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"loading-state"],[1,"error-state"],[1,"retry-btn",3,"click"],[1,"order-detail"],[1,"order-info-card"],[1,"info-header"],[1,"current-status"],[1,"info-grid"],[1,"info-item"],[1,"total-amount"],["class","info-item",4,"ngIf"],["class","status-change-card",4,"ngIf"],[1,"items-card"],["class","no-items",4,"ngIf"],["class","items-list",4,"ngIf"],[1,"status-change-card"],[1,"status-controls"],["class","quick-actions confirm-actions",4,"ngIf"],["class","quick-actions",4,"ngIf"],["class","devolucion-actions",4,"ngIf"],["class","status-info",4,"ngIf"],[1,"quick-actions","confirm-actions"],[1,"confirm-btn",3,"click","disabled"],[4,"ngIf"],[1,"cancel-btn",3,"click","disabled"],[1,"quick-actions"],[1,"deliver-btn",3,"click","disabled"],[1,"devolucion-actions"],[1,"apta-btn",3,"click","disabled"],[1,"scrap-btn",3,"click","disabled"],[1,"status-info"],[1,"status-message"],[1,"no-items"],[1,"items-list"],[1,"cart-items"],["class","cart-item order-item",4,"ngFor","ngForOf"],[1,"cart-total"],[1,"total-line"],[1,"total-label"],[1,"cart-item","order-item"],[1,"item-info"],[1,"item-quantity"],[1,"quantity-display"],[1,"item-price"],[1,"unit-price"],[1,"subtotal"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(i,o){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),v("click",function(){return o.goToCatalog()}),l(4,"div",4),H(5,"img",5),c(),l(6,"span"),u(7,"HRK"),c()(),l(8,"nav",6)(9,"a",7),v("click",function(){return o.goToCatalog()}),u(10,"SHOP"),c(),l(11,"a",8),v("click",function(){return o.goToCatalog()}),u(12,"SALE"),c(),l(13,"a",9),v("click",function(){return o.goToInfo()}),u(14,"info"),c()()(),l(15,"div",10)(16,"button",11),v("click",function(){return o.goToCart()}),u(17," \u{1F6D2} "),b(18,nS,2,1,"span",12),c(),l(19,"button",13),v("click",function(){return o.openSearchModal()}),u(20," \u{1F50D} "),c(),l(21,"button",14),v("click",function(){return o.goToHistory()}),u(22," \u{1F4CB} "),c(),l(23,"button",15),v("click",function(){return o.goToProfile()}),H(24,"img",16),l(25,"span",17),u(26,"\u{1F464}"),c()(),l(27,"button",18),v("click",function(){return o.logout()}),u(28," Cerrar Sesi\xF3n "),c()()(),l(29,"div",19)(30,"button",20),v("click",function(){return o.goToHistory()}),u(31,"\u2190 Volver al Historial"),c(),l(32,"h1",21),u(33,"DETALLE DEL PEDIDO"),c(),b(34,iS,3,0,"div",22)(35,oS,5,1,"div",23)(36,zS,40,15,"div",24),c(),b(37,GS,11,3,"div",25),c()),i&2&&(p(18),h("ngIf",o.cartItemCount>0),p(16),h("ngIf",o.loading),p(),h("ngIf",o.error&&!o.loading),p(),h("ngIf",o.pedido&&!o.loading&&!o.error),p(),h("ngIf",o.showSearchModal))},dependencies:[_e,je,be,ye,Me,we,Ee],styles:['.order-detail-page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8f9fa}.home-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:transparent;display:flex;align-items:center;justify-content:center;position:relative;margin-top:-8px;margin-bottom:-8px;z-index:5}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;border:3px solid white;box-shadow:0 4px 12px #0006;transition:all .3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 16px #00000080}.hk-logo[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:12px;font-family:Arial,sans-serif;letter-spacing:1px;position:relative;display:flex;align-items:center;justify-content:center}.hk-logo[_ngcontent-%COMP%]:before{content:"";position:absolute;width:28px;height:28px;border:2px solid white;border-radius:50%;border-top-color:transparent;transform:rotate(-15deg);top:50%;left:50%;transform:translate(-50%,-50%) rotate(-15deg)}.hk-logo[_ngcontent-%COMP%]:after{content:"";position:absolute;width:28px;height:28px;border:2px solid white;border-radius:50%;border-bottom-color:transparent;transform:rotate(-15deg);top:50%;left:50%;transform:translate(-50%,-50%) rotate(-15deg)}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.icon-btn.active[_ngcontent-%COMP%]{background:#fff3}.icon-btn.user-icon[_ngcontent-%COMP%]{background:transparent!important;border:none!important;cursor:pointer;padding:0!important;border-radius:6px;transition:all .3s;display:flex;align-items:center;justify-content:center;width:47.5px;height:47.5px}.user-icon[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.05)}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;min-width:20px;border:2px solid black;box-shadow:0 2px 4px #0000004d}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.order-detail-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.back-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;margin-bottom:20px;font-size:14px}.back-btn[_ngcontent-%COMP%]:hover{background:#0056b3}.order-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.order-info-card[_ngcontent-%COMP%], .status-change-card[_ngcontent-%COMP%], .items-card[_ngcontent-%COMP%], .user-info-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:24px;box-shadow:0 2px 4px #0000001a}.user-info-card[_ngcontent-%COMP%]{border-left:4px solid #667eea}.user-info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;color:#333;font-size:18px;font-weight:600}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.user-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:14px;color:#555}.user-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333;font-weight:600;min-width:80px}.info-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid #e9ecef}.info-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:24px}.current-status[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;font-weight:700;font-size:14px}.current-status.estado-pendiente[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.current-status.estado-entregado[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.current-status.estado-cancelado[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.current-status.tipo-aprobacion-apta[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;font-weight:600}.current-status.tipo-aprobacion-scrap[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404;font-weight:600}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#666;margin-bottom:4px;font-size:14px}.info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:16px}.info-item[_ngcontent-%COMP%]   span.total-amount[_ngcontent-%COMP%]{font-weight:700;color:#28a745;font-size:18px}.status-change-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#333;font-size:20px}.status-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-weight:700;color:#666}.quick-actions[_ngcontent-%COMP%]{margin-bottom:20px;padding:15px;background:#f8f9fa;border-radius:8px;border-left:4px solid #28a745;display:flex;flex-direction:column;gap:12px;align-items:flex-start}.quick-actions.confirm-actions[_ngcontent-%COMP%]{border-left-color:#007bff}.deliver-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;width:100%;max-width:300px;transition:all .3s ease;box-shadow:0 2px 4px #28a74533}.deliver-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#218838,#1ea085);transform:translateY(-2px);box-shadow:0 4px 8px #28a7454d}.deliver-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none}.confirm-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;width:100%;max-width:300px;transition:all .3s ease;box-shadow:0 2px 4px #007bff33}.confirm-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#0056b3,#004085);transform:translateY(-2px);box-shadow:0 4px 8px #007bff4d}.confirm-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none}.cancel-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;width:100%;max-width:300px;transition:all .3s ease;box-shadow:0 2px 4px #dc354533}.cancel-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#c82333,#bd2130);transform:translateY(-2px);box-shadow:0 4px 8px #dc35454d}.cancel-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none}.devolucion-actions[_ngcontent-%COMP%]{margin-top:20px}.devolucion-actions[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:#333;font-size:18px;font-weight:600}.devolucion-actions[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{border-left-color:#ffc107}.apta-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;width:100%;max-width:300px;transition:all .3s ease;box-shadow:0 2px 4px #28a74533}.apta-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#218838,#1ea085);transform:translateY(-2px);box-shadow:0 4px 8px #28a7454d}.apta-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none}.scrap-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc107,#fd7e14);color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;width:100%;max-width:300px;transition:all .3s ease;box-shadow:0 2px 4px #ffc1074d}.scrap-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#e0a800,#e86800);transform:translateY(-2px);box-shadow:0 4px 8px #ffc10766}.scrap-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none}.status-info[_ngcontent-%COMP%]{margin-top:15px;padding:15px;border-radius:8px;text-align:center}.status-message[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500}.status-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}.items-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#333;font-size:20px}.no-items[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;font-style:italic}.items-list[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:5px;overflow:hidden}.items-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 120px 100px 120px 120px;background:#f8f9fa;font-weight:700;padding:12px;border-bottom:2px solid #dee2e6}@media (max-width: 768px){.items-header[_ngcontent-%COMP%]{grid-template-columns:60px 80px 60px 80px 80px;font-size:12px}}.item-header[_ngcontent-%COMP%]{padding:0 8px;color:#495057}.item-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 120px 100px 120px 120px;padding:12px;border-bottom:1px solid #dee2e6;align-items:center}@media (max-width: 768px){.item-row[_ngcontent-%COMP%]{grid-template-columns:60px 80px 60px 80px 80px;font-size:14px}}.item-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.item-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-cell[_ngcontent-%COMP%]{padding:0 8px;color:#333}.item-cell.total[_ngcontent-%COMP%]{font-weight:700;color:#28a745}@media (max-width: 768px){.item-cell[_ngcontent-%COMP%]{font-size:12px}}.grand-total-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 120px;background:#e9ecef;padding:16px 12px;font-weight:700;font-size:18px;border-top:2px solid #dee2e6}@media (max-width: 768px){.grand-total-row[_ngcontent-%COMP%]{grid-template-columns:1fr 80px;font-size:16px}}.grand-total-label[_ngcontent-%COMP%]{padding:0 8px;color:#495057;text-align:right}.grand-total-amount[_ngcontent-%COMP%]{padding:0 8px;color:#28a745;text-align:right}.cart-items[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a;margin-bottom:20px}.cart-item.order-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr;gap:15px;align-items:center;padding:15px;border-bottom:1px solid #e1e5e9;border-radius:8px;background:#f8f9fa;margin-bottom:10px}.cart-item.order-item[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.cart-item.order-item[_ngcontent-%COMP%]:hover{background:#e9ecef}.item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-size:16px;font-weight:600}.item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0;color:#666;font-size:14px}.item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{font-weight:500;color:#495057}.item-quantity[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;align-items:center}.item-quantity[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#667eea;font-size:12px;text-transform:uppercase}.item-quantity[_ngcontent-%COMP%]   .quantity-display[_ngcontent-%COMP%]{background:#fff;border:1px solid #e1e5e9;border-radius:4px;padding:6px 12px;font-weight:600;font-size:16px;color:#333;min-width:50px;text-align:center}.item-price[_ngcontent-%COMP%]{text-align:right}.item-price[_ngcontent-%COMP%]   .unit-price[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-bottom:4px}.item-price[_ngcontent-%COMP%]   .subtotal[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:16px}.cart-total[_ngcontent-%COMP%]{border-top:2px solid #e1e5e9;padding-top:20px;margin-top:20px}.cart-total[_ngcontent-%COMP%]   .total-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:20px;font-weight:600;color:#333;background:#fff;padding:15px 20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.cart-total[_ngcontent-%COMP%]   .total-line[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{color:#495057}.cart-total[_ngcontent-%COMP%]   .total-line[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{color:#28a745;font-size:24px}@media (max-width: 768px){.cart-item.order-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px;text-align:center}.item-quantity[_ngcontent-%COMP%]{align-items:center}.item-price[_ngcontent-%COMP%]{text-align:center}}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}']})}}return t})();function WS(t,n){if(t&1&&(l(0,"div",12)(1,"strong"),u(2,"Cliente:"),c(),u(3),c()),t&2){let e=m();p(3),D(" ",e.cliente.nombreRazonSocial," ")}}function qS(t,n){t&1&&(l(0,"div",13)(1,"p"),u(2,"Cargando pedidos entregados..."),c()())}function YS(t,n){if(t&1){let e=S();l(0,"div",14)(1,"p"),u(2),c(),l(3,"button",15),v("click",function(){C(e);let o=m();return x(o.volverAlHistorial())}),u(4," Volver al Historial "),c()()}if(t&2){let e=m();p(2),w(e.error)}}function ZS(t,n){if(t&1){let e=S();l(0,"div",16)(1,"h3"),u(2,"No hay pedidos entregados"),c(),l(3,"p"),u(4,"Este cliente no tiene pedidos entregados para generar una devoluci\xF3n."),c(),l(5,"button",17),v("click",function(){C(e);let o=m();return x(o.volverAlHistorial())}),u(6," Volver al Historial "),c()()}}function KS(t,n){if(t&1&&(l(0,"div",49)(1,"span",50),u(2," Disponible para devolver: "),l(3,"strong"),u(4),c(),u(5),c()()),t&2){let e,i,o=m().$implicit,r=m(4);p(4),w((e=r.getDisponibilidadVariante(o.variante==null?null:o.variante.id))==null?null:e.disponibleParaDevolver),p(),Pe(" (Entregados: ",(i=r.getDisponibilidadVariante(o.variante==null?null:o.variante.id))==null?null:i.totalEntregado,", Ya devueltos: ",(i=r.getDisponibilidadVariante(o.variante==null?null:o.variante.id))==null?null:i.totalDevuelto,") ")}}function QS(t,n){t&1&&(l(0,"span",55),u(1," No hay unidades disponibles para devolver "),c())}function JS(t,n){if(t&1){let e=S();l(0,"div",51)(1,"label"),u(2,"Cantidad a devolver:"),c(),l(3,"input",52),v("input",function(o){C(e);let r=m().$implicit,s=m(2).$implicit,a=m(2);return x(a.onCantidadInput(o,s.id,r.id))}),c(),l(4,"span",53),u(5),c(),b(6,QS,2,0,"span",54),c()}if(t&2){let e=m().$implicit,i=m(2).$implicit,o=m(2);p(3),B("disabled",o.getCantidadMaxima(i.id,e.id)<=0),h("value",o.getCantidadDevolucion(i.id,e.id))("max",o.getCantidadMaxima(i.id,e.id))("min",o.getCantidadMaxima(i.id,e.id)>0?1:0)("disabled",o.getCantidadMaxima(i.id,e.id)<=0),p(2),D("(m\xE1x: ",o.getCantidadMaxima(i.id,e.id),")"),p(),h("ngIf",o.getCantidadMaxima(i.id,e.id)<=0)}}function XS(t,n){if(t&1){let e=S();l(0,"div",35)(1,"div",36)(2,"input",37),v("change",function(){let o=C(e).$implicit,r=m(2).$implicit,s=m(2);return x(s.toggleItemSeleccion(r.id,o.id))}),c(),l(3,"label",38),u(4," Seleccionar "),c()(),l(5,"div",39)(6,"div",40)(7,"strong"),u(8),c(),l(9,"span",41),u(10),c()(),l(11,"div",42)(12,"div",43)(13,"span",44),u(14),c(),b(15,KS,6,3,"div",45)(16,JS,7,8,"div",46),c(),l(17,"span",47),u(18),c(),l(19,"span",48),u(20),c()()()()}if(t&2){let e=n.$implicit,i=m(2).$implicit,o=m(2);p(2),h("id","item-"+i.id+"-"+e.id)("checked",o.isItemSeleccionado(i.id,e.id)),p(),h("for","item-"+i.id+"-"+e.id),p(5),D("Producto ID: ",e.productoId,""),p(2),Pe("",e.variante==null?null:e.variante.color," - ",e.variante==null?null:e.variante.talle,""),p(4),D("Cantidad original: ",e.cantidad,""),p(),h("ngIf",o.getDisponibilidadVariante(e.variante==null?null:e.variante.id)),p(),h("ngIf",o.isItemSeleccionado(i.id,e.id)),p(2),D("Precio: ",o.formatearMonto(e.precioUnitario),""),p(2),D("Subtotal: ",o.formatearMonto(e.subtotal),"")}}function eI(t,n){if(t&1&&(l(0,"div",33),b(1,XS,21,11,"div",34),c()),t&2){let e=m().$implicit;p(),h("ngForOf",e.items)}}function tI(t,n){t&1&&(l(0,"p",56),u(1,"No hay items en este pedido"),c())}function nI(t,n){if(t&1&&(l(0,"div",26)(1,"div",27)(2,"h3"),u(3),c(),l(4,"div",28)(5,"span",29),u(6),c(),l(7,"span",30),u(8),c()()(),l(9,"div",31)(10,"h4"),u(11,"Items del Pedido"),c(),b(12,eI,2,1,"div",32)(13,tI,2,0,"ng-template",null,0,Ca),c()()),t&2){let e=n.$implicit,i=qe(14),o=m(2);p(3),D("Pedido #",e.id,""),p(3),w(o.formatearFecha(e.fecha.toString())),p(2),w(o.formatearMonto(e.montoTotal)),p(4),h("ngIf",e.items&&e.items.length>0)("ngIfElse",i)}}function iI(t,n){if(t&1){let e=S();l(0,"div",18)(1,"div",19)(2,"h2"),u(3,"Pedidos Entregados"),c(),l(4,"p"),u(5,"Selecciona los items que deseas incluir en la nota de devoluci\xF3n"),c()(),l(6,"div",20),b(7,nI,15,5,"div",21),c(),l(8,"div",22)(9,"div",23)(10,"h3"),u(11,"Resumen de Selecci\xF3n"),c(),l(12,"p"),u(13,"Items seleccionados: "),l(14,"strong"),u(15),c()()(),l(16,"div",24)(17,"button",15),v("click",function(){C(e);let o=m();return x(o.volverAlHistorial())}),u(18," Cancelar "),c(),l(19,"button",25),v("click",function(){C(e);let o=m();return x(o.generarNotaDevolucion())}),u(20," Generar Nota de Devoluci\xF3n "),c()()()()}if(t&2){let e=m();p(7),h("ngForOf",e.pedidosEntregados),p(8),w(e.getItemsSeleccionados().length),p(4),h("disabled",e.getItemsSeleccionados().length===0)}}var Q0=(()=>{class t{constructor(e,i,o,r,s){this.ordersService=e,this.authService=i,this.router=o,this.route=r,this.cartService=s,this.pedidosEntregados=[],this.itemsSeleccionados={},this.cantidadesDevolucion={},this.disponibilidadVariantes={},this.loading=!1,this.cartItemCount=0}ngOnInit(){this.route.queryParams.subscribe(e=>{this.clienteId=+e.clienteId,console.log("\u{1F535} [DEVOLUCION] Cliente ID:",this.clienteId),this.clienteId?(this.loadCliente(),this.loadPedidosEntregados()):this.error="No se especific\xF3 un cliente para la devoluci\xF3n"}),this.updateCartCount()}loadCliente(){this.clienteId&&this.authService.getUsuarios().subscribe({next:e=>{this.cliente=e.find(i=>i.id===this.clienteId),console.log("\u{1F535} [DEVOLUCION] Cliente cargado:",this.cliente)},error:e=>{console.error("\u{1F534} [DEVOLUCION] Error al cargar cliente:",e),this.error="Error al cargar informaci\xF3n del cliente"}})}loadPedidosEntregados(){this.clienteId&&(this.loading=!0,this.error=void 0,this.ordersService.getPedidosPorCliente(this.clienteId).subscribe({next:e=>{this.pedidosEntregados=e.filter(i=>i.estado===$.ENTREGADO),this.loading=!1,console.log("\u{1F535} [DEVOLUCION] Pedidos entregados cargados:",this.pedidosEntregados.length)},error:e=>{console.error("\u{1F534} [DEVOLUCION] Error al cargar pedidos:",e),this.error="Error al cargar los pedidos del cliente",this.loading=!1}}))}toggleItemSeleccion(e,i){let o=`${e}-${i}`;if(this.itemsSeleccionados[o]=!this.itemsSeleccionados[o],this.itemsSeleccionados[o]){let r=this.getItemById(e,i);if(r&&r.variante?.id&&this.clienteId){this.cargarDisponibilidadVariante(r.variante.id);let s=this.disponibilidadVariantes[r.variante.id.toString()];if(s){let a=s.disponibleParaDevolver;a<=0?(this.cantidadesDevolucion[o]=0,this.itemsSeleccionados[o]=!1,alert(`No hay disponibilidad para devolver este item. Ya se han devuelto ${s.totalDevuelto} de ${s.totalEntregado} unidades entregadas.`)):this.cantidadesDevolucion[o]=Math.min(r.cantidad,a)}else this.cantidadesDevolucion[o]=r.cantidad}else r&&(this.cantidadesDevolucion[o]=r.cantidad)}else delete this.cantidadesDevolucion[o];console.log("\u{1F535} [DEVOLUCION] Item seleccionado:",o,this.itemsSeleccionados[o])}cargarDisponibilidadVariante(e){!this.clienteId||this.disponibilidadVariantes[e.toString()]||this.ordersService.consultarDisponibilidadDevolucion(this.clienteId,e).subscribe({next:i=>{this.disponibilidadVariantes[e.toString()]=i,console.log("\u{1F535} [DEVOLUCION] Disponibilidad cargada para variante",e,":",i),this.actualizarCantidadesPorDisponibilidad(e,i.disponibleParaDevolver)},error:i=>{console.error("\u{1F534} [DEVOLUCION] Error al cargar disponibilidad:",i)}})}actualizarCantidadesPorDisponibilidad(e,i){this.pedidosEntregados.forEach(o=>{o.items&&o.items.forEach(r=>{if(r.variante?.id===e){let s=`${o.id}-${r.id}`;if(this.itemsSeleccionados[s]){let a=this.cantidadesDevolucion[s]||0;i<=0?(this.cantidadesDevolucion[s]=0,this.itemsSeleccionados[s]=!1,console.log("\u{1F7E1} [DEVOLUCION] Item deseleccionado para",s,"por falta de disponibilidad")):a>i&&(this.cantidadesDevolucion[s]=i,console.log("\u{1F7E1} [DEVOLUCION] Ajustada cantidad para",s,"de",a,"a",this.cantidadesDevolucion[s]))}}})})}getItemById(e,i){for(let o of this.pedidosEntregados)if(o.id===e&&o.items)return o.items.find(r=>r.id===i);return null}onCantidadChange(e,i,o){let r=`${e}-${i}`,s=this.getItemById(e,i);if(s){let a=s.cantidad,d=a;if(s.variante?.id){let _=this.disponibilidadVariantes[s.variante.id.toString()];if(_){let E=0;this.pedidosEntregados.forEach(y=>{y.items&&y.items.forEach(P=>{let T=`${y.id}-${P.id}`;P.variante?.id===s.variante?.id&&T!==r&&this.itemsSeleccionados[T]&&(E+=this.cantidadesDevolucion[T]||0)})}),d=_.disponibleParaDevolver-E,d=Math.max(0,d)}}let f=Math.min(a,d),g;f<=0?g=0:g=Math.min(Math.max(1,o),f),this.cantidadesDevolucion[r]=g,o>f&&f>0?console.warn("\u{1F7E1} [DEVOLUCION] Cantidad ajustada de",o,"a",g,"por l\xEDmite de disponibilidad"):o>0&&f<=0&&console.warn("\u{1F7E1} [DEVOLUCION] No hay disponibilidad para devolver. Cantidad ajustada a 0")}}onCantidadInput(e,i,o){let r=e.target,s=parseInt(r.value)||0;this.onCantidadChange(i,o,s)}getCantidadDevolucion(e,i){let o=`${e}-${i}`;return this.cantidadesDevolucion[o]||0}getCantidadMaxima(e,i){let o=this.getItemById(e,i);if(!o)return 0;let r=o.cantidad,s=`${e}-${i}`;if(o.variante?.id){let a=this.disponibilidadVariantes[o.variante.id.toString()];if(a){let d=0;this.pedidosEntregados.forEach(g=>{g.items&&g.items.forEach(_=>{if(_.variante?.id===o.variante?.id){let E=`${g.id}-${_.id}`;E!==s&&this.itemsSeleccionados[E]&&(d+=this.cantidadesDevolucion[E]||0)}})});let f=Math.max(0,a.disponibleParaDevolver-d);return Math.min(r,f)}return r}return r}isItemSeleccionado(e,i){let o=`${e}-${i}`;return this.itemsSeleccionados[o]||!1}getItemsSeleccionados(){let e=[];return this.pedidosEntregados.forEach(i=>{i.items&&i.items.forEach(o=>{let r=`${i.id}-${o.id}`;if(this.itemsSeleccionados[r]){let s=this.cantidadesDevolucion[r]||0;e.push({pedidoId:i.id,itemId:o.id,productoId:o.productoId,varianteId:o.variante?.id,cantidad:s,precioUnitario:o.precioUnitario,subtotal:o.precioUnitario*s})}})}),e}generarNotaDevolucion(){let e=this.getItemsSeleccionados();if(e.length===0){alert("Por favor selecciona al menos un item para la devoluci\xF3n");return}if(!this.clienteId){alert("Error: No se especific\xF3 el cliente");return}let i=[],o={};if(e.forEach(r=>{if(r.varianteId){let s=r.varianteId.toString();o[s]||(o[s]=0),o[s]+=r.cantidad}}),Object.keys(o).forEach(r=>{let s=this.disponibilidadVariantes[r];if(s){let a=o[r];a>s.disponibleParaDevolver&&i.push(`La variante tiene ${s.totalEntregado} entregados, ${s.totalDevuelto} ya devueltos. Solo se pueden devolver ${s.disponibleParaDevolver} unidades, pero se solicitan ${a}.`)}}),i.length>0){alert(`Error de validaci\xF3n:

`+i.join(`

`));return}console.log("\u{1F535} [DEVOLUCION] Generando nota de devoluci\xF3n con items:",e),this.loading=!0,this.ordersService.crearNotaDevolucion(this.clienteId,e).subscribe({next:r=>{console.log("\u{1F535} [DEVOLUCION] Nota de devoluci\xF3n creada exitosamente:",r),alert(`Nota de devoluci\xF3n #${r.id} creada exitosamente con ${e.length} items`),this.loading=!1,this.volverAlHistorial()},error:r=>{console.error("\u{1F534} [DEVOLUCION] Error al crear nota de devoluci\xF3n:",r);let s=r.message||"Error al crear la nota de devoluci\xF3n. Por favor intenta nuevamente.";alert(s),this.loading=!1}})}getDisponibilidadVariante(e){return e&&this.disponibilidadVariantes[e.toString()]||null}volverAlHistorial(){this.router.navigate(["/orders-history"])}updateCartCount(){this.cartItemCount=this.cartService.getCartItemCount()}logout(){this.authService.logout(),this.router.navigate(["/login"])}formatearFecha(e){return e?new Date(e).toLocaleDateString("es-AR",{year:"numeric",month:"2-digit",day:"2-digit"}):""}formatearMonto(e){return e?new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"$0"}static{this.\u0275fac=function(i){return new(i||t)(M(fn),M(ge),M(le),M(dt),M(Ye))}}static{this.\u0275cmp=de({type:t,selectors:[["app-devolucion-page"]],standalone:!0,features:[ue],decls:14,vars:5,consts:[["noItems",""],[1,"header"],[1,"header-content"],[1,"header-left"],["class","cliente-info",4,"ngIf"],[1,"header-right"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"devolucion-container"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","pedidos-section",4,"ngIf"],[1,"cliente-info"],[1,"loading-state"],[1,"error-state"],[1,"btn-secondary",3,"click"],[1,"empty-state"],[1,"btn-primary",3,"click"],[1,"pedidos-section"],[1,"section-header"],[1,"pedidos-list"],["class","pedido-card",4,"ngFor","ngForOf"],[1,"resumen-section"],[1,"resumen-info"],[1,"actions"],[1,"btn-primary",3,"click","disabled"],[1,"pedido-card"],[1,"pedido-header"],[1,"pedido-info"],[1,"fecha"],[1,"monto"],[1,"items-section"],["class","items-list",4,"ngIf","ngIfElse"],[1,"items-list"],["class","item-row",4,"ngFor","ngForOf"],[1,"item-row"],[1,"item-checkbox"],["type","checkbox",1,"checkbox-input",3,"change","id","checked"],[1,"checkbox-label",3,"for"],[1,"item-info"],[1,"item-producto"],[1,"item-variante"],[1,"item-details"],[1,"cantidad-section"],[1,"cantidad-label"],["class","disponibilidad-info",4,"ngIf"],["class","cantidad-devolucion",4,"ngIf"],[1,"precio"],[1,"subtotal"],[1,"disponibilidad-info"],[1,"disponibilidad-text"],[1,"cantidad-devolucion"],["type","number",1,"cantidad-input",3,"input","value","max","min","disabled"],[1,"cantidad-max"],["class","no-disponible-msg",4,"ngIf"],[1,"no-disponible-msg"],[1,"no-items"]],template:function(i,o){i&1&&(l(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),u(4,"Nota de Devoluci\xF3n"),c(),b(5,WS,4,1,"div",4),c(),l(6,"div",5)(7,"button",6),v("click",function(){return o.logout()}),u(8," Cerrar Sesi\xF3n "),c()()()(),l(9,"div",7),b(10,qS,3,0,"div",8)(11,YS,5,1,"div",9)(12,ZS,7,0,"div",10)(13,iI,21,3,"div",11),c()),i&2&&(p(5),h("ngIf",o.cliente),p(5),h("ngIf",o.loading),p(),h("ngIf",o.error),p(),h("ngIf",!o.loading&&!o.error&&o.pedidosEntregados.length===0),p(),h("ngIf",!o.loading&&!o.error&&o.pedidosEntregados.length>0))},dependencies:[_e,je,be,ye],styles:[".header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2c3e50,#1a252f);color:#fff;padding:20px 0;box-shadow:0 2px 10px #0000001a}.header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:700}.cliente-info[_ngcontent-%COMP%]{margin-top:8px;font-size:16px;opacity:.9}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.devolucion-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:30px 20px;background:#fff;min-height:calc(100vh - 120px)}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#f8f9fa;border-radius:8px;margin:20px 0}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:#2c3e50}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e74c3c;font-size:16px;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:20px}.pedidos-section[_ngcontent-%COMP%]{margin-top:30px}.section-header[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:16px}.pedidos-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.pedido-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:8px;padding:20px;box-shadow:0 2px 4px #0000001a;transition:box-shadow .3s}.pedido-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026}.pedido-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid #dee2e6}.pedido-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:20px}.pedido-info[_ngcontent-%COMP%]{display:flex;gap:20px;font-size:14px;color:#6c757d}.items-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:15px;font-size:16px}.items-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.item-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:12px;background:#f8f9fa;border-radius:6px;border:1px solid transparent;transition:all .3s}.item-row[_ngcontent-%COMP%]:hover{border-color:#667eea;background:#fff}.item-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.checkbox-input[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]{font-size:14px;color:#2c3e50;cursor:pointer;-webkit-user-select:none;user-select:none}.item-info[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-between;align-items:center}.item-producto[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.item-producto[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2c3e50;font-size:16px}.item-variante[_ngcontent-%COMP%]{color:#6c757d;font-size:14px}.item-details[_ngcontent-%COMP%]{display:flex;gap:15px;font-size:14px;color:#6c757d}.no-items[_ngcontent-%COMP%]{text-align:center;color:#6c757d;font-style:italic;padding:20px}.resumen-section[_ngcontent-%COMP%]{margin-top:40px;padding:30px;background:#f8f9fa;border-radius:8px;display:flex;justify-content:space-between;align-items:center}.resumen-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#2c3e50}.resumen-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:16px}.actions[_ngcontent-%COMP%]{display:flex;gap:15px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:12px 24px;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s;border:none}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#3958e4;transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none;opacity:.6}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#545b62;transform:translateY(-2px)}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:15px;text-align:center}.pedido-header[_ngcontent-%COMP%]{flex-direction:column;gap:10px;text-align:center}.pedido-info[_ngcontent-%COMP%]{flex-direction:column;gap:5px}.item-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.item-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.item-details[_ngcontent-%COMP%]{flex-direction:column;gap:5px}.resumen-section[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}.actions[_ngcontent-%COMP%]{width:100%;justify-content:center}}.cantidad-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cantidad-section[_ngcontent-%COMP%]   .cantidad-label[_ngcontent-%COMP%]{font-size:14px;color:#666;font-weight:500}.cantidad-section[_ngcontent-%COMP%]   .cantidad-devolucion[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px;background-color:#f8f9fa;border-radius:4px;border:1px solid #e9ecef}.cantidad-section[_ngcontent-%COMP%]   .cantidad-devolucion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#495057;white-space:nowrap}.cantidad-section[_ngcontent-%COMP%]   .cantidad-devolucion[_ngcontent-%COMP%]   .cantidad-input[_ngcontent-%COMP%]{width:80px;padding:4px 8px;border:1px solid #ced4da;border-radius:4px;font-size:14px;text-align:center}.cantidad-section[_ngcontent-%COMP%]   .cantidad-devolucion[_ngcontent-%COMP%]   .cantidad-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.cantidad-section[_ngcontent-%COMP%]   .cantidad-devolucion[_ngcontent-%COMP%]   .cantidad-max[_ngcontent-%COMP%]{font-size:12px;color:#6c757d;font-style:italic}"]})}}return t})();function oI(t,n){if(t&1&&(l(0,"span",78),u(1),c()),t&2){let e=m();p(),w(e.cartItemCount)}}function rI(t,n){if(t&1){let e=S();l(0,"div",79),v("click",function(){C(e),m();let o=qe(40);return x(o.click())}),u(1," \u{1F4F7} "),c()}}function sI(t,n){if(t&1){let e=S();l(0,"img",80),v("click",function(){C(e),m();let o=qe(40);return x(o.click())}),c()}if(t&2){let e=m();h("src",e.productData.imagenBase64,Jn)("alt",e.productData.nombre||"Imagen del producto")}}function aI(t,n){if(t&1&&(l(0,"option",81),u(1),c()),t&2){let e=n.$implicit;h("value",e),p(),D(" ",e," ")}}function cI(t,n){if(t&1){let e=S();l(0,"div",82),v("click",function(){let o=C(e).$implicit,r=m();return x(r.toggleColor(o))}),H(1,"span",83),u(2),c()}if(t&2){let e=n.$implicit,i=m();B("selected",i.isColorSelected(e)),p(),st("background-color",i.getColorValue(e)),p(),D(" ",e," ")}}function lI(t,n){if(t&1&&(l(0,"div",84)(1,"strong"),u(2,"Seleccionados:"),c(),u(3),c()),t&2){let e=m();p(3),D(" ",e.productData.colores.join(", ")," ")}}function dI(t,n){t&1&&(l(0,"div",85),u(1," \u274C Debes seleccionar al menos un color "),c())}function uI(t,n){if(t&1){let e=S();l(0,"div",86),v("click",function(){let o=C(e).$implicit,r=m();return x(r.selectTalleCategory(o.id))}),l(1,"div",87),u(2),c(),l(3,"div",88),u(4),c()()}if(t&2){let e=n.$implicit,i=m();B("selected",i.categoriaTalleSeleccionada===e.id),p(2),w(e.nombre),p(2),w(e.opciones.join(", "))}}function pI(t,n){t&1&&(l(0,"div",85),u(1," \u274C Debes seleccionar una categor\xEDa de talles "),c())}function fI(t,n){if(t&1){let e=S();l(0,"div",91),v("click",function(){let o=C(e).$implicit,r=m(2);return x(r.toggleTalle(o))}),u(1),c()}if(t&2){let e=n.$implicit,i=m(2);B("selected",i.isTalleSelected(e)),p(),D(" ",e," ")}}function hI(t,n){if(t&1&&(l(0,"div",84)(1,"strong"),u(2,"Seleccionado:"),c(),u(3),c()),t&2){let e=m(2);p(3),D(" ",e.productData.talles[0]," ")}}function gI(t,n){t&1&&(l(0,"div",85),u(1," \u274C Debes seleccionar un talle espec\xEDfico "),c())}function mI(t,n){if(t&1&&(l(0,"div",43)(1,"label"),u(2,"Talles Espec\xEDficos *"),c(),l(3,"div",89),b(4,fI,2,3,"div",90),c(),b(5,hI,4,1,"div",58)(6,gI,2,0,"div",59),c()),t&2){let e=m();B("error",e.formSubmitted&&e.productData.talles.length===0),p(4),h("ngForOf",e.getTallesDisponibles()),p(),h("ngIf",e.productData.talles.length>0),p(),h("ngIf",e.formSubmitted&&e.productData.talles.length===0)}}function vI(t,n){t&1&&(l(0,"small",92),u(1," El stock se configura individualmente por variante "),c())}function _I(t,n){if(t&1&&(l(0,"div",93)(1,"p")(2,"strong"),u(3,"Total de variantes:"),c(),u(4),c(),l(5,"p")(6,"strong"),u(7,"Stock total:"),c(),u(8),c()()),t&2){let e=m();p(4),D(" ",e.variantesStock.length,""),p(4),D(" ",e.stockTotal," unidades Bell")}}function CI(t,n){if(t&1){let e=S();l(0,"tr")(1,"td"),H(2,"span",101),u(3),c(),l(4,"td"),u(5),c(),l(6,"td")(7,"code"),u(8),c()(),l(9,"td")(10,"input",102),v("input",function(o){let r=C(e).index,s=m(2);return x(s.onStockChange(r,o))}),c()()()}if(t&2){let e=n.$implicit,i=m(2);p(2),st("background-color",i.getColorValue(e.color)),p(),D(" ",e.color," "),p(2),w(e.talle),p(3),w(e.sku),p(2),h("value",e.stock)}}function xI(t,n){if(t&1&&(l(0,"div",103)(1,"div",104),H(2,"div",105),c(),l(3,"small"),u(4),Xe(5,"number"),c()()),t&2){let e=m(2);p(2),st("width",e.stockTotal/e.productData.stock*100,"%"),p(2),Md(" ",e.stockTotal," / ",e.productData.stock," unidades (",et(5,5,e.stockTotal/e.productData.stock*100,"1.0-0"),"%) ")}}function bI(t,n){if(t&1&&(l(0,"div",94)(1,"h4"),u(2,"Stock por Variante"),c(),l(3,"div",95)(4,"table",96)(5,"thead")(6,"tr")(7,"th"),u(8,"Color"),c(),l(9,"th"),u(10,"Talle"),c(),l(11,"th"),u(12,"SKU"),c(),l(13,"th"),u(14,"Stock"),c()()(),l(15,"tbody"),b(16,CI,11,6,"tr",97),c()()(),l(17,"div",98)(18,"div",99)(19,"strong"),u(20,"\u{1F4C8} Resumen:"),c(),u(21),b(22,xI,6,8,"div",100),c()()()),t&2){let e=m();p(16),h("ngForOf",e.variantesStock)("ngForTrackBy",e.trackByVariante),p(5),Pe(" Total de ",e.stockTotal," unidades distribuidas en ",e.variantesStock.length," variantes "),p(),h("ngIf",e.productData.stock)}}function yI(t,n){t&1&&(l(0,"span"),u(1,"\u23F3"),c())}function EI(t,n){t&1&&(l(0,"span"),u(1,"\u2705"),c())}function MI(t,n){if(t&1&&(l(0,"div",85),u(1),c()),t&2){let e=m();p(),D(" \u274C ",e.error," ")}}function wI(t,n){if(t&1&&(l(0,"div",106),u(1),c()),t&2){let e=m();p(),D(" \u2705 ",e.success," ")}}function DI(t,n){if(t&1){let e=S();l(0,"div",117),v("click",function(){let o=C(e).$implicit,r=m(3);return x(r.scrollToResult(o))}),l(1,"div",118),u(2),c(),l(3,"div",119)(4,"div",120),u(5),c(),l(6,"div",121),u(7),c()()()}if(t&2){let e=n.$implicit;p(2),w(e.type==="campo"?"\u{1F4DD}":"\u{1F4C4}"),p(3),w(e.title),p(2),w(e.description)}}function PI(t,n){if(t&1&&(l(0,"div",115),b(1,DI,8,3,"div",116),c()),t&2){let e=m(2);p(),h("ngForOf",e.searchResults)}}function SI(t,n){if(t&1&&(l(0,"div",122)(1,"p"),u(2),c()()),t&2){let e=m(2);p(2),D('No se encontraron resultados para "',e.searchTerm,'"')}}function II(t,n){if(t&1){let e=S();l(0,"div",107),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),l(1,"div",108),v("click",function(o){return C(e),x(o.stopPropagation())}),l(2,"div",109)(3,"h3"),u(4,"Buscar en la p\xE1gina"),c(),l(5,"button",110),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),u(6,"\xD7"),c()(),l(7,"div",111)(8,"input",112),L("ngModelChange",function(o){C(e);let r=m();return j(r.searchTerm,o)||(r.searchTerm=o),x(o)}),v("input",function(){C(e);let o=m();return x(o.performSearch())}),c()(),b(9,PI,2,1,"div",113)(10,SI,3,1,"div",114),c()()}if(t&2){let e=m();p(8),V("ngModel",e.searchTerm),p(),h("ngIf",e.searchResults.length>0),p(),h("ngIf",e.searchTerm&&e.searchResults.length===0)}}var J0=(()=>{class t{constructor(e,i,o,r,s){this.authService=e,this.cartService=i,this.productsService=o,this.router=r,this.cdr=s,this.productData={nombre:"",tipo:"",categoria:null,sku:"",colores:[],talles:[],precio:null,stock:null,descripcion:""},this.tipoProductos=["REMERA","MUSCULOSA","PANTALON","SHORT","BLUSA","MONO","VESTIDO","TOP","CARDIGAN","RUANA","SWEATER","BUFANDA","GORRO","MITONES","TAPADO","CAPA","SACO","BUZO","CAMPERA","CHALECO"],this.categoriasTalles=[{id:"letras",nombre:"Talles de Letras",opciones:["U","S/M","S/M/L","XS/S/M/L","S/M/L/XL","XS/S/M/L/XL"]},{id:"numericos",nombre:"Talles Num\xE9ricos",opciones:["40/42","40/42/44","38/40/42/44","36/38/40/42","36/38/40/42/44"]}],this.categoriaTalleSeleccionada="letras",this.opcionesColores=["Blanco","Negro","Azul","Rojo","Verde","Amarillo","Naranja","Rosa","Violeta","Marr\xF3n","Gris","Beige","Celeste","Turquesa","Coral","Bordeaux","Navy","Khaki","Camel","Crudo"],this.loading=!1,this.error="",this.success="",this.cartItemCount=0,this.formSubmitted=!1,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[],this.showStockSection=!1,this.variantesStock=[],this.stockTotal=0}ngOnInit(){if(!this.authService.isAdmin()){this.router.navigate(["/catalog"]);return}this.updateCartCount()}onSubmit(){if(this.loading)return;if(this.formSubmitted=!0,this.loading=!0,this.error="",this.success="",!this.validateForm()){this.loading=!1;return}if(this.showStockSection&&!this.validarStockVariantes()){this.loading=!1;return}let e=O({},this.productData);if(this.showStockSection&&this.variantesStock.length>0){let i={},o=0;this.variantesStock.forEach(r=>{let s=`${r.color}-${r.talle}`,a=r.stock||0;i[s]=a,o+=a,console.log("\u{1F535} [FRONTEND] Agregando stock:",s,"=",a)}),e.stockPorVariante=i,e.stock=o,this.productData.stock=o,console.log("\u{1F535} [FRONTEND] Stock por variante:",i),console.log("\u{1F535} [FRONTEND] Stock total calculado (suma de individuales):",o)}console.log("\u{1F535} [FRONTEND] Datos del producto a crear:",e),console.log("\u{1F535} [FRONTEND] Tipo:",e.tipo),console.log("\u{1F535} [FRONTEND] Categor\xEDa:",e.categoria),console.log("\u{1F535} [FRONTEND] Colores:",e.colores),console.log("\u{1F535} [FRONTEND] Talles:",e.talles),console.log("\u{1F535} [FRONTEND] Precio:",e.precio),console.log("\u{1F535} [FRONTEND] Stock:",e.stock),console.log("\u{1F535} [FRONTEND] Stock por variante:",e.stockPorVariante),console.log("\u{1F535} [FRONTEND] \u{1F50D} VERIFICACI\xD3N DETALLADA DEL STOCK POR VARIANTE:"),console.log("\u{1F535} [FRONTEND] - Tipo de stockPorVariante:",typeof e.stockPorVariante),console.log("\u{1F535} [FRONTEND] - Es null?:",e.stockPorVariante===null),console.log("\u{1F535} [FRONTEND] - Es undefined?:",e.stockPorVariante===void 0),console.log("\u{1F535} [FRONTEND] - Contenido completo:",JSON.stringify(e.stockPorVariante)),console.log("\u{1F535} [FRONTEND] \u2B50 IMAGEN en formulario:",{imagen:e.imagen,esFile:e.imagen instanceof File,nombre:e.imagen?.name,tama\u00F1o:e.imagen?.size}),console.log("\u{1F535} [FRONTEND] \u{1F4CB} COMPLETE productData object:",Q(O({},e),{imagenInfo:{existe:!!e.imagen,tipo:typeof e.imagen,esFile:e.imagen instanceof File,nombre:e.imagen?.name,tama\u00F1o:e.imagen?.size}})),this.productsService.createProduct(e).subscribe({next:i=>{this.loading=!1,this.productData.imagen&&this.productData.imagen instanceof File?(console.log("\u{1F535} [FRONTEND] Verificando si la imagen se proces\xF3 correctamente..."),this.success="Producto creado exitosamente. Nota: Si seleccionaste una imagen personalizada y no se muestra, puede deberse a un problema temporal con el servidor de archivos."):this.success="Producto creado exitosamente",console.log("Producto creado:",i),this.resetForm(),setTimeout(()=>{this.router.navigate(["/catalog"])},2e3)},error:i=>{this.loading=!1,console.error("\u{1F534} [FRONTEND] Error al crear producto:",i),console.error("\u{1F534} [FRONTEND] Error completo:",JSON.stringify(i,null,2)),console.error("\u{1F534} [FRONTEND] Error body:",i.error),console.error("\u{1F534} [FRONTEND] Error message:",i.error?.error||i.error?.message||i.message);let o="Error al crear el producto. Int\xE9ntalo de nuevo.";if(i.status===400){let r=i.error?.error||i.error?.message||"Error desconocido";o=`Error 400: ${r}`,console.error("\u{1F534} [FRONTEND] Mensaje del backend:",r)}else i.status===500?o="Error del servidor. Int\xE9ntalo m\xE1s tarde.":i.message&&i.message.includes("HTML")&&(o="Error al subir la imagen personalizada. El producto se crear\xE1 con imagen por defecto. Int\xE9ntalo de nuevo.");this.error=o}})}validateForm(){return this.productData.nombre.trim()?this.productData.tipo?this.productData.categoria?this.productData.sku.trim()?this.productData.colores.length===0?(this.error="Debes seleccionar al menos un color",!1):this.productData.talles.length===0?(this.error="Debes seleccionar al menos un talle",!1):!this.productData.precio||this.productData.precio<=0?(this.error="El precio debe ser mayor a 0",!1):!this.showStockSection&&(this.productData.stock===null||this.productData.stock<0)?(this.error="El stock debe ser mayor o igual a 0",!1):!0:(this.error="El SKU es obligatorio",!1):(this.error="Debes seleccionar una categor\xEDa",!1):(this.error="Debes seleccionar un tipo de producto",!1):(this.error="El nombre del producto es obligatorio",!1)}resetForm(){this.productData={nombre:"",tipo:"",categoria:null,sku:"",colores:[],talles:[],precio:null,stock:null,descripcion:""},this.categoriaTalleSeleccionada="letras",this.formSubmitted=!1,this.productData.imagen=void 0,this.productData.imagenBase64=void 0}selectTalleCategory(e){this.productData.talles=[],this.categoriaTalleSeleccionada=e}getTallesDisponibles(){if(!this.categoriaTalleSeleccionada)return[];let e=this.categoriasTalles.find(i=>i.id===this.categoriaTalleSeleccionada);return e?e.opciones:[]}toggleTalle(e){this.productData.talles.includes(e)?this.productData.talles=[]:this.productData.talles=[e]}toggleColor(e){let i=this.productData.colores.indexOf(e);i>-1?this.productData.colores.splice(i,1):this.productData.colores.push(e)}isTalleSelected(e){return this.productData.talles.length===1&&this.productData.talles[0]===e}isColorSelected(e){return this.productData.colores.includes(e)}onImageSelected(e){console.log("\u{1F535} [FRONTEND] onImageSelected ejecutado, archivos:",e.target.files);let i=e.target.files[0];if(i){if(console.log("\u{1F535} [FRONTEND] \u2705 Archivo seleccionado:",i.name,"Tama\xF1o:",i.size,"Tipo:",i.type),i.size>5*1024*1024){this.error="La imagen es demasiado grande. Tama\xF1o m\xE1ximo: 5MB";return}if(!i.type.startsWith("image/")){this.error="Por favor selecciona un archivo de imagen v\xE1lido";return}this.productData.imagen=i,console.log("\u{1F535} [FRONTEND] \u2705 Imagen asignada a productData.imagen:",this.productData.imagen);let o=new FileReader;o.onload=r=>{this.productData.imagenBase64=r.target?.result,console.log("\u{1F535} [FRONTEND] Imagen convertida a base64, tama\xF1o:",i.size,"bytes")},o.readAsDataURL(i)}}onTipoChange(){}onSkuChange(e){let i=e.target.value.toUpperCase();this.productData.sku=i,e.target.value=i}generarVariantesStock(){if(!this.productData.colores.length||!this.productData.talles.length){this.error="Debe seleccionar al menos un color y un talle";return}this.variantesStock=[],this.stockTotal=0,this.showStockSection=!1;let e=[];for(let i of this.productData.colores)for(let o of this.productData.talles){let r=o.includes("/")?o.split("/"):[o];for(let s of r){let a=s.trim(),d=this.generarSku(this.productData.sku,i,a);e.push({color:i,talle:a,stock:0,sku:d})}}this.variantesStock=e,this.showStockSection=!0,this.error="",console.log("\u{1F535} [STOCK] Variantes generadas:",this.variantesStock),console.log("\u{1F535} [STOCK] Total variantes:",this.variantesStock.length),this.cdr.detectChanges()}onStockChange(e,i){let o=i.target.value,r=o===""?0:Number(o)||0;if(isNaN(r)||r<0){i.target.value=this.variantesStock[e].stock||0;return}this.variantesStock[e].stock=r,this.actualizarStockTotal()}actualizarStockTotal(){this.stockTotal=this.variantesStock.reduce((e,i)=>{let o=i.stock||0;return e+o},0),this.showStockSection&&(this.productData.stock=this.stockTotal),this.cdr.detectChanges(),console.log("\u{1F535} [STOCK] Stock total actualizado:",this.stockTotal),console.log("\u{1F535} [STOCK] Variantes:",this.variantesStock.map(e=>`${e.color}-${e.talle}: ${e.stock}`))}generarSku(e,i,o){let r=i.length>=2?i.substring(0,2).toUpperCase():i.toUpperCase();return`${e}-${r}-${o.toUpperCase().replaceAll("/","")}`}validarStockVariantes(){if(this.variantesStock.length===0)return!1;for(let e of this.variantesStock)if(e.stock<0)return this.error=`El stock de ${e.color} - ${e.talle} no puede ser negativo`,!1;return this.stockTotal===0?(this.error="Al menos una variante debe tener stock",!1):this.showStockSection&&this.productData.stock&&this.stockTotal!==this.productData.stock?(this.error=`El stock total distribuido (${this.stockTotal}) debe coincidir con el stock inicial (${this.productData.stock})`,!1):!0}trackByVariante(e,i){return i.sku}getColorValue(e){return{Blanco:"#ffffff",Negro:"#000000",Azul:"#007bff",Rojo:"#dc3545",Verde:"#28a745",Amarillo:"#ffc107",Naranja:"#fd7e14",Rosa:"#e83e8c",Violeta:"#6f42c1",Marr\u00F3n:"#795548",Gris:"#6c757d",Beige:"#f5f5dc",Celeste:"#17a2b8",Turquesa:"#20c997",Coral:"#ff7f50",Bordeaux:"#722f37",Navy:"#001f3f",Khaki:"#f0e68c",Camel:"#c19a6b",Crudo:"#f4f1e8"}[e]||"#cccccc"}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToCart(){this.router.navigate(["/cart"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p, label, input, select, textarea").forEach(o=>{let r=o.textContent?.toLowerCase()||"",s=o.getAttribute("placeholder")?.toLowerCase()||"",a=o.getAttribute("for")?.toLowerCase()||"";if(r.includes(e)||s.includes(e)||a.includes(e)){let d="elemento";(o.tagName==="LABEL"||o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA")&&(d="campo"),this.searchResults.push({type:d,title:o.textContent?.trim()||o.getAttribute("placeholder")||o.getAttribute("for")||"Elemento",description:d==="campo"?"Campo del formulario":"Elemento encontrado en la p\xE1gina",element:o})}})}scrollToResult(e){this.closeSearchModal(),e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}static{this.\u0275fac=function(i){return new(i||t)(M(ge),M(Ye),M(Do),M(le),M(qt))}}static{this.\u0275cmp=de({type:t,selectors:[["app-add-product-page"]],standalone:!0,features:[ue],decls:119,vars:39,consts:[["productForm","ngForm"],["imageInput",""],["nameInput",""],["descriptionInput",""],["priceInput",""],[1,"add-product-container"],[1,"admin-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"form-container"],[1,"form-header"],[1,"product-form","add-product-content",3,"ngSubmit"],[1,"product-header-section"],[1,"product-image-container"],["class","image-placeholder",3,"click",4,"ngIf"],["class","product-main-image",3,"src","alt","click",4,"ngIf"],["type","file","id","imagen-input","accept","image/*",2,"display","none",3,"change"],[1,"product-info-header"],[1,"product-name-container"],["type","text","id","nombre","name","nombre","required","","placeholder","Nombre del art\xEDculo",1,"product-name-input",3,"ngModelChange","ngModel"],[1,"product-description-container"],["id","descripcion","name","descripcion","rows","3","placeholder","Descripci\xF3n del producto...",1,"product-description-input",3,"ngModelChange","ngModel"],[1,"product-price-container"],[1,"product-price-input-wrapper"],[1,"price-prefix"],["type","number","id","precio-input","name","precio","required","","min","0","step","0.01","placeholder","0.00",1,"product-price-input",3,"ngModelChange","ngModel"],[1,"form-fields-section"],[1,"form-row"],[1,"form-group"],["for","tipo"],["id","tipo","name","tipo","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","categoria"],["id","categoria","name","categoria","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue"],["value","PLANO"],["value","TEJIDO"],[1,"form-help"],["for","sku"],["type","text","id","sku","name","sku","required","","placeholder","Ej: REM-001-TJ",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"color-options"],["class","color-option",3,"selected","click",4,"ngFor","ngForOf"],["class","selected-items",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"category-options"],["class","category-option",3,"selected","click",4,"ngFor","ngForOf"],["class","form-group",3,"error",4,"ngIf"],["for","stock"],["type","number","id","stock","name","stock","min","0","placeholder","0",1,"form-control",3,"ngModelChange","ngModel","required","disabled"],["class","form-help","style","color: #999; font-style: italic;",4,"ngIf"],[1,"stock-section"],[1,"stock-description"],[1,"stock-options"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["class","stock-info",4,"ngIf"],["class","variantes-table",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","success-message",4,"ngIf"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"image-placeholder",3,"click"],[1,"product-main-image",3,"click","src","alt"],[3,"value"],[1,"color-option",3,"click"],[1,"color-dot"],[1,"selected-items"],[1,"error-message"],[1,"category-option",3,"click"],[1,"category-name"],[1,"category-examples"],[1,"size-options"],["class","size-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"size-option",3,"click"],[1,"form-help",2,"color","#999","font-style","italic"],[1,"stock-info"],[1,"variantes-table"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"stock-summary"],[1,"alert","alert-info"],["class","stock-progress",4,"ngIf"],[1,"color-indicator"],["type","text","placeholder","0",1,"form-control","stock-input",3,"input","value"],[1,"stock-progress"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"success-message"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(i,o){if(i&1){let r=S();l(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),v("click",function(){return C(r),x(o.goToCatalog())}),l(4,"div",9),H(5,"img",10),c(),l(6,"span"),u(7,"HRK"),c()(),l(8,"nav",11)(9,"a",12),v("click",function(){return C(r),x(o.goToCatalog())}),u(10,"SHOP"),c(),l(11,"a",13),v("click",function(){return C(r),x(o.goToCatalog())}),u(12,"SALE"),c(),l(13,"a",14),v("click",function(){return C(r),x(o.goToInfo())}),u(14,"info"),c()()(),l(15,"div",15)(16,"button",16),v("click",function(){return C(r),x(o.goToCart())}),u(17," \u{1F6D2} "),b(18,oI,2,1,"span",17),c(),l(19,"button",18),v("click",function(){return C(r),x(o.openSearchModal())}),u(20," \u{1F50D} "),c(),l(21,"button",19),v("click",function(){return C(r),x(o.goToHistory())}),u(22," \u{1F4CB} "),c(),l(23,"button",20),v("click",function(){return C(r),x(o.goToProfile())}),H(24,"img",21),l(25,"span",22),u(26,"\u{1F464}"),c()(),l(27,"button",23),v("click",function(){return C(r),x(o.logout())}),u(28," Cerrar Sesi\xF3n "),c()()(),l(29,"div",24)(30,"div",25)(31,"h1"),u(32,"\u2795 Agregar Nuevo Producto"),c()(),l(33,"form",26,0),v("ngSubmit",function(){return C(r),x(o.onSubmit())}),l(35,"div",27)(36,"div",28),b(37,rI,2,0,"div",29)(38,sI,1,2,"img",30),l(39,"input",31,1),v("change",function(a){return C(r),x(o.onImageSelected(a))}),c()(),l(41,"div",32)(42,"div",33)(43,"input",34,2),L("ngModelChange",function(a){return C(r),j(o.productData.nombre,a)||(o.productData.nombre=a),x(a)}),c()(),l(45,"div",35)(46,"textarea",36,3),L("ngModelChange",function(a){return C(r),j(o.productData.descripcion,a)||(o.productData.descripcion=a),x(a)}),c()(),l(48,"div",37)(49,"div",38)(50,"span",39),u(51,"$"),c(),l(52,"input",40,4),L("ngModelChange",function(a){return C(r),j(o.productData.precio,a)||(o.productData.precio=a),x(a)}),c()()()()(),l(54,"div",41)(55,"div",42)(56,"div",43)(57,"label",44),u(58,"Tipo de Producto *"),c(),l(59,"select",45),L("ngModelChange",function(a){return C(r),j(o.productData.tipo,a)||(o.productData.tipo=a),x(a)}),v("ngModelChange",function(){return C(r),x(o.onTipoChange())}),l(60,"option",46),u(61,"Seleccionar tipo..."),c(),b(62,aI,2,2,"option",47),c()(),l(63,"div",43)(64,"label",48),u(65,"Categor\xEDa *"),c(),l(66,"select",49),L("ngModelChange",function(a){return C(r),j(o.productData.categoria,a)||(o.productData.categoria=a),x(a)}),l(67,"option",50),u(68,"Seleccionar categor\xEDa..."),c(),l(69,"option",51),u(70,"Plano (se compra en rollo)"),c(),l(71,"option",52),u(72,"Tejido (se hace en rectil\xEDnea)"),c()(),l(73,"small",53),u(74,"Plano: se compra en rollo. Tejido: se hace en rectil\xEDnea"),c()()(),l(75,"div",43)(76,"label",54),u(77,"SKU *"),c(),l(78,"input",55),L("ngModelChange",function(a){return C(r),j(o.productData.sku,a)||(o.productData.sku=a),x(a)}),v("input",function(a){return C(r),x(o.onSkuChange(a))}),c()(),l(79,"div",43)(80,"label"),u(81,"Colores Disponibles *"),c(),l(82,"div",56),b(83,cI,3,5,"div",57),c(),b(84,lI,4,1,"div",58)(85,dI,2,0,"div",59),c(),l(86,"div",43)(87,"label"),u(88,"Categor\xEDa de Talles *"),c(),l(89,"div",60),b(90,uI,5,4,"div",61),c(),b(91,pI,2,0,"div",59),c(),b(92,mI,7,5,"div",62),l(93,"div",43)(94,"label",63),u(95,"Stock Inicial *"),c(),l(96,"input",64),L("ngModelChange",function(a){return C(r),j(o.productData.stock,a)||(o.productData.stock=a),x(a)}),c(),b(97,vI,2,0,"small",65),c(),l(98,"div",43)(99,"div",66)(100,"h3"),u(101,"\u{1F4CA} Distribuci\xF3n de Stock por Variante"),c(),l(102,"p",67),u(103," Puedes distribuir el stock de forma personalizada para cada variante, o usar la distribuci\xF3n autom\xE1tica igualitaria. "),c(),l(104,"div",68)(105,"button",69),v("click",function(){return C(r),x(o.generarVariantesStock())}),u(106," \u{1F3AF} Configurar Stock Individual "),c(),b(107,_I,9,2,"div",70),c(),b(108,bI,23,5,"div",71),c()(),l(109,"div",72)(110,"button",73),v("click",function(){return C(r),x(o.goToCatalog())}),u(111," Cancelar "),c(),l(112,"button",74),b(113,yI,2,0,"span",75)(114,EI,2,0,"span",75),u(115),c()(),b(116,MI,2,1,"div",59)(117,wI,2,1,"div",76),c()()(),b(118,II,11,3,"div",77),c()}if(i&2){let r=qe(34);p(18),h("ngIf",o.cartItemCount>0),p(19),h("ngIf",!o.productData.imagenBase64),p(),h("ngIf",o.productData.imagenBase64),p(5),V("ngModel",o.productData.nombre),p(3),V("ngModel",o.productData.descripcion),p(6),V("ngModel",o.productData.precio),p(7),V("ngModel",o.productData.tipo),p(3),h("ngForOf",o.tipoProductos),p(4),V("ngModel",o.productData.categoria),p(),h("ngValue",null),p(11),V("ngModel",o.productData.sku),p(),B("error",o.formSubmitted&&o.productData.colores.length===0),p(4),h("ngForOf",o.opcionesColores),p(),h("ngIf",o.productData.colores.length>0),p(),h("ngIf",o.formSubmitted&&o.productData.colores.length===0),p(),B("error",o.formSubmitted&&!o.categoriaTalleSeleccionada),p(4),h("ngForOf",o.categoriasTalles),p(),h("ngIf",o.formSubmitted&&!o.categoriaTalleSeleccionada),p(),h("ngIf",o.categoriaTalleSeleccionada),p(2),B("disabled-label",o.showStockSection),p(2),B("disabled-input",o.showStockSection),V("ngModel",o.productData.stock),h("required",!o.showStockSection)("disabled",o.showStockSection),p(),h("ngIf",o.showStockSection),p(8),h("disabled",!o.productData.colores.length||!o.productData.talles.length),p(2),h("ngIf",o.showStockSection),p(),h("ngIf",o.showStockSection&&o.variantesStock.length>0),p(4),h("disabled",!r.valid||o.loading),p(),h("ngIf",o.loading),p(),h("ngIf",!o.loading),p(),D(" ",o.loading?"Guardando...":"Guardar Producto"," "),p(),h("ngIf",o.error),p(),h("ngIf",o.success),p(),h("ngIf",o.showSearchModal)}},dependencies:[_e,je,be,co,ye,oi,un,pn,Me,Sr,Ft,we,ii,Kt,Or,Ee,Nn],styles:[".add-product-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.admin-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.main-nav[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:600;cursor:pointer;transition:color .3s}.nav-item[_ngcontent-%COMP%]:hover{color:#ccc}.nav-item.sale[_ngcontent-%COMP%]{color:#f44}.nav-item.info[_ngcontent-%COMP%]{color:#4caf50}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#f44;color:#fff;border-radius:50%;width:18px;height:18px;font-size:10px;display:flex;align-items:center;justify-content:center;font-weight:700}.logout-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-size:14px;transition:background .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#c82333}.form-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:0 20px}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;font-size:28px;margin-bottom:10px}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.product-form[_ngcontent-%COMP%], .add-product-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 6px #0000001a}.product-header-section[_ngcontent-%COMP%]{display:flex;gap:30px;margin-bottom:30px;padding-bottom:30px;border-bottom:2px solid #e1e5e9}@media (max-width: 768px){.product-header-section[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}}.product-image-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.product-image-container[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:12px;border:2px dashed #ccc;background:#f8f9fa;display:flex;align-items:center;justify-content:center;font-size:64px;cursor:pointer;transition:all .3s;color:#999}.product-image-container[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#e9ecef;color:#007bff;transform:scale(1.02)}.product-image-container[_ngcontent-%COMP%]   .product-main-image[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover;border-radius:12px;border:2px solid #e1e5e9;cursor:pointer;transition:all .3s}.product-image-container[_ngcontent-%COMP%]   .product-main-image[_ngcontent-%COMP%]:hover{border-color:#007bff;box-shadow:0 4px 12px #007bff33}.product-info-header[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:20px}.product-name-container[_ngcontent-%COMP%]   .product-name-input[_ngcontent-%COMP%]{font-size:28px;font-weight:700;padding:10px 15px;border:2px solid #e1e5e9;border-radius:8px;width:100%;background:#f8f9fa;box-shadow:0 2px 4px #0000000d;transition:all .3s;color:#333}.product-name-container[_ngcontent-%COMP%]   .product-name-input[_ngcontent-%COMP%]::placeholder{color:#999;font-weight:500}.product-name-container[_ngcontent-%COMP%]   .product-name-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;background:#fff;box-shadow:0 4px 8px #007bff1a}.product-description-container[_ngcontent-%COMP%]   .product-description-input[_ngcontent-%COMP%]{width:100%;padding:15px;border:2px solid #e1e5e9;border-radius:8px;font-size:16px;font-family:inherit;resize:vertical;min-height:100px;background:#f8f9fa;box-shadow:0 2px 4px #0000000d;transition:all .3s;color:#333}.product-description-container[_ngcontent-%COMP%]   .product-description-input[_ngcontent-%COMP%]::placeholder{color:#999}.product-description-container[_ngcontent-%COMP%]   .product-description-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;background:#fff;box-shadow:0 4px 8px #007bff1a}.product-price-container[_ngcontent-%COMP%]   .product-price-input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:15px;border-radius:8px;background:#f8f9fa;border:2px solid #e1e5e9;box-shadow:0 2px 4px #0000000d;transition:all .3s;width:fit-content}.product-price-container[_ngcontent-%COMP%]   .product-price-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#007bff;background:#fff;box-shadow:0 4px 8px #007bff1a}.product-price-container[_ngcontent-%COMP%]   .product-price-input-wrapper[_ngcontent-%COMP%]   .price-prefix[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#333}.product-price-container[_ngcontent-%COMP%]   .product-price-input-wrapper[_ngcontent-%COMP%]   .product-price-input[_ngcontent-%COMP%]{font-size:18px;font-weight:600;padding:0;border:none;background:transparent;width:150px;color:#333}.product-price-container[_ngcontent-%COMP%]   .product-price-input-wrapper[_ngcontent-%COMP%]   .product-price-input[_ngcontent-%COMP%]::placeholder{color:#999}.product-price-container[_ngcontent-%COMP%]   .product-price-input-wrapper[_ngcontent-%COMP%]   .product-price-input[_ngcontent-%COMP%]:focus{outline:none}.form-fields-section[_ngcontent-%COMP%]{margin-top:30px;padding-top:30px;border-top:2px solid #e1e5e9}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:8px;font-size:14px}.form-control[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid #e1e5e9;border-radius:6px;font-size:14px;transition:border-color .3s;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-control.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#17a2b8}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-control.disabled-input[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]:disabled{background-color:#e9ecef;color:#6c757d;cursor:not-allowed;border-color:#ced4da;opacity:.7}.form-group[_ngcontent-%COMP%]   label.disabled-label[_ngcontent-%COMP%]{color:#6c757d;opacity:.7}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:30px;padding-top:20px;border-top:1px solid #e1e5e9}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s;font-size:14px;display:flex;align-items:center;gap:8px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6268}.btn-primary[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0056b3;transform:translateY(-1px);box-shadow:0 4px 8px #007bff4d}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:12px 16px;border-radius:6px;margin-top:20px;border:1px solid #f5c6cb}.success-message[_ngcontent-%COMP%]{background:#d4edda;color:#155724;padding:12px 16px;border-radius:6px;margin-top:20px;border:1px solid #c3e6cb}.color-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px;margin-bottom:15px}.color-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 12px;border:2px solid #e1e5e9;border-radius:6px;cursor:pointer;transition:all .3s;background:#fff}.color-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9fa}.color-option.selected[_ngcontent-%COMP%]{border-color:#007bff;background:#e3f2fd}.color-dot[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;border:1px solid #ccc;flex-shrink:0}.size-options[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:15px}.size-option[_ngcontent-%COMP%]{padding:12px 20px;border:2px solid #e1e5e9;border-radius:6px;cursor:pointer;transition:all .3s;background:#fff;font-weight:600;text-align:center;min-width:60px}.size-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9fa}.size-option.selected[_ngcontent-%COMP%]{border-color:#007bff;background:#e3f2fd;color:#007bff}.category-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:15px}.category-option[_ngcontent-%COMP%]{padding:15px;border:2px solid #e1e5e9;border-radius:8px;cursor:pointer;transition:all .3s;background:#fff;text-align:center}.category-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9fa}.category-option.selected[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-color:#007bff}.category-name[_ngcontent-%COMP%]{font-weight:600;font-size:16px;margin-bottom:5px}.category-examples[_ngcontent-%COMP%]{font-size:12px;opacity:.8}.image-upload[_ngcontent-%COMP%]{position:relative}.file-input[_ngcontent-%COMP%]{display:none}.file-label[_ngcontent-%COMP%]{display:inline-block;padding:12px 20px;background:#f8f9fa;border:2px dashed #dee2e6;border-radius:6px;cursor:pointer;transition:all .3s;text-align:center;font-weight:600;color:#495057}.file-label[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#adb5bd}.image-preview[_ngcontent-%COMP%]{margin-top:10px;padding:10px;background:#f8f9fa;border-radius:6px;border:1px solid #dee2e6}.preview-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.preview-image[_ngcontent-%COMP%]{max-width:200px;max-height:150px;object-fit:cover;border-radius:4px;border:1px solid #ddd}.file-name[_ngcontent-%COMP%]{font-weight:600;color:#495057;text-align:center}.form-help[_ngcontent-%COMP%]{color:#6c757d;font-size:12px;margin-top:5px;display:block}.image-info[_ngcontent-%COMP%]{margin-top:8px}.image-note[_ngcontent-%COMP%]{color:#6c757d;font-size:12px;font-style:italic;background:#fff3cd;padding:8px;border-radius:4px;border-left:3px solid #ffc107;display:block}.selected-items[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0;padding:8px 12px;border-radius:4px;font-size:14px;margin-top:10px}.form-group.error[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#dc3545}.form-group.error[_ngcontent-%COMP%]   .color-options[_ngcontent-%COMP%], .form-group.error[_ngcontent-%COMP%]   .size-options[_ngcontent-%COMP%]{border:2px solid #dc3545;border-radius:6px;padding:10px;background:#fff5f5}.form-group.error[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(.ng-invalid){border-color:#e1e5e9}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.admin-header[_ngcontent-%COMP%]{padding:15px}.header-left[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%]{gap:15px}.header-right[_ngcontent-%COMP%]{gap:10px}.product-form[_ngcontent-%COMP%]{padding:20px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{justify-content:center}.color-options[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.size-options[_ngcontent-%COMP%]{justify-content:center}.size-option[_ngcontent-%COMP%]{min-width:50px;padding:10px 15px}}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}.stock-section[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;padding:20px;margin:20px 0}.stock-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin-bottom:10px;font-size:1.2rem}.stock-description[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:20px;font-size:.9rem}.stock-options[_ngcontent-%COMP%]{margin-bottom:20px}.stock-info[_ngcontent-%COMP%]{background:#e9ecef;padding:15px;border-radius:6px;margin-top:15px}.stock-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:.9rem}.variantes-table[_ngcontent-%COMP%]{margin-top:20px}.variantes-table[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#495057;margin-bottom:15px;font-size:1.1rem}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;margin-bottom:0;background-color:transparent;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;vertical-align:middle;border-top:1px solid #dee2e6}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom;border-bottom:2px solid #dee2e6;background-color:#f8f9fa;font-weight:600;color:#495057}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#0000000d}.color-indicator[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border-radius:50%;margin-right:8px;border:1px solid #dee2e6;vertical-align:middle}.stock-input[_ngcontent-%COMP%]{width:80px;text-align:center}.stock-summary[_ngcontent-%COMP%]{margin-top:20px}.alert[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:20px;border:1px solid transparent;border-radius:6px}.alert-info[_ngcontent-%COMP%]{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.btn-outline-primary[_ngcontent-%COMP%]{color:#007bff;border-color:#007bff;background-color:transparent;padding:8px 16px;border-radius:6px;border:1px solid #007bff;cursor:pointer;transition:all .3s}.btn-outline-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#007bff;color:#fff}.btn-outline-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-outline-secondary[_ngcontent-%COMP%]{color:#6c757d;border-color:#6c757d;background-color:transparent;padding:8px 16px;border-radius:6px;border:1px solid #6c757d;cursor:pointer;transition:all .3s}.btn-outline-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#6c757d;color:#fff}.btn-outline-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.stock-progress[_ngcontent-%COMP%]{margin-top:10px}.progress-bar-container[_ngcontent-%COMP%]{width:100%;height:8px;background-color:#e9ecef;border-radius:4px;overflow:hidden;margin-bottom:5px}.progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#28a745,#20c997);transition:width .3s ease;border-radius:4px}.alert-success[_ngcontent-%COMP%]{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-warning[_ngcontent-%COMP%]{color:#856404;background-color:#fff3cd;border-color:#ffeaa7}.alert-danger[_ngcontent-%COMP%]{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}"]})}}return t})();function OI(t,n){if(t&1&&(l(0,"span",31),u(1),c()),t&2){let e=m();p(),w(e.cartItemCount)}}function TI(t,n){t&1&&(l(0,"h1"),u(1,"Cargando producto..."),c())}function kI(t,n){t&1&&(l(0,"h1"),u(1,"\u270F\uFE0F Modificar Producto"),c())}function RI(t,n){t&1&&(l(0,"div",32),u(1,"Cargando producto..."),c())}function AI(t,n){if(t&1){let e=S();l(0,"h2",67),v("click",function(){C(e);let o=m(2);return x(o.toggleNameEdit())}),u(1),l(2,"span",68),u(3,"\u270F\uFE0F"),c()()}if(t&2){let e=m(2);p(),D(" ",e.productData.nombre," ")}}function NI(t,n){if(t&1){let e=S();l(0,"div",69)(1,"input",70,1),L("ngModelChange",function(o){C(e);let r=m(2);return j(r.productData.nombre,o)||(r.productData.nombre=o),x(o)}),v("blur",function(){C(e);let o=m(2);return x(o.toggleNameEdit())})("keyup.enter",function(){C(e);let o=m(2);return x(o.toggleNameEdit())}),c()()}if(t&2){let e=m(2);p(),V("ngModel",e.productData.nombre)}}function FI(t,n){if(t&1){let e=S();l(0,"p",71),v("click",function(){C(e);let o=m(2);return x(o.toggleDescriptionEdit())}),u(1),l(2,"span",68),u(3,"\u270F\uFE0F"),c()()}if(t&2){let e=m(2);p(),D(" ",e.productData.descripcion||"Sin descripci\xF3n"," ")}}function VI(t,n){if(t&1){let e=S();l(0,"div",72)(1,"textarea",73,2),L("ngModelChange",function(o){C(e);let r=m(2);return j(r.productData.descripcion,o)||(r.productData.descripcion=o),x(o)}),v("blur",function(){C(e);let o=m(2);return x(o.toggleDescriptionEdit())}),c()()}if(t&2){let e=m(2);p(),V("ngModel",e.productData.descripcion)}}function LI(t,n){if(t&1){let e=S();l(0,"div",74),v("click",function(){C(e);let o=m(2);return x(o.togglePriceEdit())}),l(1,"strong"),u(2,"Precio:"),c(),u(3),Xe(4,"number"),l(5,"span",68),u(6,"\u270F\uFE0F"),c()()}if(t&2){let e=m(2);p(3),D(" $",et(4,1,e.productData.precio,"1.2-2")," ")}}function jI(t,n){if(t&1){let e=S();l(0,"div",75)(1,"label",76),u(2,"Precio:"),c(),l(3,"input",77,3),L("ngModelChange",function(o){C(e);let r=m(2);return j(r.productData.precio,o)||(r.productData.precio=o),x(o)}),v("blur",function(){C(e);let o=m(2);return x(o.togglePriceEdit())})("keyup.enter",function(){C(e);let o=m(2);return x(o.togglePriceEdit())}),c()()}if(t&2){let e=m(2);p(3),V("ngModel",e.productData.precio)}}function UI(t,n){if(t&1&&(l(0,"span",88),u(1),c()),t&2){let e=m().$implicit;p(),Pe(" (",e.stock>e.stockOriginal?"+":"","",e.stock-e.stockOriginal,") ")}}function zI(t,n){if(t&1){let e=S();l(0,"tr")(1,"td"),H(2,"span",81),u(3),c(),l(4,"td"),u(5),c(),l(6,"td")(7,"code"),u(8),c()(),l(9,"td",82),u(10),c(),l(11,"td",83),u(12),b(13,UI,2,2,"span",84),c(),l(14,"td",85)(15,"button",86),v("click",function(){let o=C(e).index,r=m(3);return x(r.decrementStock(o))}),u(16," \u2212 "),c(),l(17,"button",87),v("click",function(){let o=C(e).index,r=m(3);return x(r.incrementStock(o))}),u(18," + "),c()()()}if(t&2){let e=n.$implicit,i=m(3);p(2),st("background-color",i.getColorValue(e.color)),p(),D(" ",e.color," "),p(2),w(e.talle),p(3),w(e.sku),p(2),w(e.stockOriginal),p(),B("stock-increased",e.stock>e.stockOriginal)("stock-decreased",e.stock<e.stockOriginal),p(),D(" ",e.stock," "),p(),h("ngIf",e.stock!==e.stockOriginal)}}function $I(t,n){if(t&1&&(l(0,"div",78)(1,"table",79)(2,"thead")(3,"tr")(4,"th"),u(5,"Color"),c(),l(6,"th"),u(7,"Talle"),c(),l(8,"th"),u(9,"SKU"),c(),l(10,"th"),u(11,"Stock Actual"),c(),l(12,"th"),u(13,"Nuevo Stock"),c(),l(14,"th"),u(15,"Acciones"),c()()(),l(16,"tbody"),b(17,zI,19,12,"tr",80),c()()()),t&2){let e=m(2);p(17),h("ngForOf",e.variantesStock)("ngForTrackBy",e.trackByVariante)}}function BI(t,n){t&1&&(l(0,"div",89)(1,"p"),u(2,"No hay variantes disponibles para este producto."),c()())}function HI(t,n){t&1&&(l(0,"span"),u(1,"\u23F3"),c())}function GI(t,n){t&1&&(l(0,"span"),u(1,"\u2705"),c())}function WI(t,n){if(t&1&&(l(0,"option",111),u(1),c()),t&2){let e=n.$implicit;h("value",e),p(),D(" ",e," ")}}function qI(t,n){if(t&1){let e=S();l(0,"div",112),v("click",function(){let o=C(e).$implicit,r=m(3);return x(r.toggleColor(o))}),H(1,"span",113),u(2),c()}if(t&2){let e=n.$implicit,i=m(3);B("selected",i.isColorSelected(e)),p(),st("background-color",i.getColorValue(e)),p(),D(" ",e," ")}}function YI(t,n){if(t&1&&(l(0,"div",114)(1,"strong"),u(2,"Seleccionados:"),c(),u(3),c()),t&2){let e=m(3);p(3),D(" ",e.productData.colores.join(", ")," ")}}function ZI(t,n){if(t&1){let e=S();l(0,"div",115),v("click",function(){let o=C(e).$implicit,r=m(3);return x(r.selectTalleCategory(o.id))}),l(1,"div",116),u(2),c(),l(3,"div",117),u(4),c()()}if(t&2){let e=n.$implicit,i=m(3);B("selected",i.categoriaTalleSeleccionada===e.id),p(2),w(e.nombre),p(2),w(e.opciones.join(", "))}}function KI(t,n){if(t&1){let e=S();l(0,"div",120),v("click",function(){let o=C(e).$implicit,r=m(4);return x(r.toggleTalle(o))}),u(1),c()}if(t&2){let e=n.$implicit,i=m(4);B("selected",i.isTalleSelected(e)),p(),D(" ",e," ")}}function QI(t,n){if(t&1&&(l(0,"div",114)(1,"strong"),u(2,"Seleccionado:"),c(),u(3),c()),t&2){let e=m(4);p(3),D(" ",e.productData.talles[0]," ")}}function JI(t,n){if(t&1&&(l(0,"div",93)(1,"label"),u(2,"Talles Espec\xEDficos *"),c(),l(3,"div",118),b(4,KI,2,3,"div",119),c(),b(5,QI,4,1,"div",107),c()),t&2){let e=m(3);B("error",e.formSubmitted&&e.productData.talles.length===0),p(4),h("ngForOf",e.getTallesDisponibles()),p(),h("ngIf",e.productData.talles.length>0)}}function XI(t,n){if(t&1){let e=S();l(0,"div",90)(1,"form",91,4),v("ngSubmit",function(){C(e);let o=m(2);return x(o.onSubmit())}),l(3,"div",92)(4,"div",93)(5,"label",94),u(6,"Tipo de Producto *"),c(),l(7,"select",95),L("ngModelChange",function(o){C(e);let r=m(2);return j(r.productData.tipo,o)||(r.productData.tipo=o),x(o)}),l(8,"option",96),u(9,"Seleccionar tipo..."),c(),b(10,WI,2,2,"option",97),c()(),l(11,"div",93)(12,"label",98),u(13,"Categor\xEDa *"),c(),l(14,"select",99),L("ngModelChange",function(o){C(e);let r=m(2);return j(r.productData.categoria,o)||(r.productData.categoria=o),x(o)}),l(15,"option",100),u(16,"Seleccionar categor\xEDa..."),c(),l(17,"option",101),u(18,"Plano (se compra en rollo)"),c(),l(19,"option",102),u(20,"Tejido (se hace en rectil\xEDnea)"),c()()()(),l(21,"div",93)(22,"label",103),u(23,"SKU *"),c(),l(24,"input",104),L("ngModelChange",function(o){C(e);let r=m(2);return j(r.productData.sku,o)||(r.productData.sku=o),x(o)}),v("input",function(o){C(e);let r=m(2);return x(r.onSkuChange(o))}),c()(),l(25,"div",93)(26,"label"),u(27,"Colores Disponibles *"),c(),l(28,"div",105),b(29,qI,3,5,"div",106),c(),b(30,YI,4,1,"div",107),c(),l(31,"div",93)(32,"label"),u(33,"Categor\xEDa de Talles *"),c(),l(34,"div",108),b(35,ZI,5,4,"div",109),c()(),b(36,JI,6,4,"div",110),c()()}if(t&2){let e=m(2);p(7),V("ngModel",e.productData.tipo),p(3),h("ngForOf",e.tipoProductos),p(4),V("ngModel",e.productData.categoria),p(),h("ngValue",null),p(9),V("ngModel",e.productData.sku),p(),B("error",e.formSubmitted&&e.productData.colores.length===0),p(4),h("ngForOf",e.opcionesColores),p(),h("ngIf",e.productData.colores.length>0),p(),B("error",e.formSubmitted&&!e.categoriaTalleSeleccionada),p(4),h("ngForOf",e.categoriasTalles),p(),h("ngIf",e.categoriaTalleSeleccionada)}}function eO(t,n){if(t&1&&(l(0,"div",121),u(1),c()),t&2){let e=m(2);p(),D(" \u274C ",e.error," ")}}function tO(t,n){if(t&1&&(l(0,"div",122),u(1),c()),t&2){let e=m(2);p(),D(" \u2705 ",e.success," ")}}function nO(t,n){if(t&1){let e=S();l(0,"div",33)(1,"div",34)(2,"div",35),H(3,"img",36),l(4,"button",37),v("click",function(){C(e);let o=m();return x(o.toggleImageEdit())}),u(5," \u270F\uFE0F "),c(),l(6,"input",38,0),v("change",function(o){C(e);let r=m();return x(r.onImageSelected(o))}),c()(),l(8,"div",39)(9,"div",40),b(10,AI,4,1,"h2",41)(11,NI,3,1,"div",42),c(),l(12,"div",43),b(13,FI,4,1,"p",44)(14,VI,3,1,"div",45),c(),l(15,"div",46),b(16,LI,7,4,"div",47)(17,jI,5,1,"div",48),c()()(),l(18,"div",49)(19,"h3"),u(20,"\u{1F4CA} Gesti\xF3n de Stock por Variante"),c(),b(21,$I,18,2,"div",50)(22,BI,3,0,"div",51),c(),l(23,"div",52)(24,"button",53),v("click",function(){C(e);let o=m();return x(o.onSubmit())}),b(25,HI,2,0,"span",26)(26,GI,2,0,"span",26),u(27),c(),l(28,"button",54),v("click",function(){C(e);let o=m();return x(o.goToCatalog())}),u(29," Cancelar "),c()(),l(30,"div",55)(31,"div",56)(32,"input",57),L("ngModelChange",function(o){C(e);let r=m();return j(r.productData.oculto,o)||(r.productData.oculto=o),x(o)}),c(),l(33,"label",58),u(34," Ocultar producto en el cat\xE1logo "),c()(),l(35,"small",59),u(36," Si est\xE1 marcado, el producto no se mostrar\xE1 en el cat\xE1logo para los clientes "),c()(),l(37,"div",60)(38,"button",61),v("click",function(){C(e);let o=m();return x(o.toggleAdvancedOptions())}),l(39,"span",62),u(40,"\u26A0\uFE0F"),c(),u(41," Modificar datos espec\xEDficos de la variante "),l(42,"span",63),u(43),c()(),b(44,XI,37,13,"div",64),c(),b(45,eO,2,1,"div",65)(46,tO,2,1,"div",66),c()}if(t&2){let e=m();p(3),h("src",e.productData.imagenBase64||e.imagenActualUrl,Jn)("alt",e.productData.nombre||"Imagen del producto"),p(7),h("ngIf",!e.editingName),p(),h("ngIf",e.editingName),p(2),h("ngIf",!e.editingDescription),p(),h("ngIf",e.editingDescription),p(2),h("ngIf",!e.editingPrice),p(),h("ngIf",e.editingPrice),p(4),h("ngIf",e.variantesStock.length>0),p(),h("ngIf",e.variantesStock.length===0),p(2),h("disabled",e.loading),p(),h("ngIf",e.loading),p(),h("ngIf",!e.loading),p(),D(" ",e.loading?"Guardando...":"Guardar Cambios"," "),p(),h("disabled",e.loading),p(4),V("ngModel",e.productData.oculto),p(11),w(e.showAdvancedOptions?"\u25BC":"\u25B6"),p(),h("ngIf",e.showAdvancedOptions),p(),h("ngIf",e.error),p(),h("ngIf",e.success)}}function iO(t,n){if(t&1&&(l(0,"li")(1,"strong"),u(2),c(),u(3),l(4,"span",136),u(5),c()()),t&2){let e=n.$implicit;p(2),w(e.sku),p(),Pe(" - ",e.color," / ",e.talle," "),p(2),Pe(" Stock actual: ",e.stockActual," | Pedidos: ",e.cantidadPedidos," ")}}function oO(t,n){if(t&1&&(l(0,"div",134)(1,"h4"),u(2,"Variantes afectadas:"),c(),l(3,"ul"),b(4,iO,6,5,"li",135),c()()),t&2){let e=m(2);p(4),h("ngForOf",e.variantesConPedidos)}}function rO(t,n){if(t&1){let e=S();l(0,"div",123),v("click",function(){C(e);let o=m();return x(o.cancelarActualizacionConVariantes())}),l(1,"div",124),v("click",function(o){return C(e),x(o.stopPropagation())}),l(2,"div",125)(3,"h3"),u(4,"\u26A0\uFE0F Variantes con Pedidos Asociados"),c(),l(5,"button",126),v("click",function(){C(e);let o=m();return x(o.cancelarActualizacionConVariantes())}),u(6,"\xD7"),c()(),l(7,"div",127)(8,"p",128),u(9," Este producto tiene "),l(10,"strong"),u(11),c(),u(12," variante(s) con pedidos asociados. "),c(),l(13,"p"),u(14," Si contin\xFAas, estas variantes "),l(15,"strong"),u(16,"NO ser\xE1n eliminadas"),c(),u(17,", pero su stock ser\xE1 puesto en "),l(18,"strong"),u(19,"0"),c(),u(20," para evitar futuros pedidos inconsistentes. "),c(),b(21,oO,5,1,"div",129),l(22,"p",130),u(23," \xBFDeseas continuar con la actualizaci\xF3n? "),c()(),l(24,"div",131)(25,"button",132),v("click",function(){C(e);let o=m();return x(o.cancelarActualizacionConVariantes())}),u(26," Cancelar "),c(),l(27,"button",133),v("click",function(){C(e);let o=m();return x(o.confirmarActualizacionConVariantes())}),u(28," Continuar (Poner stock en 0) "),c()()()()}if(t&2){let e=m();p(11),w(e.variantesConPedidos.length),p(10),h("ngIf",e.variantesConPedidos.length>0)}}function sO(t,n){if(t&1){let e=S();l(0,"div",146),v("click",function(){let o=C(e).$implicit,r=m(3);return x(r.scrollToResult(o))}),l(1,"div",147),u(2),c(),l(3,"div",148)(4,"div",149),u(5),c(),l(6,"div",150),u(7),c()()()}if(t&2){let e=n.$implicit;p(2),w(e.type==="campo"?"\u{1F4DD}":"\u{1F4C4}"),p(3),w(e.title),p(2),w(e.description)}}function aO(t,n){if(t&1&&(l(0,"div",144),b(1,sO,8,3,"div",145),c()),t&2){let e=m(2);p(),h("ngForOf",e.searchResults)}}function cO(t,n){if(t&1&&(l(0,"div",151)(1,"p"),u(2),c()()),t&2){let e=m(2);p(2),D('No se encontraron resultados para "',e.searchTerm,'"')}}function lO(t,n){if(t&1){let e=S();l(0,"div",137),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),l(1,"div",138),v("click",function(o){return C(e),x(o.stopPropagation())}),l(2,"div",139)(3,"h3"),u(4,"Buscar en la p\xE1gina"),c(),l(5,"button",126),v("click",function(){C(e);let o=m();return x(o.closeSearchModal())}),u(6,"\xD7"),c()(),l(7,"div",140)(8,"input",141),L("ngModelChange",function(o){C(e);let r=m();return j(r.searchTerm,o)||(r.searchTerm=o),x(o)}),v("input",function(){C(e);let o=m();return x(o.performSearch())}),c()(),b(9,aO,2,1,"div",142)(10,cO,3,1,"div",143),c()()}if(t&2){let e=m();p(8),V("ngModel",e.searchTerm),p(),h("ngIf",e.searchResults.length>0),p(),h("ngIf",e.searchTerm&&e.searchResults.length===0)}}var X0=(()=>{class t{constructor(e,i,o,r,s,a){this.authService=e,this.cartService=i,this.productsService=o,this.router=r,this.route=s,this.cdr=a,this.productData={nombre:"",tipo:"",categoria:null,sku:"",colores:[],talles:[],precio:null,stock:null,descripcion:"",oculto:!1},this.tipoProductos=["REMERA","MUSCULOSA","PANTALON","SHORT","BLUSA","MONO","VESTIDO","TOP","CARDIGAN","RUANA","SWEATER","BUFANDA","GORRO","MITONES","TAPADO","CAPA","SACO","BUZO","CAMPERA","CHALECO"],this.categoriasTalles=[{id:"letras",nombre:"Talles de Letras",opciones:["U","S/M","S/M/L","XS/S/M/L","S/M/L/XL","XS/S/M/L/XL"]},{id:"numericos",nombre:"Talles Num\xE9ricos",opciones:["40/42","40/42/44","38/40/42/44","36/38/40/42","36/38/40/42/44"]}],this.categoriaTalleSeleccionada=null,this.opcionesColores=["Blanco","Negro","Azul","Rojo","Verde","Amarillo","Naranja","Rosa","Violeta","Marr\xF3n","Gris","Beige","Celeste","Turquesa","Coral","Bordeaux","Navy","Khaki","Camel","Crudo"],this.loading=!1,this.loadingProduct=!0,this.error="",this.success="",this.cartItemCount=0,this.formSubmitted=!1,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[],this.showStockSection=!1,this.variantesStock=[],this.stockTotal=0,this.imagenActualUrl=null,this.showConfirmDialog=!1,this.variantesConPedidos=[],this.datosPendientes=null,this.editingName=!1,this.editingDescription=!1,this.editingPrice=!1,this.showAdvancedOptions=!1}ngOnInit(){if(!this.authService.isAdmin()){this.router.navigate(["/catalog"]);return}this.route.params.subscribe(e=>{this.productId=+e.id,this.loadProduct()}),this.updateCartCount()}loadProduct(){this.loadingProduct=!0,this.productsService.getById(this.productId).subscribe({next:e=>{this.populateForm(e),this.loadingProduct=!1},error:e=>{console.error("Error al cargar producto:",e),this.error="Producto no encontrado",this.loadingProduct=!1,setTimeout(()=>this.router.navigate(["/catalog"]),2e3)}})}populateForm(e){this.productData.nombre=e.nombre,this.productData.tipo=e.tipo,this.productData.categoria=e.categoria,this.productData.descripcion=e.descripcion||"",this.productData.oculto=e.oculto===!0,console.log("\u{1F535} [EDIT PRODUCT] Producto cargado - oculto:",e.oculto,"->",this.productData.oculto),this.imagenActualUrl=e.imagenUrl;let i=[...new Set(e.variantes.map(s=>s.color))],o=[...new Set(e.variantes.map(s=>s.talle))];this.productData.colores=i,o.some(s=>["U","S","M","L","XL","XS"].includes(s))?this.categoriaTalleSeleccionada="letras":this.categoriaTalleSeleccionada="numericos";let r=this.agruparTalles(o);if(this.productData.talles=r.length>0?[r[0]]:[],e.variantes.length>0){let a=e.variantes[0].sku.split("-");a.length>=1&&(this.productData.sku=a[0])}e.variantes.length>0&&(this.productData.precio=e.variantes[0].precio),this.variantesStock=e.variantes.map(s=>({color:s.color,talle:s.talle,stock:s.stockDisponible,stockOriginal:s.stockDisponible,sku:s.sku})),this.showStockSection=this.variantesStock.length>0,this.cdr.detectChanges()}agruparTalles(e){if(e.length<=1)return e;let i=["XS","S","M","L","XL","U"],o=e.filter(s=>i.includes(s.toUpperCase())),r=e.filter(s=>!i.includes(s.toUpperCase()));return o.length>1?[o.join("/")]:r.length>1?[r.join("/")]:e}onSubmit(){if(this.loading)return;if(this.formSubmitted=!0,this.loading=!0,this.error="",this.success="",!this.validateForm()){this.loading=!1;return}if(this.variantesStock.length===0){this.error="No hay variantes para actualizar",this.loading=!1;return}let e={nombre:this.productData.nombre,tipo:this.productData.tipo,categoria:this.productData.categoria,sku:this.productData.sku,descripcion:this.productData.descripcion||"",oculto:this.productData.oculto===!0};if(console.log("\u{1F535} [EDIT PRODUCT] Enviando datos con oculto:",e.oculto),this.variantesStock.length>0){let i={};this.variantesStock.forEach(o=>{let r=`${o.color}-${o.talle}`;i[r]=o.stock||0}),e.stockPorVariante=i}this.productData.imagen&&this.productData.imagen instanceof File&&(e.imagen=this.productData.imagen),this.showAdvancedOptions&&(e.colores=this.productData.colores,e.talles=this.productData.talles),this.productData.precio!=null&&this.productData.precio>0&&(e.precio=this.productData.precio),this.productsService.updateProduct(this.productId,e,!1).subscribe({next:i=>{this.loading=!1,this.success="Producto actualizado exitosamente",console.log("\u2705 [EDIT PRODUCT] Producto actualizado:",i),console.log("\u2705 [EDIT PRODUCT] Producto oculto en respuesta:",i.oculto),setTimeout(()=>{this.router.navigate(["/catalog"])},2e3)},error:i=>{if(this.loading=!1,console.error("\u{1F534} [FRONTEND] Error al actualizar producto:",i),console.error("\u{1F534} [FRONTEND] Error status:",i.status),console.error("\u{1F534} [FRONTEND] Error message:",i.message),console.error("\u{1F534} [FRONTEND] Error body:",i.error),i.status===409&&i.error?.requiereConfirmacion){console.log("\u{1F7E1} [FRONTEND] Variantes con pedidos detectadas, mostrando di\xE1logo de confirmaci\xF3n"),this.variantesConPedidos=i.error?.verificacion?.variantesConPedidos||[],this.datosPendientes=e,this.showConfirmDialog=!0;return}let o="Error al actualizar el producto. Int\xE9ntalo de nuevo.";if(i.status===400)o="Error 400: Datos inv\xE1lidos. Revisa que todos los campos est\xE9n completos.";else if(i.status===500){let r=i.error?.error||i.message;o=`Error del servidor: ${r}`,console.error("\u{1F534} [FRONTEND] Mensaje del servidor:",r)}this.error=o}})}validateForm(){return this.productData.nombre.trim()?this.productData.tipo?this.productData.categoria?this.productData.sku.trim()?this.productData.colores.length===0?(this.error="Debes seleccionar al menos un color",!1):this.productData.talles.length===0?(this.error="Debes seleccionar al menos un talle",!1):!this.productData.precio||this.productData.precio<=0?(this.error="El precio debe ser mayor a 0",!1):!0:(this.error="El SKU es obligatorio",!1):(this.error="Debes seleccionar una categor\xEDa",!1):(this.error="Debes seleccionar un tipo de producto",!1):(this.error="El nombre del producto es obligatorio",!1)}selectTalleCategory(e){this.productData.talles=[],this.categoriaTalleSeleccionada=e}getTallesDisponibles(){if(!this.categoriaTalleSeleccionada)return[];let e=this.categoriasTalles.find(i=>i.id===this.categoriaTalleSeleccionada);return e?e.opciones:[]}toggleTalle(e){this.productData.talles.includes(e)?this.productData.talles=[]:this.productData.talles=[e]}toggleColor(e){let i=this.productData.colores.indexOf(e);i>-1?this.productData.colores.splice(i,1):this.productData.colores.push(e)}isTalleSelected(e){return this.productData.talles.length===1&&this.productData.talles[0]===e}isColorSelected(e){return this.productData.colores.includes(e)}onTipoChange(){}onSkuChange(e){let i=e.target.value.toUpperCase();this.productData.sku=i,e.target.value=i}onImageSelected(e){let i=e.target.files[0];if(i){if(i.size>5*1024*1024){this.error="La imagen es demasiado grande. Tama\xF1o m\xE1ximo: 5MB";return}if(!i.type.startsWith("image/")){this.error="Por favor selecciona un archivo de imagen v\xE1lido";return}this.productData.imagen=i;let o=new FileReader;o.onload=r=>{this.productData.imagenBase64=r.target?.result},o.readAsDataURL(i)}}generarVariantesStock(){if(!this.productData.colores.length||!this.productData.talles.length){this.error="Debe seleccionar al menos un color y un talle";return}this.variantesStock=[],this.stockTotal=0,this.showStockSection=!1;let e=[];for(let i of this.productData.colores)for(let o of this.productData.talles){let r=o.includes("/")?o.split("/"):[o];for(let s of r){let a=s.trim(),d=this.generarSku(this.productData.sku,i,a);e.push({color:i,talle:a,stock:0,stockOriginal:0,sku:d})}}this.variantesStock=e,this.showStockSection=!0,this.error="",this.cdr.detectChanges()}onStockChange(e,i){let o=i.target.value,r=o===""?0:Number(o)||0;if(isNaN(r)||r<0){i.target.value=this.variantesStock[e].stock||0;return}this.variantesStock[e].stock=r,this.actualizarStockTotal()}actualizarStockTotal(){this.stockTotal=this.variantesStock.reduce((e,i)=>e+(i.stock||0),0),this.cdr.detectChanges()}generarSku(e,i,o){let r=i.length>=2?i.substring(0,2).toUpperCase():i.toUpperCase();return`${e}-${r}-${o.toUpperCase().replaceAll("/","")}`}validarStockVariantes(){if(this.variantesStock.length===0)return!1;for(let e of this.variantesStock)if(e.stock<0)return this.error=`El stock de ${e.color} - ${e.talle} no puede ser negativo`,!1;return!0}trackByVariante(e,i){return i.sku}getColorValue(e){return{Blanco:"#ffffff",Negro:"#000000",Azul:"#007bff",Rojo:"#dc3545",Verde:"#28a745",Amarillo:"#ffc107",Naranja:"#fd7e14",Rosa:"#e83e8c",Violeta:"#6f42c1",Marr\u00F3n:"#795548",Gris:"#6c757d",Beige:"#f5f5dc",Celeste:"#17a2b8",Turquesa:"#20c997",Coral:"#ff7f50",Bordeaux:"#722f37",Navy:"#001f3f",Khaki:"#f0e68c",Camel:"#c19a6b",Crudo:"#f4f1e8"}[e]||"#cccccc"}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToCart(){this.router.navigate(["/cart"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p, label, input, select, textarea").forEach(o=>{let r=o.textContent?.toLowerCase()||"",s=o.getAttribute("placeholder")?.toLowerCase()||"",a=o.getAttribute("for")?.toLowerCase()||"";if(r.includes(e)||s.includes(e)||a.includes(e)){let d="elemento";(o.tagName==="LABEL"||o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA")&&(d="campo"),this.searchResults.push({type:d,title:o.textContent?.trim()||o.getAttribute("placeholder")||o.getAttribute("for")||"Elemento",description:d==="campo"?"Campo del formulario":"Elemento encontrado en la p\xE1gina",element:o})}})}scrollToResult(e){this.closeSearchModal(),e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}confirmarActualizacionConVariantes(){this.datosPendientes&&(this.showConfirmDialog=!1,this.loading=!0,this.error="",console.log("\u{1F535} [FRONTEND] Confirmando actualizaci\xF3n con variantes con pedidos"),this.productsService.updateProduct(this.productId,this.datosPendientes,!0).subscribe({next:e=>{this.loading=!1,this.success="Producto actualizado exitosamente. Las variantes con pedidos fueron mantenidas con stock en 0.",console.log("Producto actualizado:",e),setTimeout(()=>{this.router.navigate(["/catalog"])},2e3)},error:e=>{this.loading=!1,console.error("Error al actualizar producto:",e);let i="Error al actualizar el producto. Int\xE9ntalo de nuevo.";e.status===400?i="Error 400: Datos inv\xE1lidos. Revisa que todos los campos est\xE9n completos.":e.status===500&&(i="Error del servidor. Int\xE9ntalo m\xE1s tarde."),this.error=i}}))}cancelarActualizacionConVariantes(){this.showConfirmDialog=!1,this.variantesConPedidos=[],this.datosPendientes=null,this.error=""}toggleImageEdit(){let e=document.getElementById("imagen-input");e&&e.click()}toggleNameEdit(){this.editingName=!this.editingName,this.editingName&&setTimeout(()=>{let e=document.querySelector(".name-input");e&&(e.focus(),e.select())},0)}toggleDescriptionEdit(){this.editingDescription=!this.editingDescription,this.editingDescription&&setTimeout(()=>{let e=document.querySelector(".description-input");e&&e.focus()},0)}togglePriceEdit(){this.editingPrice=!this.editingPrice,this.editingPrice&&setTimeout(()=>{let e=document.querySelector(".price-input");e&&(e.focus(),e.select())},0)}toggleAdvancedOptions(){this.showAdvancedOptions=!this.showAdvancedOptions}incrementStock(e){this.variantesStock[e]&&(this.variantesStock[e].stock=(this.variantesStock[e].stock||0)+1,this.cdr.detectChanges())}decrementStock(e){this.variantesStock[e]&&this.variantesStock[e].stock>0&&(this.variantesStock[e].stock=this.variantesStock[e].stock-1,this.cdr.detectChanges())}static{this.\u0275fac=function(i){return new(i||t)(M(ge),M(Ye),M(Do),M(le),M(dt),M(qt))}}static{this.\u0275cmp=de({type:t,selectors:[["app-edit-product-page"]],standalone:!0,features:[ue],decls:37,vars:7,consts:[["imageInput",""],["nameInput",""],["descriptionInput",""],["priceInput",""],["advancedForm","ngForm"],[1,"edit-product-container","add-product-container"],[1,"admin-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"form-container"],[1,"form-header"],[4,"ngIf"],["class","loading",4,"ngIf"],["class","edit-product-content",4,"ngIf"],["class","confirm-dialog-overlay",3,"click",4,"ngIf"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"loading"],[1,"edit-product-content"],[1,"product-header-section"],[1,"product-image-container"],[1,"product-main-image",3,"src","alt"],["title","Cambiar imagen",1,"edit-icon-btn","image-edit-btn",3,"click"],["type","file","id","imagen-input","accept","image/*",2,"display","none",3,"change"],[1,"product-info-header"],[1,"product-name-container"],["class","product-name-display",3,"click",4,"ngIf"],["class","product-name-edit",4,"ngIf"],[1,"product-description-container"],["class","product-description-display",3,"click",4,"ngIf"],["class","product-description-edit",4,"ngIf"],[1,"product-price-container"],["class","product-price-display",3,"click",4,"ngIf"],["class","product-price-edit",4,"ngIf"],[1,"stock-section"],["class","variantes-table",4,"ngIf"],["class","no-variants",4,"ngIf"],[1,"save-section"],["type","button",1,"btn","btn-primary","btn-save",3,"click","disabled"],["type","button",1,"btn","btn-secondary","btn-cancel",3,"click","disabled"],[1,"ocultar-producto-section"],[1,"form-check"],["type","checkbox","id","oculto","name","oculto",1,"form-check-input",3,"ngModelChange","ngModel"],["for","oculto",1,"form-check-label"],[1,"form-text","text-muted"],[1,"advanced-section"],["type","button",1,"btn-advanced-toggle",3,"click"],[1,"warning-icon"],[1,"toggle-icon"],["class","advanced-options",4,"ngIf"],["class","error-message",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"product-name-display",3,"click"],[1,"edit-hint"],[1,"product-name-edit"],["type","text",1,"form-control","name-input",3,"ngModelChange","blur","keyup.enter","ngModel"],[1,"product-description-display",3,"click"],[1,"product-description-edit"],["rows","3",1,"form-control","description-input",3,"ngModelChange","blur","ngModel"],[1,"product-price-display",3,"click"],[1,"product-price-edit"],["for","precio-input"],["type","number","id","precio-input","min","0","step","0.01",1,"form-control","price-input",3,"ngModelChange","blur","keyup.enter","ngModel"],[1,"variantes-table"],[1,"table","table-striped"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"color-indicator"],[1,"stock-value","stock-original"],[1,"stock-value","stock-new"],["class","stock-difference",4,"ngIf"],[1,"stock-actions"],["type","button","title","Reducir stock",1,"btn-stock","btn-decrease",3,"click"],["type","button","title","Aumentar stock",1,"btn-stock","btn-increase",3,"click"],[1,"stock-difference"],[1,"no-variants"],[1,"advanced-options"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","tipo"],["id","tipo","name","tipo","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","categoria"],["id","categoria","name","categoria","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue"],["value","PLANO"],["value","TEJIDO"],["for","sku"],["type","text","id","sku","name","sku","required","","placeholder","Ej: REM-001-TJ",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"color-options"],["class","color-option",3,"selected","click",4,"ngFor","ngForOf"],["class","selected-items",4,"ngIf"],[1,"category-options"],["class","category-option",3,"selected","click",4,"ngFor","ngForOf"],["class","form-group",3,"error",4,"ngIf"],[3,"value"],[1,"color-option",3,"click"],[1,"color-dot"],[1,"selected-items"],[1,"category-option",3,"click"],[1,"category-name"],[1,"category-examples"],[1,"size-options"],["class","size-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"size-option",3,"click"],[1,"error-message"],[1,"success-message"],[1,"confirm-dialog-overlay",3,"click"],[1,"confirm-dialog",3,"click"],[1,"confirm-header"],[1,"close-btn",3,"click"],[1,"confirm-content"],[1,"warning-message"],["class","variantes-list",4,"ngIf"],[1,"action-info"],[1,"confirm-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"variantes-list"],[4,"ngFor","ngForOf"],[1,"info-badge"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(i,o){i&1&&(l(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),v("click",function(){return o.goToCatalog()}),l(4,"div",9),H(5,"img",10),c(),l(6,"span"),u(7,"HRK"),c()(),l(8,"nav",11)(9,"a",12),v("click",function(){return o.goToCatalog()}),u(10,"SHOP"),c(),l(11,"a",13),v("click",function(){return o.goToCatalog()}),u(12,"SALE"),c(),l(13,"a",14),v("click",function(){return o.goToInfo()}),u(14,"info"),c()()(),l(15,"div",15)(16,"button",16),v("click",function(){return o.goToCart()}),u(17," \u{1F6D2} "),b(18,OI,2,1,"span",17),c(),l(19,"button",18),v("click",function(){return o.openSearchModal()}),u(20," \u{1F50D} "),c(),l(21,"button",19),v("click",function(){return o.goToHistory()}),u(22," \u{1F4CB} "),c(),l(23,"button",20),v("click",function(){return o.goToProfile()}),H(24,"img",21),l(25,"span",22),u(26,"\u{1F464}"),c()(),l(27,"button",23),v("click",function(){return o.logout()}),u(28," Cerrar Sesi\xF3n "),c()()(),l(29,"div",24)(30,"div",25),b(31,TI,2,0,"h1",26)(32,kI,2,0,"h1",26),c(),b(33,RI,2,0,"div",27)(34,nO,47,20,"div",28),c(),b(35,rO,29,2,"div",29)(36,lO,11,3,"div",30),c()),i&2&&(p(18),h("ngIf",o.cartItemCount>0),p(13),h("ngIf",o.loadingProduct),p(),h("ngIf",!o.loadingProduct),p(),h("ngIf",o.loadingProduct),p(),h("ngIf",!o.loadingProduct),p(),h("ngIf",o.showConfirmDialog),p(),h("ngIf",o.showSearchModal))},dependencies:[_e,je,be,co,ye,oi,un,pn,Me,Sr,Lu,Ft,we,ii,Kt,Or,Ee,Nn],styles:[".add-product-container[_ngcontent-%COMP%], .edit-product-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.admin-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.main-nav[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:600;cursor:pointer;transition:color .3s}.nav-item[_ngcontent-%COMP%]:hover{color:#ccc}.nav-item.sale[_ngcontent-%COMP%]{color:#f44}.nav-item.info[_ngcontent-%COMP%]{color:#4caf50}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#f44;color:#fff;border-radius:50%;width:18px;height:18px;font-size:10px;display:flex;align-items:center;justify-content:center;font-weight:700}.logout-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-size:14px;transition:background .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#c82333}.form-container[_ngcontent-%COMP%]{max-width:1000px;margin:20px auto;padding:0 20px}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.edit-product-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 6px #0000001a}.product-header-section[_ngcontent-%COMP%]{display:flex;gap:30px;margin-bottom:30px;padding-bottom:30px;border-bottom:2px solid #e1e5e9}.product-image-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.product-image-container[_ngcontent-%COMP%]   .product-main-image[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover;border-radius:12px;border:2px solid #e1e5e9;cursor:pointer;transition:all .3s}.product-image-container[_ngcontent-%COMP%]   .product-main-image[_ngcontent-%COMP%]:hover{border-color:#007bff;box-shadow:0 4px 12px #007bff33}.product-image-container[_ngcontent-%COMP%]   .image-edit-btn[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;background:#ffffffe6;border:2px solid #007bff;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s;font-size:18px}.product-image-container[_ngcontent-%COMP%]   .image-edit-btn[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff;transform:scale(1.1)}.product-info-header[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:20px}.product-name-container[_ngcontent-%COMP%]   h2.product-name-display[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333;margin:0;cursor:pointer;display:inline-block;padding:10px 15px;border-radius:8px;transition:all .3s;background:#f8f9fa;border:2px solid #e1e5e9;box-shadow:0 2px 4px #0000000d}.product-name-container[_ngcontent-%COMP%]   h2.product-name-display[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#007bff;box-shadow:0 4px 8px #007bff1a}.product-name-container[_ngcontent-%COMP%]   h2.product-name-display[_ngcontent-%COMP%]:hover   .edit-hint[_ngcontent-%COMP%]{opacity:1}.product-name-container[_ngcontent-%COMP%]   h2.product-name-display[_ngcontent-%COMP%]   .edit-hint[_ngcontent-%COMP%]{opacity:0;margin-left:10px;font-size:18px;transition:opacity .3s}.product-name-container[_ngcontent-%COMP%]   .product-name-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:28px;font-weight:700;padding:10px;border:2px solid #007bff;border-radius:8px;width:100%}.product-description-container[_ngcontent-%COMP%]   p.product-description-display[_ngcontent-%COMP%]{color:#666;font-size:16px;line-height:1.6;margin:0;padding:15px;border-radius:8px;cursor:pointer;transition:all .3s;min-height:60px;background:#f8f9fa;border:2px solid #e1e5e9;box-shadow:0 2px 4px #0000000d}.product-description-container[_ngcontent-%COMP%]   p.product-description-display[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#007bff;box-shadow:0 4px 8px #007bff1a}.product-description-container[_ngcontent-%COMP%]   p.product-description-display[_ngcontent-%COMP%]:hover   .edit-hint[_ngcontent-%COMP%]{opacity:1}.product-description-container[_ngcontent-%COMP%]   p.product-description-display[_ngcontent-%COMP%]   .edit-hint[_ngcontent-%COMP%]{opacity:0;margin-left:10px;font-size:14px;transition:opacity .3s}.product-description-container[_ngcontent-%COMP%]   .product-description-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:15px;border:2px solid #007bff;border-radius:8px;font-size:16px;font-family:inherit;resize:vertical;min-height:100px}.product-price-container[_ngcontent-%COMP%]   div.product-price-display[_ngcontent-%COMP%]{color:#333;font-size:20px;margin:0;padding:15px;border-radius:8px;cursor:pointer;transition:all .3s;background:#f8f9fa;border:2px solid #e1e5e9;box-shadow:0 2px 4px #0000000d;display:inline-block}.product-price-container[_ngcontent-%COMP%]   div.product-price-display[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;margin-right:10px}.product-price-container[_ngcontent-%COMP%]   div.product-price-display[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#007bff;box-shadow:0 4px 8px #007bff1a}.product-price-container[_ngcontent-%COMP%]   div.product-price-display[_ngcontent-%COMP%]:hover   .edit-hint[_ngcontent-%COMP%]{opacity:1}.product-price-container[_ngcontent-%COMP%]   div.product-price-display[_ngcontent-%COMP%]   .edit-hint[_ngcontent-%COMP%]{opacity:0;margin-left:10px;font-size:16px;transition:opacity .3s}.product-price-container[_ngcontent-%COMP%]   .product-price-edit[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.product-price-container[_ngcontent-%COMP%]   .product-price-edit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:16px}.product-price-container[_ngcontent-%COMP%]   .product-price-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:18px;font-weight:600;padding:10px;border:2px solid #007bff;border-radius:8px;width:200px}.stock-section[_ngcontent-%COMP%]{margin-bottom:30px}.stock-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;color:#333;font-size:22px}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f8f9fa}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px;text-align:left;font-weight:600;color:#333;border-bottom:2px solid #dee2e6}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e1e5e9}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px;vertical-align:middle}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .color-indicator[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:50%;margin-right:10px;vertical-align:middle;border:2px solid #e1e5e9}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f8f9fa;padding:4px 8px;border-radius:4px;font-size:12px;color:#666}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-value[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;text-align:center}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-value.stock-original[_ngcontent-%COMP%]{color:#666;font-weight:500}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-value.stock-new[_ngcontent-%COMP%]{color:#333}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-value.stock-new.stock-increased[_ngcontent-%COMP%]{color:#28a745}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-value.stock-new.stock-decreased[_ngcontent-%COMP%]{color:#dc3545}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-value.stock-new[_ngcontent-%COMP%]   .stock-difference[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-left:8px}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center}.stock-section[_ngcontent-%COMP%]   .no-variants[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#999}.btn-stock[_ngcontent-%COMP%]{width:40px;height:40px;border:2px solid #007bff;background:#fff;color:#007bff;font-size:24px;font-weight:700;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s}.btn-stock[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff;transform:scale(1.1)}.btn-stock[_ngcontent-%COMP%]:active{transform:scale(.95)}.btn-stock.btn-decrease[_ngcontent-%COMP%]{border-color:#dc3545;color:#dc3545}.btn-stock.btn-decrease[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff}.save-section[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;margin-bottom:30px;padding-top:20px;border-top:2px solid #e1e5e9}.save-section[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{min-width:200px;padding:15px 30px;font-size:18px;font-weight:600}.save-section[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{min-width:150px;padding:15px 30px;font-size:18px}.ocultar-producto-section[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background:#f8f9fa;border-radius:8px;border:1px solid #dee2e6}.ocultar-producto-section[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:8px}.ocultar-producto-section[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;margin:0}.ocultar-producto-section[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#333;cursor:pointer;margin:0}.ocultar-producto-section[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]{font-size:13px;color:#6c757d;margin-top:5px;margin-left:30px}.advanced-section[_ngcontent-%COMP%]{margin-top:30px;padding-top:30px;border-top:2px solid #e1e5e9}.advanced-section[_ngcontent-%COMP%]   .btn-advanced-toggle[_ngcontent-%COMP%]{width:100%;padding:15px 20px;background:#fff3cd;border:2px solid #ffc107;border-radius:8px;font-size:16px;font-weight:600;color:#856404;cursor:pointer;display:flex;align-items:center;justify-content:space-between;transition:all .3s}.advanced-section[_ngcontent-%COMP%]   .btn-advanced-toggle[_ngcontent-%COMP%]:hover{background:#ffe69c;border-color:#ff9800}.advanced-section[_ngcontent-%COMP%]   .btn-advanced-toggle[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:10px}.advanced-section[_ngcontent-%COMP%]   .btn-advanced-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{font-size:14px;margin-left:auto}.advanced-section[_ngcontent-%COMP%]   .advanced-options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background:#f8f9fa;border-radius:8px;border:1px solid #e1e5e9}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;font-size:28px;margin-bottom:10px}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.product-form[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 6px #0000001a}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:8px;font-size:14px}.form-control[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid #e1e5e9;border-radius:6px;font-size:14px;transition:border-color .3s;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-control.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#17a2b8}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:30px;padding-top:20px;border-top:1px solid #e1e5e9}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s;font-size:14px;display:flex;align-items:center;gap:8px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6268}.btn-primary[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0056b3;transform:translateY(-1px);box-shadow:0 4px 8px #007bff4d}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:12px 16px;border-radius:6px;margin-top:20px;border:1px solid #f5c6cb}.success-message[_ngcontent-%COMP%]{background:#d4edda;color:#155724;padding:12px 16px;border-radius:6px;margin-top:20px;border:1px solid #c3e6cb}.color-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px;margin-bottom:15px}.color-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 12px;border:2px solid #e1e5e9;border-radius:6px;cursor:pointer;transition:all .3s;background:#fff}.color-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9fa}.color-option.selected[_ngcontent-%COMP%]{border-color:#007bff;background:#e3f2fd}.color-dot[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;border:1px solid #ccc;flex-shrink:0}.size-options[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:15px}.size-option[_ngcontent-%COMP%]{padding:12px 20px;border:2px solid #e1e5e9;border-radius:6px;cursor:pointer;transition:all .3s;background:#fff;font-weight:600;text-align:center;min-width:60px}.size-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9fa}.size-option.selected[_ngcontent-%COMP%]{border-color:#007bff;background:#e3f2fd;color:#007bff}.category-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:15px}.category-option[_ngcontent-%COMP%]{padding:15px;border:2px solid #e1e5e9;border-radius:8px;cursor:pointer;transition:all .3s;background:#fff;text-align:center}.category-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9fa}.category-option.selected[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-color:#007bff}.category-name[_ngcontent-%COMP%]{font-weight:600;font-size:16px;margin-bottom:5px}.category-examples[_ngcontent-%COMP%]{font-size:12px;opacity:.8}.image-upload[_ngcontent-%COMP%]{position:relative}.file-input[_ngcontent-%COMP%]{display:none}.file-label[_ngcontent-%COMP%]{display:inline-block;padding:12px 20px;background:#f8f9fa;border:2px dashed #dee2e6;border-radius:6px;cursor:pointer;transition:all .3s;text-align:center;font-weight:600;color:#495057}.file-label[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#adb5bd}.image-preview[_ngcontent-%COMP%]{margin-top:10px;padding:10px;background:#f8f9fa;border-radius:6px;border:1px solid #dee2e6}.preview-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.preview-image[_ngcontent-%COMP%]{max-width:200px;max-height:150px;object-fit:cover;border-radius:4px;border:1px solid #ddd}.file-name[_ngcontent-%COMP%]{font-weight:600;color:#495057;text-align:center}.form-help[_ngcontent-%COMP%]{color:#6c757d;font-size:12px;margin-top:5px;display:block}.image-info[_ngcontent-%COMP%]{margin-top:8px}.image-note[_ngcontent-%COMP%]{color:#6c757d;font-size:12px;font-style:italic;background:#fff3cd;padding:8px;border-radius:4px;border-left:3px solid #ffc107;display:block}.selected-items[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0;padding:8px 12px;border-radius:4px;font-size:14px;margin-top:10px}.form-group.error[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#dc3545}.form-group.error[_ngcontent-%COMP%]   .color-options[_ngcontent-%COMP%], .form-group.error[_ngcontent-%COMP%]   .size-options[_ngcontent-%COMP%]{border:2px solid #dc3545;border-radius:6px;padding:10px;background:#fff5f5}.form-group.error[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(.ng-invalid){border-color:#e1e5e9}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.admin-header[_ngcontent-%COMP%]{padding:15px}.header-left[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%]{gap:15px}.header-right[_ngcontent-%COMP%]{gap:10px}.product-form[_ngcontent-%COMP%]{padding:20px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{justify-content:center}.color-options[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.size-options[_ngcontent-%COMP%]{justify-content:center}.size-option[_ngcontent-%COMP%]{min-width:50px;padding:10px 15px}}.confirm-dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1001}.confirm-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:700px;max-height:85vh;overflow-y:auto;box-shadow:0 20px 40px #0000004d}.confirm-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:2px solid #ffc107;background:#fff3cd}.confirm-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#856404;font-size:20px;font-weight:600}.confirm-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;cursor:pointer;color:#856404;padding:0;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.confirm-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#8564041a}.confirm-content[_ngcontent-%COMP%]{padding:25px}.confirm-content[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]{font-size:16px;color:#856404;margin-bottom:15px;line-height:1.6}.confirm-content[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#856404;font-weight:700}.confirm-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;line-height:1.6;margin-bottom:15px}.confirm-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#856404}.confirm-content[_ngcontent-%COMP%]   .variantes-list[_ngcontent-%COMP%]{margin:20px 0;padding:15px;background:#f8f9fa;border-radius:8px;border-left:4px solid #ffc107}.confirm-content[_ngcontent-%COMP%]   .variantes-list[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:#856404;font-size:16px}.confirm-content[_ngcontent-%COMP%]   .variantes-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.confirm-content[_ngcontent-%COMP%]   .variantes-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;margin-bottom:8px;background:#fff;border-radius:6px;border:1px solid #e1e5e9;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px}.confirm-content[_ngcontent-%COMP%]   .variantes-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.confirm-content[_ngcontent-%COMP%]   .variantes-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]{background:#fff3cd;color:#856404;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600}.confirm-content[_ngcontent-%COMP%]   .action-info[_ngcontent-%COMP%]{margin-top:20px;padding:15px;background:#e7f3ff;border-radius:8px;border-left:4px solid #007bff;color:#004085;font-weight:500}.confirm-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;padding:20px;border-top:1px solid #eee;background:#f8f9fa}.confirm-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 24px;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s;border:none}.confirm-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.confirm-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px);box-shadow:0 4px 8px #6c757d4d}.confirm-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc107,#ff9800);color:#fff}.confirm-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e0a800,#e68900);transform:translateY(-2px);box-shadow:0 4px 12px #ffc10766}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}.stock-section[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;padding:20px;margin:20px 0}.stock-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin-bottom:10px;font-size:1.2rem}.stock-description[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:20px;font-size:.9rem}.stock-options[_ngcontent-%COMP%]{margin-bottom:20px}.stock-info[_ngcontent-%COMP%]{background:#e9ecef;padding:15px;border-radius:6px;margin-top:15px}.stock-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:.9rem}.variantes-table[_ngcontent-%COMP%]{margin-top:20px}.variantes-table[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#495057;margin-bottom:15px;font-size:1.1rem}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;margin-bottom:0;background-color:transparent;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;vertical-align:middle;border-top:1px solid #dee2e6}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom;border-bottom:2px solid #dee2e6;background-color:#f8f9fa;font-weight:600;color:#495057}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#0000000d}.color-indicator[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border-radius:50%;margin-right:8px;border:1px solid #dee2e6;vertical-align:middle}.stock-input[_ngcontent-%COMP%]{width:80px;text-align:center}.stock-summary[_ngcontent-%COMP%]{margin-top:20px}.alert[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:20px;border:1px solid transparent;border-radius:6px}.alert-info[_ngcontent-%COMP%]{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.btn-outline-primary[_ngcontent-%COMP%]{color:#007bff;border-color:#007bff;background-color:transparent;padding:8px 16px;border-radius:6px;border:1px solid #007bff;cursor:pointer;transition:all .3s}.btn-outline-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#007bff;color:#fff}.btn-outline-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-outline-secondary[_ngcontent-%COMP%]{color:#6c757d;border-color:#6c757d;background-color:transparent;padding:8px 16px;border-radius:6px;border:1px solid #6c757d;cursor:pointer;transition:all .3s}.btn-outline-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#6c757d;color:#fff}.btn-outline-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.stock-progress[_ngcontent-%COMP%]{margin-top:10px}.progress-bar-container[_ngcontent-%COMP%]{width:100%;height:8px;background-color:#e9ecef;border-radius:4px;overflow:hidden;margin-bottom:5px}.progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#28a745,#20c997);transition:width .3s ease;border-radius:4px}.alert-success[_ngcontent-%COMP%]{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-warning[_ngcontent-%COMP%]{color:#856404;background-color:#fff3cd;border-color:#ffeaa7}.alert-danger[_ngcontent-%COMP%]{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}"]})}}return t})();function dO(t,n){if(t&1&&(l(0,"span",40),u(1),c()),t&2){let e=m();p(),w(e.cartItemCount)}}function uO(t,n){t&1&&(l(0,"div",41),u(1," Cargando... "),c())}function pO(t,n){if(t&1&&(l(0,"div",42)(1,"div",43),gh(),l(2,"svg",44),H(3,"circle",45)(4,"circle",46),c(),mh(),l(5,"div",47)(6,"span",48),u(7),c()()(),l(8,"div",49)(9,"p")(10,"strong"),u(11,"Total Vendido:"),c(),u(12),c(),l(13,"p")(14,"strong"),u(15,"Stock Hist\xF3rico:"),c(),u(16),c()()()),t&2){let e=m();p(4),Be("stroke-dasharray",e.circumference)("stroke-dashoffset",e.dashOffset),p(3),D("",e.chartData.porcentajeVendido,"%"),p(5),D(" ",e.chartData.totalVendido," unidades"),p(4),D(" ",e.chartData.totalStockHistorico," unidades")}}function fO(t,n){t&1&&(l(0,"div",50),u(1," Error al cargar el gr\xE1fico "),c())}function hO(t,n){t&1&&(l(0,"div",41),u(1," Cargando... "),c())}function gO(t,n){if(t&1&&(l(0,"div",62)(1,"div",63)(2,"span",64),u(3),c(),l(4,"span",65),u(5),c()(),l(6,"div",66)(7,"div",67)(8,"span",68),u(9),Xe(10,"number"),c()()()()),t&2){let e=n.$implicit,i=n.index,o=m(3);p(3),D("",i+1,"."),p(2),w(e.nombreCliente),p(2),st("width",o.getClienteBarWidth(e.montoTotal),"%"),B("bar-client1",i===0)("bar-client2",i===1)("bar-client3",i===2),p(2),D("$",et(10,11,e.montoTotal,"1.2-2"),"")}}function mO(t,n){if(t&1&&(l(0,"div",59)(1,"div",60),b(2,gO,11,14,"div",61),c()()),t&2){let e=m(2);p(2),h("ngForOf",e.topClientesData)}}function vO(t,n){t&1&&(l(0,"div",69),u(1," No hay datos de clientes en este per\xEDodo "),c())}function _O(t,n){if(t&1&&(l(0,"div",51)(1,"div",52)(2,"span",53),u(3,"$"),c(),l(4,"span",54),u(5),Xe(6,"number"),c()(),l(7,"div",55)(8,"span",56),u(9),c()(),b(10,mO,3,1,"div",57)(11,vO,2,0,"div",58),c()),t&2){let e=m();p(5),w(et(6,4,e.totalFacturadoData.totalFacturado,"1.2-2")),p(4),D("",e.totalFacturadoData.cantidadPedidos," pedidos"),p(),h("ngIf",e.topClientesData&&e.topClientesData.length>0),p(),h("ngIf",!e.loadingTotalFacturado&&(!e.topClientesData||e.topClientesData.length===0))}}function CO(t,n){t&1&&(l(0,"div",70),u(1," No hay datos de facturaci\xF3n en este per\xEDodo "),c())}function xO(t,n){t&1&&(l(0,"div",41),u(1," Cargando... "),c())}function bO(t,n){if(t&1&&(l(0,"div",86)(1,"span",87),u(2),c(),H(3,"span",88),c()),t&2){let e=n.$implicit;p(2),w(e)}}function yO(t,n){if(t&1){let e=S();l(0,"div",89)(1,"div",90)(2,"div",91),v("click",function(){let o=C(e).$implicit,r=m(3);return x(r.seleccionarProducto(o.productoId))}),l(3,"span",92),u(4),c()()(),l(5,"div",93)(6,"span",94),u(7),c(),l(8,"span",95),v("click",function(){let o=C(e).$implicit,r=m(3);return x(r.seleccionarProducto(o.productoId))}),u(9),c()()()}if(t&2){let e=n.$implicit,i=n.index,o=m(3);p(2),st("height",o.getBarHeight(e.cantidadVendida),"%"),B("bar-top1",i===0)("bar-top2",i===1)("bar-top3",i===2)("bar-other",i>2)("bar-selected",o.productoSeleccionado===e.productoId),p(2),w(e.cantidadVendida),p(3),D("",i+1,"."),p(2),w(e.nombre)}}function EO(t,n){if(t&1&&(l(0,"div",80)(1,"div",81)(2,"div",82),b(3,bO,4,1,"div",83),c(),l(4,"div",84),b(5,yO,10,15,"div",85),c()()()),t&2){let e=m(2);p(3),h("ngForOf",e.yAxisTicks),p(2),h("ngForOf",e.topArticulosData)}}function MO(t,n){t&1&&(l(0,"div",70),u(1," No hay datos de art\xEDculos vendidos en este per\xEDodo "),c())}function wO(t,n){t&1&&(l(0,"div",41),u(1," Cargando todos los art\xEDculos... "),c())}function DO(t,n){if(t&1&&(l(0,"option",28),u(1),c()),t&2){let e=n.$implicit;h("value",e.productoId),p(),Pe(" ",e.nombre," (",e.cantidadVendida," vendidas) ")}}function PO(t,n){if(t&1){let e=S();l(0,"div",98)(1,"label",99),u(2,"Seleccionar art\xEDculo:"),c(),l(3,"select",100),v("change",function(o){C(e);let r=m(3);return x(r.onArticuloSeleccionado(o))}),b(4,DO,2,3,"option",101),c()()}if(t&2){let e=m(3);p(4),h("ngForOf",e.todosArticulosData)}}function SO(t,n){t&1&&(l(0,"div",70),u(1," No hay art\xEDculos en este per\xEDodo "),c())}function IO(t,n){if(t&1&&(l(0,"div",96),b(1,wO,2,0,"div",29)(2,PO,5,1,"div",97)(3,SO,2,0,"div",35),c()),t&2){let e=m(2);p(),h("ngIf",e.loadingTodosArticulos),p(),h("ngIf",!e.loadingTodosArticulos&&e.todosArticulosData&&e.todosArticulosData.length>0),p(),h("ngIf",!e.loadingTodosArticulos&&(!e.todosArticulosData||e.todosArticulosData.length===0))}}function OO(t,n){if(t&1&&(l(0,"div",113)(1,"div",114)(2,"span",115),u(3),c(),l(4,"span",116),u(5),c()(),l(6,"div",117)(7,"span",118),u(8),c(),l(9,"span",119),u(10),c()()()),t&2){let e=n.$implicit;p(3),w(e.sku),p(2),Pe("",e.color," - Talle ",e.talle,""),p(3),D("",e.cantidadVendida," vendidas"),p(2),D("Stock hist\xF3rico: ",e.stockHistorico,"")}}function TO(t,n){if(t&1){let e=S();l(0,"div",102)(1,"div",103)(2,"h4"),u(3),c(),l(4,"button",104),v("click",function(){C(e);let o=m(2);return x(o.cerrarDetallesProducto())}),u(5,"\u2715"),c()(),l(6,"div",105)(7,"div",106)(8,"span",107),u(9,"% Vendido sobre Stock Hist\xF3rico:"),c(),l(10,"span",108),u(11),c()(),l(12,"div",106)(13,"span",107),u(14,"Stock Hist\xF3rico Total:"),c(),l(15,"span",109),u(16),c()(),l(17,"div",106)(18,"span",107),u(19,"Ventas Totales:"),c(),l(20,"span",109),u(21),c()()(),l(22,"div",110)(23,"h5"),u(24,"Ventas por Variante:"),c(),l(25,"div",111),b(26,OO,11,5,"div",112),c()()()}if(t&2){let e=m(2);p(3),w(e.detallesProducto.nombreProducto),p(8),D("",e.detallesProducto.porcentajeVendido,"%"),p(5),D("",e.detallesProducto.stockHistoricoTotal," unidades"),p(5),D("",e.detallesProducto.ventasTotales," unidades"),p(5),h("ngForOf",e.detallesProducto.variantes)}}function kO(t,n){if(t&1){let e=S();l(0,"div",71)(1,"div",72)(2,"div",23)(3,"div",24)(4,"h3"),u(5,"Top Art\xEDculos M\xE1s Vendidos"),c(),l(6,"div",25)(7,"label",73),u(8,"Per\xEDodo:"),c(),l(9,"select",74),L("ngModelChange",function(o){C(e);let r=m();return j(r.selectedPeriodTopArticulos,o)||(r.selectedPeriodTopArticulos=o),x(o)}),v("change",function(){C(e);let o=m();return x(o.onPeriodTopArticulosChange())}),l(10,"option",28),u(11,"1 d\xEDa"),c(),l(12,"option",28),u(13,"1 mes"),c(),l(14,"option",28),u(15,"3 meses"),c(),l(16,"option",28),u(17,"6 meses"),c(),l(18,"option",28),u(19,"9 meses"),c(),l(20,"option",28),u(21,"12 meses"),c()()()(),b(22,xO,2,0,"div",29)(23,EO,6,2,"div",75)(24,MO,2,0,"div",35),l(25,"div",76)(26,"button",77),v("click",function(){C(e);let o=m();return x(o.toggleTodosArticulos())}),l(27,"span"),u(28),c(),l(29,"span",38),u(30),c()(),b(31,IO,4,3,"div",78),c(),b(32,TO,27,5,"div",79),c()()()}if(t&2){let e=m();p(9),V("ngModel",e.selectedPeriodTopArticulos),p(),h("value",.033),p(2),h("value",1),p(2),h("value",3),p(2),h("value",6),p(2),h("value",9),p(2),h("value",12),p(2),h("ngIf",e.loadingTopArticulos),p(),h("ngIf",!e.loadingTopArticulos&&e.topArticulosData&&e.topArticulosData.length>0),p(),h("ngIf",!e.loadingTopArticulos&&(!e.topArticulosData||e.topArticulosData.length===0)),p(2),B("expanded",e.mostrarTodosArticulos),p(2),w(e.mostrarTodosArticulos?"Ocultar todos los art\xEDculos":"Ver todos los art\xEDculos"),p(2),w(e.mostrarTodosArticulos?"\u2212":"+"),p(),h("ngIf",e.mostrarTodosArticulos),p(),h("ngIf",e.productoSeleccionado&&e.detallesProducto)}}function RO(t,n){t&1&&(l(0,"div",41),u(1,"Cargando..."),c())}function AO(t,n){if(t&1&&(l(0,"div",123),u(1),c()),t&2){let e=m(2);p(),D(" ",e.metricasData.ordenesCanceladas," ")}}function NO(t,n){if(t&1){let e=S();l(0,"div",71)(1,"div",24)(2,"h3"),u(3,"\xD3rdenes Canceladas"),c(),l(4,"div",25)(5,"label",120),u(6,"Per\xEDodo:"),c(),l(7,"select",121),L("ngModelChange",function(o){C(e);let r=m();return j(r.selectedPeriodOrdenesCanceladas,o)||(r.selectedPeriodOrdenesCanceladas=o),x(o)}),v("change",function(){C(e);let o=m();return x(o.onPeriodOrdenesCanceladasChange())}),l(8,"option",28),u(9,"1 d\xEDa"),c(),l(10,"option",28),u(11,"1 mes"),c(),l(12,"option",28),u(13,"3 meses"),c(),l(14,"option",28),u(15,"6 meses"),c(),l(16,"option",28),u(17,"9 meses"),c(),l(18,"option",28),u(19,"12 meses"),c()()()(),b(20,RO,2,0,"div",29)(21,AO,2,1,"div",122),c()}if(t&2){let e=m();p(7),V("ngModel",e.selectedPeriodOrdenesCanceladas),p(),h("value",.033),p(2),h("value",1),p(2),h("value",3),p(2),h("value",6),p(2),h("value",9),p(2),h("value",12),p(2),h("ngIf",e.loadingMetricas.ordenesCanceladas),p(),h("ngIf",!e.loadingMetricas.ordenesCanceladas&&e.metricasData.ordenesCanceladas!==null)}}function FO(t,n){t&1&&(l(0,"div",41),u(1,"Cargando..."),c())}function VO(t,n){if(t&1&&(l(0,"div",127)(1,"p",123),u(2),c(),l(3,"p",128),u(4),c()()),t&2){let e=m(2);p(2),w(e.metricasData.medioPago.metodo),p(2),D("Usado ",e.metricasData.medioPago.cantidad," veces")}}function LO(t,n){if(t&1){let e=S();l(0,"div",71)(1,"div",24)(2,"h3"),u(3,"Medio de Pago M\xE1s Usado"),c(),l(4,"div",25)(5,"label",124),u(6,"Per\xEDodo:"),c(),l(7,"select",125),L("ngModelChange",function(o){C(e);let r=m();return j(r.selectedPeriodMedioPago,o)||(r.selectedPeriodMedioPago=o),x(o)}),v("change",function(){C(e);let o=m();return x(o.onPeriodMedioPagoChange())}),l(8,"option",28),u(9,"1 d\xEDa"),c(),l(10,"option",28),u(11,"1 mes"),c(),l(12,"option",28),u(13,"3 meses"),c(),l(14,"option",28),u(15,"6 meses"),c(),l(16,"option",28),u(17,"9 meses"),c(),l(18,"option",28),u(19,"12 meses"),c()()()(),b(20,FO,2,0,"div",29)(21,VO,5,2,"div",126),c()}if(t&2){let e=m();p(7),V("ngModel",e.selectedPeriodMedioPago),p(),h("value",.033),p(2),h("value",1),p(2),h("value",3),p(2),h("value",6),p(2),h("value",9),p(2),h("value",12),p(2),h("ngIf",e.loadingMetricas.medioPago),p(),h("ngIf",!e.loadingMetricas.medioPago&&e.metricasData.medioPago)}}function jO(t,n){t&1&&(l(0,"div",41),u(1,"Cargando..."),c())}function UO(t,n){if(t&1&&(l(0,"div",127)(1,"p")(2,"strong"),u(3,"Aptas:"),c(),u(4),c(),l(5,"p")(6,"strong"),u(7,"Scrap:"),c(),u(8),c(),l(9,"p")(10,"strong"),u(11,"Pendientes:"),c(),u(12),c(),l(13,"p")(14,"strong"),u(15,"Total:"),c(),u(16),c()()),t&2){let e=m(2);p(4),D(" ",e.metricasData.devoluciones.aptas,""),p(4),D(" ",e.metricasData.devoluciones.scrap,""),p(4),D(" ",e.metricasData.devoluciones.pendientes,""),p(4),D(" ",e.metricasData.devoluciones.total,"")}}function zO(t,n){if(t&1){let e=S();l(0,"div",71)(1,"div",24)(2,"h3"),u(3,"Devoluciones"),c(),l(4,"div",25)(5,"label",129),u(6,"Per\xEDodo:"),c(),l(7,"select",130),L("ngModelChange",function(o){C(e);let r=m();return j(r.selectedPeriodDevoluciones,o)||(r.selectedPeriodDevoluciones=o),x(o)}),v("change",function(){C(e);let o=m();return x(o.onPeriodDevolucionesChange())}),l(8,"option",28),u(9,"1 d\xEDa"),c(),l(10,"option",28),u(11,"1 mes"),c(),l(12,"option",28),u(13,"3 meses"),c(),l(14,"option",28),u(15,"6 meses"),c(),l(16,"option",28),u(17,"9 meses"),c(),l(18,"option",28),u(19,"12 meses"),c()()()(),b(20,jO,2,0,"div",29)(21,UO,17,4,"div",126),c()}if(t&2){let e=m();p(7),V("ngModel",e.selectedPeriodDevoluciones),p(),h("value",.033),p(2),h("value",1),p(2),h("value",3),p(2),h("value",6),p(2),h("value",9),p(2),h("value",12),p(2),h("ngIf",e.loadingMetricas.devoluciones),p(),h("ngIf",!e.loadingMetricas.devoluciones&&e.metricasData.devoluciones)}}function $O(t,n){t&1&&(l(0,"div",41),u(1," Cargando... "),c())}function BO(t,n){if(t&1&&(l(0,"div",136)(1,"p"),u(2,"\u2705 Todos los clientes han realizado compras en este per\xEDodo"),c(),l(3,"p",128),u(4),c()()),t&2){let e=m(3);p(4),D("Total de clientes: ",e.metricasData.clientesSinCompras.totalClientes,"")}}function HO(t,n){if(t&1&&(l(0,"option",28),u(1),c()),t&2){let e=n.$implicit;h("value",e.clienteId),p(),Pe(" ",e.nombreCliente," (",e.email,") ")}}function GO(t,n){t&1&&(l(0,"div",41),u(1," Cargando \xFAltima compra... "),c())}function WO(t,n){if(t&1&&(l(0,"div",145)(1,"div",106)(2,"span",107),u(3,"\xDAltima compra:"),c(),l(4,"span",108),u(5),Xe(6,"date"),c()(),l(7,"div",106)(8,"span",107),u(9,"Monto:"),c(),l(10,"span",109),u(11),Xe(12,"number"),c()(),l(13,"div",106)(14,"span",107),u(15,"Estado:"),c(),l(16,"span",109),u(17),c()()()),t&2){let e=m(5);p(5),w(et(6,3,e.ultimaCompraData.ultimaCompraFecha,"dd/MM/yyyy HH:mm")),p(6),D("$",et(12,6,e.ultimaCompraData.ultimaCompraTotal,"1.2-2"),""),p(6),w(e.ultimaCompraData.ultimaCompraEstado)}}function qO(t,n){if(t&1&&(l(0,"div",146)(1,"p"),u(2),c()()),t&2){let e=m(5);p(2),w(e.ultimaCompraData.mensaje)}}function YO(t,n){if(t&1){let e=S();l(0,"div",142)(1,"div",103)(2,"h4"),u(3),c(),l(4,"button",104),v("click",function(){C(e);let o=m(4);return x(o.cerrarDetallesCliente())}),u(5,"\u2715"),c()(),l(6,"div",105)(7,"div",106)(8,"span",107),u(9,"Email:"),c(),l(10,"span",109),u(11),c()(),l(12,"div",106)(13,"span",107),u(14,"CUIT:"),c(),l(15,"span",109),u(16),c()(),b(17,GO,2,0,"div",29)(18,WO,18,9,"div",143)(19,qO,3,1,"div",144),c()()}if(t&2){let e=m(4);p(3),w(e.clienteSeleccionado.nombreCliente),p(8),w(e.clienteSeleccionado.email),p(5),w(e.clienteSeleccionado.cuit),p(),h("ngIf",e.loadingUltimaCompra),p(),h("ngIf",!e.loadingUltimaCompra&&e.ultimaCompraData.tieneCompras),p(),h("ngIf",!e.loadingUltimaCompra&&!e.ultimaCompraData.tieneCompras)}}function ZO(t,n){if(t&1){let e=S();l(0,"div",137)(1,"div",127)(2,"p")(3,"strong"),u(4,"Clientes sin compras:"),c(),u(5),c(),l(6,"p",128),u(7),c()(),l(8,"div",138)(9,"label",139),u(10,"Seleccionar cliente:"),c(),l(11,"select",140),v("change",function(o){C(e);let r=m(3);return x(r.onClienteSeleccionado(o))}),b(12,HO,2,3,"option",101),c()(),b(13,YO,20,6,"div",141),c()}if(t&2){let e=m(3);p(5),D(" ",e.metricasData.clientesSinCompras.totalSinCompras,""),p(2),D("Total de clientes: ",e.metricasData.clientesSinCompras.totalClientes,""),p(4),Be("size",e.clientesSelectSize),p(),h("ngForOf",e.metricasData.clientesSinCompras.clientesSinCompras),p(),h("ngIf",e.clienteSeleccionado&&e.ultimaCompraData)}}function KO(t,n){if(t&1&&(l(0,"div"),b(1,BO,5,1,"div",134)(2,ZO,14,5,"div",135),c()),t&2){let e=m(2);p(),h("ngIf",e.metricasData.clientesSinCompras.totalSinCompras===0),p(),h("ngIf",e.metricasData.clientesSinCompras.totalSinCompras>0)}}function QO(t,n){if(t&1){let e=S();l(0,"div",71)(1,"div",24)(2,"h3"),u(3,"Clientes que no compraron"),c(),l(4,"div",25)(5,"label",131),u(6,"Per\xEDodo:"),c(),l(7,"select",132),L("ngModelChange",function(o){C(e);let r=m();return j(r.selectedPeriodClientesSinCompras,o)||(r.selectedPeriodClientesSinCompras=o),x(o)}),v("change",function(){C(e);let o=m();return x(o.onPeriodClientesSinComprasChange())}),l(8,"option",28),u(9,"1 d\xEDa"),c(),l(10,"option",28),u(11,"1 mes"),c(),l(12,"option",28),u(13,"3 meses"),c(),l(14,"option",28),u(15,"6 meses"),c(),l(16,"option",28),u(17,"9 meses"),c(),l(18,"option",28),u(19,"12 meses"),c()()()(),b(20,$O,2,0,"div",29)(21,KO,3,2,"div",133),c()}if(t&2){let e=m();p(7),V("ngModel",e.selectedPeriodClientesSinCompras),p(),h("value",.033),p(2),h("value",1),p(2),h("value",3),p(2),h("value",6),p(2),h("value",9),p(2),h("value",12),p(2),h("ngIf",e.loadingMetricas.clientesSinCompras),p(),h("ngIf",!e.loadingMetricas.clientesSinCompras&&e.metricasData.clientesSinCompras)}}var ev=(()=>{class t{constructor(e,i,o,r){this.authService=e,this.router=i,this.cartService=o,this.http=r,this.cartItemCount=0,this.API_URL=Nt,this.loadingChart=!1,this.chartData=null,this.circumference=2*Math.PI*80,this.selectedPeriod=3,this.loadingTotalFacturado=!1,this.totalFacturadoData=null,this.selectedPeriodFacturacion=1,this.topClientesData=[],this.loadingTopArticulos=!1,this.topArticulosData=[],this.topArticulosCount=10,this.topArticulosExpandido=!1,this.selectedPeriodTopArticulos=3,this.mostrarTodosArticulos=!1,this.loadingTodosArticulos=!1,this.todosArticulosData=[],this.productoSeleccionado=null,this.loadingDetallesProducto=!1,this.detallesProducto=null,this.metricasExpandidas={ordenesCanceladas:!1,medioPago:!1,devoluciones:!1,clientesSinCompras:!1},this.loadingMetricas={ordenesCanceladas:!1,medioPago:!1,devoluciones:!1,clientesSinCompras:!1},this.metricasData={ordenesCanceladas:null,medioPago:null,devoluciones:null,clientesSinCompras:null},this.selectedPeriodClientesSinCompras=3,this.mostrarDropdownClientes=!1,this.clienteSeleccionado=null,this.loadingUltimaCompra=!1,this.ultimaCompraData=null,this.selectedPeriodDevoluciones=3,this.selectedPeriodOrdenesCanceladas=3,this.selectedPeriodMedioPago=3}ngOnInit(){if(!this.authService.isAdmin()){this.router.navigate(["/catalog"]);return}this.updateCartCount(),this.loadChart(),this.loadTotalFacturado()}get dashOffset(){if(!this.chartData||!this.chartData.porcentajeVendido)return this.circumference;let e=this.chartData.porcentajeVendido/100;return this.circumference*(1-e)}loadChart(){this.loadingChart=!0;let e=new Date,i=new Date;if(this.selectedPeriod<1){let s=Math.round(this.selectedPeriod*30);i.setDate(i.getDate()-s)}else i.setMonth(i.getMonth()-this.selectedPeriod);let o=i.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/porcentaje-vendido-stock-historico?desde=${o}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.chartData=s,this.loadingChart=!1},error:s=>{console.error("Error al cargar gr\xE1fico:",s),this.loadingChart=!1}})}onPeriodChange(){this.loadChart(),this.productoSeleccionado&&this.loadDetallesProducto(this.productoSeleccionado)}onPeriodTopArticulosChange(){this.loadTopArticulos(),this.mostrarTodosArticulos&&this.loadTodosArticulos(),this.productoSeleccionado&&this.loadDetallesProducto(this.productoSeleccionado)}loadTopArticulos(){this.loadingTopArticulos=!0;let e=new Date,i=new Date;if(this.selectedPeriodTopArticulos<1){let s=Math.round(this.selectedPeriodTopArticulos*30);i.setDate(i.getDate()-s)}else i.setMonth(i.getMonth()-this.selectedPeriodTopArticulos);let o=i.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/top-articulos-vendidos?top=${this.topArticulosCount}&desde=${o}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.topArticulosData=s,this.loadingTopArticulos=!1},error:s=>{console.error("Error al cargar top art\xEDculos:",s),this.loadingTopArticulos=!1}})}get yAxisTicks(){if(!this.topArticulosData||this.topArticulosData.length===0)return[0];let e=this.maxYAxisValue;if(e===0)return[0];let i=e/4,o=[];for(let r=0;r<=4;r++)o.push(Math.round(i*r));return o.reverse()}get maxYAxisValue(){if(!this.topArticulosData||this.topArticulosData.length===0)return 100;let e=Math.max(...this.topArticulosData.map(o=>o.cantidadVendida));if(e===0)return 100;let i=e*1.2;return i<10?Math.ceil(i):i<100?Math.ceil(i/5)*5:i<1e3?Math.ceil(i/50)*50:Math.ceil(i/100)*100}getBarHeight(e){if(!this.topArticulosData||this.topArticulosData.length===0)return 0;let i=this.maxYAxisValue;return i===0?0:e/i*100}seleccionarProducto(e){this.productoSeleccionado===e?this.cerrarDetallesProducto():(this.productoSeleccionado=e,this.loadDetallesProducto(e))}cerrarDetallesProducto(){this.productoSeleccionado=null,this.detallesProducto=null}loadDetallesProducto(e){this.loadingDetallesProducto=!0;let i=new Date,o=new Date;if(this.selectedPeriodTopArticulos<1){let a=Math.round(this.selectedPeriodTopArticulos*30);o.setDate(o.getDate()-a)}else o.setMonth(o.getMonth()-this.selectedPeriodTopArticulos);let r=o.toISOString(),s=i.toISOString();this.http.get(`${this.API_URL}/dashboards/detalles-producto/${e}?desde=${r}&hasta=${s}`,{headers:this.getAuthHeaders()}).subscribe({next:a=>{this.detallesProducto=a,this.loadingDetallesProducto=!1},error:a=>{console.error("Error al cargar detalles del producto:",a),this.loadingDetallesProducto=!1}})}onPeriodFacturacionChange(){this.loadTotalFacturado()}loadTotalFacturado(){this.loadingTotalFacturado=!0;let e=new Date,i=new Date;i.setMonth(i.getMonth()-this.selectedPeriodFacturacion);let o=i.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/total-facturado?desde=${o}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.totalFacturadoData=s,this.loadingTotalFacturado=!1},error:s=>{console.error("Error al cargar total facturado:",s),this.loadingTotalFacturado=!1}}),this.http.get(`${this.API_URL}/dashboards/top-clientes-monto?top=3&desde=${o}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.topClientesData=s},error:s=>{console.error("Error al cargar top clientes:",s),this.topClientesData=[]}})}getClienteBarWidth(e){if(!this.topClientesData||this.topClientesData.length===0)return 0;let i=Math.max(...this.topClientesData.map(o=>o.montoTotal));return i===0?0:e/i*100}toggleTopArticulos(){this.topArticulosExpandido=!this.topArticulosExpandido,this.topArticulosExpandido&&(!this.topArticulosData||this.topArticulosData.length===0)&&this.loadTopArticulos()}toggleTodosArticulos(){this.mostrarTodosArticulos=!this.mostrarTodosArticulos,this.mostrarTodosArticulos&&(!this.todosArticulosData||this.todosArticulosData.length===0)&&this.loadTodosArticulos()}loadTodosArticulos(){this.loadingTodosArticulos=!0;let e=new Date,i=new Date;if(this.selectedPeriodTopArticulos<1){let s=Math.round(this.selectedPeriodTopArticulos*30);i.setDate(i.getDate()-s)}else i.setMonth(i.getMonth()-this.selectedPeriodTopArticulos);let o=i.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/top-articulos-vendidos?top=1000&desde=${o}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.todosArticulosData=s,this.loadingTodosArticulos=!1},error:s=>{console.error("Error al cargar todos los art\xEDculos:",s),this.loadingTodosArticulos=!1}})}onArticuloSeleccionado(e){let i=parseInt(e.target.value);i&&!isNaN(i)&&(this.seleccionarProducto(i),e.target.value="")}toggleMetric(e){this.metricasExpandidas[e]=!this.metricasExpandidas[e],this.metricasExpandidas[e]&&this.metricasData[e]===null&&this.loadMetric(e)}loadMetric(e){switch(this.loadingMetricas[e]=!0,e){case"ordenesCanceladas":this.loadOrdenesCanceladas();break;case"medioPago":this.loadMedioPago();break;case"devoluciones":this.loadDevoluciones();break;case"clientesSinCompras":this.loadClientesSinCompras();break}}loadOrdenesCanceladas(){let e=new Date,i=new Date;if(this.selectedPeriodOrdenesCanceladas<1){let s=Math.round(this.selectedPeriodOrdenesCanceladas*30);i.setDate(i.getDate()-s)}else i.setMonth(i.getMonth()-this.selectedPeriodOrdenesCanceladas);let o=i.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/ordenes-canceladas?desde=${o}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.metricasData.ordenesCanceladas=s.cantidad,this.loadingMetricas.ordenesCanceladas=!1},error:s=>{console.error("Error al cargar \xF3rdenes canceladas:",s),this.loadingMetricas.ordenesCanceladas=!1}})}loadMedioPago(){let e=new Date,i=new Date;if(this.selectedPeriodMedioPago<1){let s=Math.round(this.selectedPeriodMedioPago*30);i.setDate(i.getDate()-s)}else i.setMonth(i.getMonth()-this.selectedPeriodMedioPago);let o=i.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/medio-pago-mas-usado?desde=${o}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.metricasData.medioPago=s,this.loadingMetricas.medioPago=!1},error:s=>{console.error("Error al cargar medio de pago:",s),this.loadingMetricas.medioPago=!1}})}loadDevoluciones(){let e=new Date,i=new Date;if(this.selectedPeriodDevoluciones<1){let s=Math.round(this.selectedPeriodDevoluciones*30);i.setDate(i.getDate()-s)}else i.setMonth(i.getMonth()-this.selectedPeriodDevoluciones);let o=i.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/devoluciones?desde=${o}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.metricasData.devoluciones=s,this.loadingMetricas.devoluciones=!1},error:s=>{console.error("Error al cargar devoluciones:",s),this.loadingMetricas.devoluciones=!1}})}onPeriodOrdenesCanceladasChange(){this.metricasExpandidas.ordenesCanceladas&&this.loadOrdenesCanceladas()}onPeriodMedioPagoChange(){this.metricasExpandidas.medioPago&&this.loadMedioPago()}onPeriodDevolucionesChange(){this.metricasExpandidas.devoluciones&&this.loadDevoluciones()}loadClientesSinCompras(){this.loadingMetricas.clientesSinCompras=!0;let e=new Date,i=new Date;if(this.selectedPeriodClientesSinCompras<1){let s=Math.round(this.selectedPeriodClientesSinCompras*30);i.setDate(i.getDate()-s)}else i.setMonth(i.getMonth()-this.selectedPeriodClientesSinCompras);let o=i.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/clientes-sin-compras?desde=${o}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.metricasData.clientesSinCompras=s,this.loadingMetricas.clientesSinCompras=!1},error:s=>{console.error("Error al cargar clientes sin compras:",s),this.loadingMetricas.clientesSinCompras=!1}})}onPeriodClientesSinComprasChange(){this.metricasExpandidas.clientesSinCompras&&this.loadClientesSinCompras(),this.clienteSeleccionado=null,this.ultimaCompraData=null}onClienteSeleccionado(e){let i=parseInt(e.target.value);i&&!isNaN(i)&&(this.clienteSeleccionado=this.metricasData.clientesSinCompras?.clientesSinCompras?.find(o=>o.clienteId===i),this.loadUltimaCompraCliente(i),e.target.value="")}loadUltimaCompraCliente(e){this.loadingUltimaCompra=!0,this.ultimaCompraData=null,this.http.get(`${this.API_URL}/dashboards/ultima-compra-cliente/${e}`,{headers:this.getAuthHeaders()}).subscribe({next:i=>{this.ultimaCompraData=i,this.loadingUltimaCompra=!1},error:i=>{console.error("Error al cargar \xFAltima compra del cliente:",i),this.loadingUltimaCompra=!1}})}cerrarDetallesCliente(){this.clienteSeleccionado=null,this.ultimaCompraData=null}get clientesSelectSize(){if(!this.metricasData.clientesSinCompras||!this.metricasData.clientesSinCompras.clientesSinCompras)return 8;let e=this.metricasData.clientesSinCompras.clientesSinCompras.length;return Math.min(e,8)}getAuthHeaders(){return{Authorization:`Bearer ${this.authService.getToken()}`,"Content-Type":"application/json"}}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}goToCatalog(){this.router.navigate(["/catalog"])}goToCart(){this.router.navigate(["/cart"])}goToHistory(){this.router.navigate(["/orders-history"])}goToProfile(){this.router.navigate(["/profile"])}goToInfo(){this.router.navigate(["/info"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}isAdmin(){return this.authService.isAdmin()}static{this.\u0275fac=function(i){return new(i||t)(M(ge),M(le),M(Ye),M(lt))}}static{this.\u0275cmp=de({type:t,selectors:[["app-dashboards-page"]],standalone:!0,features:[ue],decls:108,vars:39,consts:[[1,"dashboards-container"],[1,"catalog-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",2,"display","none"],["title","Historial de Pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"dashboards-content"],[1,"page-title"],[1,"charts-row"],[1,"chart-section","half-width"],[1,"chart-card"],[1,"chart-header"],[1,"period-selector"],["for","periodSelect"],["id","periodSelect",1,"period-dropdown",3,"ngModelChange","change","ngModel"],[3,"value"],["class","loading-metric",4,"ngIf"],["class","chart-container",4,"ngIf"],["class","error-metric",4,"ngIf"],["for","periodSelectFacturacion"],["id","periodSelectFacturacion",1,"period-dropdown",3,"ngModelChange","change","ngModel"],["class","total-facturado-container",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"metrics-actions"],[1,"metric-action-btn",3,"click"],[1,"icon"],["class","metric-content",4,"ngIf"],[1,"cart-badge"],[1,"loading-metric"],[1,"chart-container"],[1,"pie-chart"],["width","200","height","200","viewBox","0 0 200 200"],["cx","100","cy","100","r","80","fill","none","stroke","#e0e0e0","stroke-width","40"],["cx","100","cy","100","r","80","fill","none","stroke","#8b5cf6","stroke-width","40","transform","rotate(-90 100 100)",1,"progress-circle"],[1,"chart-center"],[1,"chart-percentage"],[1,"chart-info"],[1,"error-metric"],[1,"total-facturado-container"],[1,"total-facturado-value"],[1,"currency-symbol"],[1,"amount"],[1,"total-facturado-info"],[1,"info-text"],["class","top-clientes-chart",4,"ngIf"],["class","no-clientes-data",4,"ngIf"],[1,"top-clientes-chart"],[1,"horizontal-bars"],["class","horizontal-bar-item",4,"ngFor","ngForOf"],[1,"horizontal-bar-item"],[1,"bar-label-horizontal"],[1,"cliente-rank"],[1,"cliente-name"],[1,"bar-container-horizontal"],[1,"bar-fill-horizontal"],[1,"bar-value-horizontal"],[1,"no-clientes-data"],[1,"no-data"],[1,"metric-content"],[1,"chart-section"],["for","periodSelectTopArticulos"],["id","periodSelectTopArticulos",1,"period-dropdown",3,"ngModelChange","change","ngModel"],["class","bar-chart-container",4,"ngIf"],[1,"ver-todos-articulos-section"],[1,"btn-ver-todos",3,"click"],["class","todos-articulos-dropdown",4,"ngIf"],["class","producto-detalles",4,"ngIf"],[1,"bar-chart-container"],[1,"vertical-bar-chart"],[1,"y-axis"],["class","y-tick",4,"ngFor","ngForOf"],[1,"bars-container"],["class","bar-item-vertical",4,"ngFor","ngForOf"],[1,"y-tick"],[1,"tick-value"],[1,"tick-line"],[1,"bar-item-vertical"],[1,"bar-wrapper-vertical"],[1,"bar-fill-vertical","clickable-bar",3,"click"],[1,"bar-value-vertical"],[1,"bar-label-vertical"],[1,"bar-rank-vertical"],[1,"bar-name-vertical","clickable-name",3,"click"],[1,"todos-articulos-dropdown"],["class","articulos-select-container",4,"ngIf"],[1,"articulos-select-container"],["for","articuloSelect"],["id","articuloSelect","size","8",1,"articulo-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"producto-detalles"],[1,"detalles-header"],[1,"close-details",3,"click"],[1,"detalles-stats"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value","highlight"],[1,"stat-value"],[1,"variantes-detalle"],[1,"variantes-list"],["class","variante-item",4,"ngFor","ngForOf"],[1,"variante-item"],[1,"variante-info"],[1,"variante-sku"],[1,"variante-attr"],[1,"variante-stats"],[1,"variante-venta"],[1,"variante-stock"],["for","periodSelectOrdenesCanceladas"],["id","periodSelectOrdenesCanceladas",1,"period-dropdown",3,"ngModelChange","change","ngModel"],["class","metric-value-large",4,"ngIf"],[1,"metric-value-large"],["for","periodSelectMedioPago"],["id","periodSelectMedioPago",1,"period-dropdown",3,"ngModelChange","change","ngModel"],["class","metric-info",4,"ngIf"],[1,"metric-info"],[1,"metric-subtitle"],["for","periodSelectDevoluciones"],["id","periodSelectDevoluciones",1,"period-dropdown",3,"ngModelChange","change","ngModel"],["for","periodSelectClientesSinCompras"],["id","periodSelectClientesSinCompras",1,"period-dropdown",3,"ngModelChange","change","ngModel"],[4,"ngIf"],["class","no-data-message",4,"ngIf"],["class","clientes-sin-compras-container",4,"ngIf"],[1,"no-data-message"],[1,"clientes-sin-compras-container"],[1,"clientes-select-container"],["for","clienteSelect"],["id","clienteSelect",1,"cliente-select",3,"change"],["class","cliente-detalles",4,"ngIf"],[1,"cliente-detalles"],["class","ultima-compra-info",4,"ngIf"],["class","no-compra-message",4,"ngIf"],[1,"ultima-compra-info"],[1,"no-compra-message"]],template:function(i,o){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),v("click",function(){return o.goToCatalog()}),l(4,"div",4),H(5,"img",5),c(),l(6,"span"),u(7,"HRK"),c()(),l(8,"nav",6)(9,"a",7),v("click",function(){return o.goToCatalog()}),u(10,"SHOP"),c(),l(11,"a",8),v("click",function(){return o.goToCatalog()}),u(12,"SALE"),c(),l(13,"a",9),v("click",function(){return o.goToInfo()}),u(14,"info"),c()()(),l(15,"div",10)(16,"button",11),v("click",function(){return o.goToCart()}),u(17," \u{1F6D2} "),b(18,dO,2,1,"span",12),c(),l(19,"button",13),u(20," \u{1F50D} "),c(),l(21,"button",14),v("click",function(){return o.goToHistory()}),u(22," \u{1F4CB} "),c(),l(23,"button",15),v("click",function(){return o.goToProfile()}),H(24,"img",16),l(25,"span",17),u(26,"\u{1F464}"),c()(),l(27,"button",18),v("click",function(){return o.logout()}),u(28," Cerrar Sesi\xF3n "),c()()(),l(29,"div",19)(30,"h1",20),u(31,"\u{1F4CA} M\xE9tricas del Negocio"),c(),l(32,"div",21)(33,"div",22)(34,"div",23)(35,"div",24)(36,"h3"),u(37,"% Vendido sobre Stock Hist\xF3rico"),c(),l(38,"div",25)(39,"label",26),u(40,"Per\xEDodo:"),c(),l(41,"select",27),L("ngModelChange",function(s){return j(o.selectedPeriod,s)||(o.selectedPeriod=s),s}),v("change",function(){return o.onPeriodChange()}),l(42,"option",28),u(43,"1 d\xEDa"),c(),l(44,"option",28),u(45,"1 mes"),c(),l(46,"option",28),u(47,"3 meses"),c(),l(48,"option",28),u(49,"6 meses"),c(),l(50,"option",28),u(51,"12 meses"),c()()()(),b(52,uO,2,0,"div",29)(53,pO,17,5,"div",30)(54,fO,2,0,"div",31),c()(),l(55,"div",22)(56,"div",23)(57,"div",24)(58,"h3"),u(59,"Total Facturado"),c(),l(60,"div",25)(61,"label",32),u(62,"Per\xEDodo:"),c(),l(63,"select",33),L("ngModelChange",function(s){return j(o.selectedPeriodFacturacion,s)||(o.selectedPeriodFacturacion=s),s}),v("change",function(){return o.onPeriodFacturacionChange()}),l(64,"option",28),u(65,"1 mes"),c(),l(66,"option",28),u(67,"3 meses"),c(),l(68,"option",28),u(69,"6 meses"),c(),l(70,"option",28),u(71,"9 meses"),c(),l(72,"option",28),u(73,"12 meses"),c()()()(),b(74,hO,2,0,"div",29)(75,_O,12,7,"div",34)(76,CO,2,0,"div",35),c()()(),l(77,"div",36)(78,"button",37),v("click",function(){return o.toggleTopArticulos()}),l(79,"span"),u(80,"Top Art\xEDculos M\xE1s Vendidos"),c(),l(81,"span",38),u(82),c()(),b(83,kO,33,16,"div",39),l(84,"button",37),v("click",function(){return o.toggleMetric("ordenesCanceladas")}),l(85,"span"),u(86,"\xD3rdenes Canceladas"),c(),l(87,"span",38),u(88),c()(),b(89,NO,22,9,"div",39),l(90,"button",37),v("click",function(){return o.toggleMetric("medioPago")}),l(91,"span"),u(92,"Medio de Pago M\xE1s Usado"),c(),l(93,"span",38),u(94),c()(),b(95,LO,22,9,"div",39),l(96,"button",37),v("click",function(){return o.toggleMetric("devoluciones")}),l(97,"span"),u(98,"Devoluciones"),c(),l(99,"span",38),u(100),c()(),b(101,zO,22,9,"div",39),l(102,"button",37),v("click",function(){return o.toggleMetric("clientesSinCompras")}),l(103,"span"),u(104,"Clientes que no compraron"),c(),l(105,"span",38),u(106),c()(),b(107,QO,22,9,"div",39),c()()()),i&2&&(p(18),h("ngIf",o.cartItemCount>0),p(23),V("ngModel",o.selectedPeriod),p(),h("value",.033),p(2),h("value",1),p(2),h("value",3),p(2),h("value",6),p(2),h("value",12),p(2),h("ngIf",o.loadingChart),p(),h("ngIf",!o.loadingChart&&o.chartData),p(),h("ngIf",!o.loadingChart&&!o.chartData),p(9),V("ngModel",o.selectedPeriodFacturacion),p(),h("value",1),p(2),h("value",3),p(2),h("value",6),p(2),h("value",9),p(2),h("value",12),p(2),h("ngIf",o.loadingTotalFacturado),p(),h("ngIf",!o.loadingTotalFacturado&&o.totalFacturadoData),p(),h("ngIf",!o.loadingTotalFacturado&&!o.totalFacturadoData),p(2),B("expanded",o.topArticulosExpandido),p(4),w(o.topArticulosExpandido?"\u2212":"+"),p(),h("ngIf",o.topArticulosExpandido),p(),B("expanded",o.metricasExpandidas.ordenesCanceladas),p(4),w(o.metricasExpandidas.ordenesCanceladas?"\u2212":"+"),p(),h("ngIf",o.metricasExpandidas.ordenesCanceladas),p(),B("expanded",o.metricasExpandidas.medioPago),p(4),w(o.metricasExpandidas.medioPago?"\u2212":"+"),p(),h("ngIf",o.metricasExpandidas.medioPago),p(),B("expanded",o.metricasExpandidas.devoluciones),p(4),w(o.metricasExpandidas.devoluciones?"\u2212":"+"),p(),h("ngIf",o.metricasExpandidas.devoluciones),p(),B("expanded",o.metricasExpandidas.clientesSinCompras),p(4),w(o.metricasExpandidas.clientesSinCompras?"\u2212":"+"),p(),h("ngIf",o.metricasExpandidas.clientesSinCompras))},dependencies:[_e,je,be,co,nm,ye,un,pn,Ft,we,Ee],styles:['@charset "UTF-8";.dashboards-container[_ngcontent-%COMP%]{min-height:100vh;background:#f5f5f5}.catalog-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease;transform:rotate(0)}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(0)}.main-nav[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#dc3545;color:#fff;border-radius:50%;width:18px;height:18px;font-size:10px;display:flex;align-items:center;justify-content:center}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.dashboards-content[_ngcontent-%COMP%]{padding:30px 20px;max-width:1200px;margin:0 auto}.page-title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#333;margin-bottom:30px}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:20px}.metric-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 8px #0000001a;transition:transform .3s,box-shadow .3s}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.metric-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#666;margin:0 0 15px}.metric-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#333;margin:0}.chart-section[_ngcontent-%COMP%]{margin-bottom:40px}.chart-section.half-width[_ngcontent-%COMP%]{width:48%;margin-right:2%}.chart-section.half-width[_ngcontent-%COMP%]:last-child{margin-right:0}.charts-row[_ngcontent-%COMP%]{display:flex;gap:2%;width:100%;margin-bottom:30px;align-items:stretch}@media (max-width: 768px){.charts-row[_ngcontent-%COMP%]{flex-direction:column}.charts-row[_ngcontent-%COMP%]   .chart-section.half-width[_ngcontent-%COMP%]{width:100%;margin-right:0}}.chart-section.half-width[_ngcontent-%COMP%]{display:flex;flex-direction:column}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:30px;box-shadow:0 2px 8px #0000001a;height:100%;display:flex;flex-direction:column}.chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;flex-wrap:wrap;gap:15px}.chart-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#333;margin:0}.period-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.period-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#666}.period-dropdown[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;background:#fff;color:#333;cursor:pointer;transition:all .3s;min-width:120px}.period-dropdown[_ngcontent-%COMP%]:hover{border-color:#8b5cf6}.period-dropdown[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a}.chart-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.pie-chart[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.progress-circle[_ngcontent-%COMP%]{transition:stroke-dashoffset .5s ease}.chart-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.chart-percentage[_ngcontent-%COMP%]{font-size:36px;font-weight:700;color:#8b5cf6}.chart-info[_ngcontent-%COMP%]{text-align:center}.chart-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#666;font-size:14px}.loading-metric[_ngcontent-%COMP%]{text-align:center;color:#666;padding:20px;font-size:14px}.total-facturado-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:0;flex:1;height:100%}.total-facturado-value[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:6px;margin-bottom:12px}.currency-symbol[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#8b5cf6}.amount[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333;line-height:1}.total-facturado-info[_ngcontent-%COMP%]{margin-bottom:15px}.info-text[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:500}.top-clientes-chart[_ngcontent-%COMP%]{width:100%;margin-top:15px;padding-top:15px;border-top:1px solid #e0e0e0;flex:1}.horizontal-bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.horizontal-bar-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.bar-label-horizontal[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px}.cliente-rank[_ngcontent-%COMP%]{font-weight:700;color:#8b5cf6;min-width:20px}.cliente-name[_ngcontent-%COMP%]{color:#333;font-weight:500;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.bar-container-horizontal[_ngcontent-%COMP%]{width:100%;height:28px;background:#f0f0f0;border-radius:14px;overflow:hidden;position:relative}.bar-fill-horizontal[_ngcontent-%COMP%]{height:100%;border-radius:14px;transition:width .5s ease;display:flex;align-items:center;padding:0 12px;min-width:60px;position:relative;background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.bar-fill-horizontal.bar-client1[_ngcontent-%COMP%], .bar-fill-horizontal.bar-client2[_ngcontent-%COMP%], .bar-fill-horizontal.bar-client3[_ngcontent-%COMP%]{background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.bar-value-horizontal[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3);white-space:nowrap}.no-clientes-data[_ngcontent-%COMP%]{text-align:center;color:#999;font-size:13px;padding:10px;margin-top:10px}.ver-todos-articulos-section[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px solid #e0e0e0}.btn-ver-todos[_ngcontent-%COMP%]{background:#fff;border:2px solid #8b5cf6;border-radius:8px;padding:12px 20px;font-size:14px;font-weight:500;color:#8b5cf6;cursor:pointer;transition:all .3s;display:flex;justify-content:space-between;align-items:center;width:100%;text-align:left}.btn-ver-todos[_ngcontent-%COMP%]:hover, .btn-ver-todos.expanded[_ngcontent-%COMP%]{background:#f8f9ff;border-color:#7c3aed}.btn-ver-todos[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.todos-articulos-dropdown[_ngcontent-%COMP%]{margin-top:15px;padding:15px;background:#f8f9fa;border-radius:8px}.articulos-select-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.articulos-select-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.articulo-select[_ngcontent-%COMP%]{padding:0;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;background:#fff;color:#333;cursor:pointer;transition:all .3s;width:100%;overflow-y:auto;overflow-x:hidden}.articulo-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:10px 12px;cursor:pointer;border-bottom:1px solid #f0f0f0}.articulo-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background:#f8f9ff}.articulo-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:checked, .articulo-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:focus{background:#8b5cf6;color:#fff}.articulo-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:last-child{border-bottom:none}.articulo-select[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.articulo-select[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.articulo-select[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8b5cf6;border-radius:4px}.articulo-select[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#7c3aed}.articulo-select[_ngcontent-%COMP%]:hover{border-color:#8b5cf6}.articulo-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a}.error-metric[_ngcontent-%COMP%]{text-align:center;color:#dc3545;padding:20px;font-size:14px}.no-data[_ngcontent-%COMP%]{text-align:center;color:#888;padding:40px 20px;font-size:14px;font-style:italic}.bar-chart-container[_ngcontent-%COMP%]{margin-top:20px}.vertical-bar-chart[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:flex-start;min-height:400px}.y-axis[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding-right:10px;border-right:2px solid #e0e0e0;min-width:50px;height:350px}.y-tick[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;position:relative}.tick-value[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:500;min-width:40px;text-align:right}.tick-line[_ngcontent-%COMP%]{flex:1;height:1px;background:#e0e0e0;margin-left:8px}.bars-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:flex-start;justify-content:space-around;gap:10px;padding-top:0;padding-bottom:0;position:relative;min-height:350px}.bar-item-vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1;gap:0;max-width:120px;height:auto;min-height:350px;justify-content:flex-start}.bar-wrapper-vertical[_ngcontent-%COMP%]{width:100%;height:350px;display:flex;align-items:flex-end;position:relative;border-bottom:2px solid #e0e0e0;margin-bottom:0;flex-shrink:0}.bar-fill-vertical[_ngcontent-%COMP%]{width:100%;border-radius:6px 6px 0 0;transition:height .5s ease;display:flex;align-items:flex-start;justify-content:center;padding-top:8px;position:relative;min-height:30px}.bar-fill-vertical.bar-top1[_ngcontent-%COMP%]{background:linear-gradient(180deg,#dc2626,#b91c1c)}.bar-fill-vertical.bar-top2[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ea580c,#c2410c)}.bar-fill-vertical.bar-top3[_ngcontent-%COMP%]{background:linear-gradient(180deg,#eab308,#ca8a04)}.bar-fill-vertical.bar-other[_ngcontent-%COMP%]{background:linear-gradient(180deg,#8b5cf6,#7c3aed)}.bar-value-vertical[_ngcontent-%COMP%]{font-weight:700;color:#fff;font-size:13px;text-shadow:0 1px 2px rgba(0,0,0,.3);white-space:nowrap}.bar-label-vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;text-align:center;width:100%;min-height:auto;justify-content:flex-start;padding-top:10px;flex-shrink:0;margin-top:auto}.bar-rank-vertical[_ngcontent-%COMP%]{font-weight:700;color:#8b5cf6;font-size:14px}.bar-name-vertical[_ngcontent-%COMP%]{font-size:12px;color:#333;font-weight:500;word-wrap:break-word;word-break:break-word;overflow-wrap:break-word;line-height:1.3;width:100%;max-width:100%;display:block}.bar-name-vertical.clickable-name[_ngcontent-%COMP%]{cursor:pointer;transition:color .3s}.bar-name-vertical.clickable-name[_ngcontent-%COMP%]:hover{color:#8b5cf6;text-decoration:underline}.clickable-bar[_ngcontent-%COMP%]{cursor:pointer;transition:opacity .3s,transform .3s}.clickable-bar[_ngcontent-%COMP%]:hover{opacity:.9;transform:translateY(-2px)}.bar-selected[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #8b5cf680;border:2px solid #8b5cf6}.producto-detalles[_ngcontent-%COMP%]{margin-top:30px;padding:20px;background:#f8f9fa;border-radius:8px;border:2px solid #8b5cf6}.detalles-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid #e0e0e0}.detalles-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#333}.close-details[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;border-radius:50%;width:30px;height:30px;font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .3s}.close-details[_ngcontent-%COMP%]:hover{background:#c82333}.detalles-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:25px}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.stat-label[_ngcontent-%COMP%]{font-size:13px;color:#666;font-weight:500}.stat-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#333}.stat-value.highlight[_ngcontent-%COMP%]{color:#8b5cf6;font-size:24px}.variantes-detalle[_ngcontent-%COMP%]{margin-top:20px}.variantes-detalle[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;margin:0 0 15px}.variantes-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.variante-item[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:6px;border:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px}.variante-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;flex:1}.variante-sku[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333}.variante-attr[_ngcontent-%COMP%]{font-size:12px;color:#666}.variante-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:5px}.variante-venta[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#8b5cf6}.variante-stock[_ngcontent-%COMP%]{font-size:12px;color:#888}.metrics-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.metric-action-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e0e0e0;border-radius:8px;padding:15px 20px;font-size:16px;font-weight:500;color:#333;cursor:pointer;transition:all .3s;display:flex;justify-content:space-between;align-items:center;text-align:left}.metric-action-btn[_ngcontent-%COMP%]:hover, .metric-action-btn.expanded[_ngcontent-%COMP%]{border-color:#8b5cf6;background:#f8f9ff}.metric-action-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#8b5cf6;width:30px;text-align:center}.metric-content[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:20px;margin-top:10px;border:1px solid #e0e0e0}.metric-value-large[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:#333;text-align:center;margin:20px 0}.metric-info[_ngcontent-%COMP%]{text-align:center}.metric-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;color:#666;font-size:16px}.metric-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#888;font-weight:400}@media (max-width: 768px){.dashboards-content[_ngcontent-%COMP%]{padding:20px 15px}.page-title[_ngcontent-%COMP%]{font-size:24px}.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.header-left[_ngcontent-%COMP%]{gap:20px}.main-nav[_ngcontent-%COMP%]{gap:15px}.chart-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.period-selector[_ngcontent-%COMP%]{width:100%}.period-dropdown[_ngcontent-%COMP%]{flex:1}}.no-data-message[_ngcontent-%COMP%]{text-align:center;padding:30px;color:#28a745;font-size:16px}.no-data-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}.clientes-sin-compras-container[_ngcontent-%COMP%]{padding:20px 0}.clientes-select-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.clientes-select-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-size:14px;font-weight:500;color:#333}.cliente-select[_ngcontent-%COMP%]{padding:0;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;background:#fff;color:#333;cursor:pointer;transition:all .3s;width:100%;overflow-y:auto;overflow-x:hidden}.cliente-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:10px 12px;cursor:pointer;border-bottom:1px solid #f0f0f0}.cliente-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background:#f8f9ff}.cliente-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:checked, .cliente-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:focus{background:#8b5cf6;color:#fff}.cliente-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:last-child{border-bottom:none}.cliente-select[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.cliente-select[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.cliente-select[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8b5cf6;border-radius:4px}.cliente-select[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#7c3aed}.cliente-detalles[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background:#f8f9ff;border-radius:8px;border:2px solid #e0e0e0}.ultima-compra-info[_ngcontent-%COMP%]{margin-top:15px;padding-top:15px;border-top:1px solid #e0e0e0}.no-compra-message[_ngcontent-%COMP%]{margin-top:15px;padding:15px;background:#fff3cd;border-radius:6px;border-left:4px solid #ffc107;color:#856404}.no-compra-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}']})}}return t})();var tv=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:B0},{path:"register",component:H0},{path:"select-client",component:G0},{path:"catalog",component:W0},{path:"cart",component:$0},{path:"info",component:q0},{path:"profile",component:Y0},{path:"orders-history",component:Z0},{path:"order-detail/:id",component:K0},{path:"devolucion",component:Q0},{path:"add-product",component:J0},{path:"edit-product/:id",component:X0},{path:"dashboards",component:ev}];Om(g0,{providers:[f0(tv),xm(bm(),ym())]}).catch(t=>console.error(t));
