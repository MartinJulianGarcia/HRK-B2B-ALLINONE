var r_=Object.defineProperty,s_=Object.defineProperties;var a_=Object.getOwnPropertyDescriptors;var Wu=Object.getOwnPropertySymbols;var c_=Object.prototype.hasOwnProperty,l_=Object.prototype.propertyIsEnumerable;var qu=(t,n,e)=>n in t?r_(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,I=(t,n)=>{for(var e in n||={})c_.call(n,e)&&qu(t,e,n[e]);if(Wu)for(var e of Wu(n))l_.call(n,e)&&qu(t,e,n[e]);return t},J=(t,n)=>s_(t,a_(n));var Rr=(t,n,e)=>new Promise((o,i)=>{var r=u=>{try{l(e.next(u))}catch(f){i(f)}},s=u=>{try{l(e.throw(u))}catch(f){i(f)}},l=u=>u.done?o(u.value):Promise.resolve(u.value).then(r,s);l((e=e.apply(t,n)).next())});function Yu(t,n){return Object.is(t,n)}var Be=null,Ar=!1,Nr=1,_n=Symbol("SIGNAL");function re(t){let n=Be;return Be=t,n}function Zu(){return Be}var Si={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _c(t){if(Ar)throw new Error("");if(Be===null)return;Be.consumerOnSignalRead(t);let n=Be.nextProducerIndex++;if(jr(Be),n<Be.producerNode.length&&Be.producerNode[n]!==t&&Di(Be)){let e=Be.producerNode[n];Lr(e,Be.producerIndexOfThis[n])}Be.producerNode[n]!==t&&(Be.producerNode[n]=t,Be.producerIndexOfThis[n]=Di(Be)?Xu(t,Be,n):0),Be.producerLastReadVersion[n]=t.version}function d_(){Nr++}function Ku(t){if(!(Di(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Nr)){if(!t.producerMustRecompute(t)&&!xc(t)){t.dirty=!1,t.lastCleanEpoch=Nr;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Nr}}function Qu(t){if(t.liveConsumerNode===void 0)return;let n=Ar;Ar=!0;try{for(let e of t.liveConsumerNode)e.dirty||u_(e)}finally{Ar=n}}function Ju(){return Be?.consumerAllowSignalWrites!==!1}function u_(t){t.dirty=!0,Qu(t),t.consumerMarkedDirty?.(t)}function Vr(t){return t&&(t.nextProducerIndex=0),re(t)}function vc(t,n){if(re(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Di(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Lr(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function xc(t){jr(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==e.version||(Ku(e),o!==e.version))return!0}return!1}function Cc(t){if(jr(t),Di(t))for(let n=0;n<t.producerNode.length;n++)Lr(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Xu(t,n,e){if(ep(t),t.liveConsumerNode.length===0&&tp(t))for(let o=0;o<t.producerNode.length;o++)t.producerIndexOfThis[o]=Xu(t.producerNode[o],t,o);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Lr(t,n){if(ep(t),t.liveConsumerNode.length===1&&tp(t))for(let o=0;o<t.producerNode.length;o++)Lr(t.producerNode[o],t.producerIndexOfThis[o]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let o=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];jr(i),i.producerIndexOfThis[o]=n}}function Di(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function jr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ep(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function tp(t){return t.producerNode!==void 0}function np(t){let n=Object.create(p_);n.computation=t;let e=()=>{if(Ku(n),_c(n),n.value===Fr)throw n.error;return n.value};return e[_n]=n,e}var hc=Symbol("UNSET"),mc=Symbol("COMPUTING"),Fr=Symbol("ERRORED"),p_=J(I({},Si),{value:hc,dirty:!0,error:null,equal:Yu,producerMustRecompute(t){return t.value===hc||t.value===mc},producerRecomputeValue(t){if(t.value===mc)throw new Error("Detected cycle in computations.");let n=t.value;t.value=mc;let e=Vr(t),o;try{o=t.computation()}catch(i){o=Fr,t.error=i}finally{vc(t,e)}if(n!==hc&&n!==Fr&&o!==Fr&&t.equal(n,o)){t.value=n;return}t.value=o,t.version++}});function f_(){throw new Error}var op=f_;function ip(){op()}function rp(t){op=t}var g_=null;function sp(t){let n=Object.create(cp);n.value=t;let e=()=>(_c(n),n.value);return e[_n]=n,e}function bc(t,n){Ju()||ip(),t.equal(t.value,n)||(t.value=n,h_(t))}function ap(t,n){Ju()||ip(),bc(t,n(t.value))}var cp=J(I({},Si),{equal:Yu,value:void 0});function h_(t){t.version++,d_(),Qu(t),g_?.()}function q(t){return typeof t=="function"}function ko(t){let e=t(o=>{Error.call(o),o.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ur=ko(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((o,i)=>`${i+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Oi(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Fe=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let r of e)r.remove(this);else e.remove(this);let{initialTeardown:o}=this;if(q(o))try{o()}catch(r){n=r instanceof Ur?r.errors:[r]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let r of i)try{lp(r)}catch(s){n=n??[],s instanceof Ur?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ur(n)}}add(n){var e;if(n&&n!==this)if(this.closed)lp(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Oi(e,n)}remove(n){let{_finalizers:e}=this;e&&Oi(e,n),n instanceof t&&n._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var yc=Fe.EMPTY;function zr(t){return t instanceof Fe||t&&"closed"in t&&q(t.remove)&&q(t.add)&&q(t.unsubscribe)}function lp(t){q(t)?t():t.unsubscribe()}var Ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ro={setTimeout(t,n,...e){let{delegate:o}=Ro;return o?.setTimeout?o.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Ro;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $r(t){Ro.setTimeout(()=>{let{onUnhandledError:n}=Ut;if(n)n(t);else throw t})}function Ii(){}var dp=Mc("C",void 0,void 0);function up(t){return Mc("E",void 0,t)}function pp(t){return Mc("N",t,void 0)}function Mc(t,n,e){return{kind:t,value:n,error:e}}var ao=null;function Ao(t){if(Ut.useDeprecatedSynchronousErrorHandling){let n=!ao;if(n&&(ao={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:o}=ao;if(ao=null,e)throw o}}else t()}function fp(t){Ut.useDeprecatedSynchronousErrorHandling&&ao&&(ao.errorThrown=!0,ao.error=t)}var co=class extends Fe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,zr(n)&&n.add(this)):this.destination=v_}static create(n,e,o){return new No(n,e,o)}next(n){this.isStopped?wc(pp(n),this):this._next(n)}error(n){this.isStopped?wc(up(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?wc(dp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},m_=Function.prototype.bind;function Ec(t,n){return m_.call(t,n)}var Pc=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(o){Br(o)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(o){Br(o)}else Br(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Br(e)}}},No=class extends co{constructor(n,e,o){super();let i;if(q(n)||!n)i={next:n??void 0,error:e??void 0,complete:o??void 0};else{let r;this&&Ut.useDeprecatedNextContext?(r=Object.create(n),r.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Ec(n.next,r),error:n.error&&Ec(n.error,r),complete:n.complete&&Ec(n.complete,r)}):i=n}this.destination=new Pc(i)}};function Br(t){Ut.useDeprecatedSynchronousErrorHandling?fp(t):$r(t)}function __(t){throw t}function wc(t,n){let{onStoppedNotification:e}=Ut;e&&Ro.setTimeout(()=>e(t,n))}var v_={closed:!0,next:Ii,error:__,complete:Ii};var Fo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(t){return t}function Dc(...t){return Sc(t)}function Sc(t){return t.length===0?wt:t.length===1?t[0]:function(e){return t.reduce((o,i)=>i(o),e)}}var Y=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let o=new t;return o.source=this,o.operator=e,o}subscribe(e,o,i){let r=C_(e)?e:new No(e,o,i);return Ao(()=>{let{operator:s,source:l}=this;r.add(s?s.call(r,l):l?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(o){e.error(o)}}forEach(e,o){return o=gp(o),new o((i,r)=>{let s=new No({next:l=>{try{e(l)}catch(u){r(u),s.unsubscribe()}},error:r,complete:i});this.subscribe(s)})}_subscribe(e){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(e)}[Fo](){return this}pipe(...e){return Sc(e)(this)}toPromise(e){return e=gp(e),new e((o,i)=>{let r;this.subscribe(s=>r=s,s=>i(s),()=>o(r))})}}return t.create=n=>new t(n),t})();function gp(t){var n;return(n=t??Ut.Promise)!==null&&n!==void 0?n:Promise}function x_(t){return t&&q(t.next)&&q(t.error)&&q(t.complete)}function C_(t){return t&&t instanceof co||x_(t)&&zr(t)}function Oc(t){return q(t?.lift)}function ee(t){return n=>{if(Oc(n))return n.lift(function(e){try{return t(e,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,n,e,o,i){return new Ic(t,n,e,o,i)}var Ic=class extends co{constructor(n,e,o,i,r,s){super(n),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=e?function(l){try{e(l)}catch(u){n.error(u)}}:super._next,this._error=i?function(l){try{i(l)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Vo(){return ee((t,n)=>{let e=null;t._refCount++;let o=oe(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,r=e;e=null,i&&(!r||i===r)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(o),o.closed||(e=t.connect())})}var Lo=class extends Y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Oc(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Fe;let e=this.getSubject();n.add(this.source.subscribe(oe(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Fe.EMPTY)}return n}refCount(){return Vo()(this)}};var hp=ko(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ge=(()=>{class t extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let o=new Hr(this,this);return o.operator=e,o}_throwIfClosed(){if(this.closed)throw new hp}next(e){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(e)}})}error(e){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:o}=this;for(;o.length;)o.shift().error(e)}})}complete(){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:o,isStopped:i,observers:r}=this;return o||i?yc:(this.currentObservers=null,r.push(e),new Fe(()=>{this.currentObservers=null,Oi(r,e)}))}_checkFinalizedStatuses(e){let{hasError:o,thrownError:i,isStopped:r}=this;o?e.error(i):r&&e.complete()}asObservable(){let e=new Y;return e.source=this,e}}return t.create=(n,e)=>new Hr(n,e),t})(),Hr=class extends Ge{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,o;(o=(e=this.destination)===null||e===void 0?void 0:e.next)===null||o===void 0||o.call(e,n)}error(n){var e,o;(o=(e=this.destination)===null||e===void 0?void 0:e.error)===null||o===void 0||o.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,o;return(o=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&o!==void 0?o:yc}};var Se=class extends Ge{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:o}=this;if(n)throw e;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}};var Pt=new Y(t=>t.complete());function mp(t){return t&&q(t.schedule)}function _p(t){return t[t.length-1]}function Gr(t){return q(_p(t))?t.pop():void 0}function Vn(t){return mp(_p(t))?t.pop():void 0}function xp(t,n,e,o){function i(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function l(m){try{f(o.next(m))}catch(v){s(v)}}function u(m){try{f(o.throw(m))}catch(v){s(v)}}function f(m){m.done?r(m.value):i(m.value).then(l,u)}f((o=o.apply(t,n||[])).next())})}function vp(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],o=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function lo(t){return this instanceof lo?(this.v=t,this):new lo(t)}function Cp(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=e.apply(t,n||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(D){return Promise.resolve(D).then(y,v)}}function l(y,D){o[y]&&(i[y]=function(T){return new Promise(function(k,G){r.push([y,T,k,G])>1||u(y,T)})},D&&(i[y]=D(i[y])))}function u(y,D){try{f(o[y](D))}catch(T){M(r[0][3],T)}}function f(y){y.value instanceof lo?Promise.resolve(y.value.v).then(m,v):M(r[0][2],y)}function m(y){u("next",y)}function v(y){u("throw",y)}function M(y,D){y(D),r.shift(),r.length&&u(r[0][0],r[0][1])}}function bp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof vp=="function"?vp(t):t[Symbol.iterator](),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(r){e[r]=t[r]&&function(s){return new Promise(function(l,u){s=t[r](s),i(l,u,s.done,s.value)})}}function i(r,s,l,u){Promise.resolve(u).then(function(f){r({value:f,done:l})},s)}}var Wr=t=>t&&typeof t.length=="number"&&typeof t!="function";function qr(t){return q(t?.then)}function Yr(t){return q(t[Fo])}function Zr(t){return Symbol.asyncIterator&&q(t?.[Symbol.asyncIterator])}function Kr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function b_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qr=b_();function Jr(t){return q(t?.[Qr])}function Xr(t){return Cp(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:o,done:i}=yield lo(e.read());if(i)return yield lo(void 0);yield yield lo(o)}}finally{e.releaseLock()}})}function es(t){return q(t?.getReader)}function Ve(t){if(t instanceof Y)return t;if(t!=null){if(Yr(t))return y_(t);if(Wr(t))return M_(t);if(qr(t))return E_(t);if(Zr(t))return yp(t);if(Jr(t))return w_(t);if(es(t))return P_(t)}throw Kr(t)}function y_(t){return new Y(n=>{let e=t[Fo]();if(q(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function M_(t){return new Y(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function E_(t){return new Y(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,$r)})}function w_(t){return new Y(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function yp(t){return new Y(n=>{D_(t,n).catch(e=>n.error(e))})}function P_(t){return yp(Xr(t))}function D_(t,n){var e,o,i,r;return xp(this,void 0,void 0,function*(){try{for(e=bp(t);o=yield e.next(),!o.done;){let s=o.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=e.return)&&(yield r.call(e))}finally{if(i)throw i.error}}n.complete()})}function gt(t,n,e,o=0,i=!1){let r=n.schedule(function(){e(),i?t.add(this.schedule(null,o)):this.unsubscribe()},o);if(t.add(r),!i)return r}function ts(t,n=0){return ee((e,o)=>{e.subscribe(oe(o,i=>gt(o,t,()=>o.next(i),n),()=>gt(o,t,()=>o.complete(),n),i=>gt(o,t,()=>o.error(i),n)))})}function ns(t,n=0){return ee((e,o)=>{o.add(t.schedule(()=>e.subscribe(o),n))})}function Mp(t,n){return Ve(t).pipe(ns(n),ts(n))}function Ep(t,n){return Ve(t).pipe(ns(n),ts(n))}function wp(t,n){return new Y(e=>{let o=0;return n.schedule(function(){o===t.length?e.complete():(e.next(t[o++]),e.closed||this.schedule())})})}function Pp(t,n){return new Y(e=>{let o;return gt(e,n,()=>{o=t[Qr](),gt(e,n,()=>{let i,r;try{({value:i,done:r}=o.next())}catch(s){e.error(s);return}r?e.complete():e.next(i)},0,!0)}),()=>q(o?.return)&&o.return()})}function os(t,n){if(!t)throw new Error("Iterable cannot be null");return new Y(e=>{gt(e,n,()=>{let o=t[Symbol.asyncIterator]();gt(e,n,()=>{o.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Dp(t,n){return os(Xr(t),n)}function Sp(t,n){if(t!=null){if(Yr(t))return Mp(t,n);if(Wr(t))return wp(t,n);if(qr(t))return Ep(t,n);if(Zr(t))return os(t,n);if(Jr(t))return Pp(t,n);if(es(t))return Dp(t,n)}throw Kr(t)}function ye(t,n){return n?Sp(t,n):Ve(t)}function R(...t){let n=Vn(t);return ye(t,n)}function Dt(t,n){let e=q(t)?t:()=>t,o=i=>i.error(e());return new Y(n?i=>n.schedule(o,0,i):o)}function Tc(t){return!!t&&(t instanceof Y||q(t.lift)&&q(t.subscribe))}var vn=ko(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function L(t,n){return ee((e,o)=>{let i=0;e.subscribe(oe(o,r=>{o.next(t.call(n,r,i++))}))})}var{isArray:S_}=Array;function O_(t,n){return S_(n)?t(...n):t(n)}function is(t){return L(n=>O_(t,n))}var{isArray:I_}=Array,{getPrototypeOf:T_,prototype:k_,keys:R_}=Object;function rs(t){if(t.length===1){let n=t[0];if(I_(n))return{args:n,keys:null};if(A_(n)){let e=R_(n);return{args:e.map(o=>n[o]),keys:e}}}return{args:t,keys:null}}function A_(t){return t&&typeof t=="object"&&T_(t)===k_}function ss(t,n){return t.reduce((e,o,i)=>(e[o]=n[i],e),{})}function as(...t){let n=Vn(t),e=Gr(t),{args:o,keys:i}=rs(t);if(o.length===0)return ye([],n);let r=new Y(N_(o,n,i?s=>ss(i,s):wt));return e?r.pipe(is(e)):r}function N_(t,n,e=wt){return o=>{Op(n,()=>{let{length:i}=t,r=new Array(i),s=i,l=i;for(let u=0;u<i;u++)Op(n,()=>{let f=ye(t[u],n),m=!1;f.subscribe(oe(o,v=>{r[u]=v,m||(m=!0,l--),l||o.next(e(r.slice()))},()=>{--s||o.complete()}))},o)},o)}}function Op(t,n,e){t?gt(e,t,n):n()}function Ip(t,n,e,o,i,r,s,l){let u=[],f=0,m=0,v=!1,M=()=>{v&&!u.length&&!f&&n.complete()},y=T=>f<o?D(T):u.push(T),D=T=>{r&&n.next(T),f++;let k=!1;Ve(e(T,m++)).subscribe(oe(n,G=>{i?.(G),r?y(G):n.next(G)},()=>{k=!0},void 0,()=>{if(k)try{for(f--;u.length&&f<o;){let G=u.shift();s?gt(n,s,()=>D(G)):D(G)}M()}catch(G){n.error(G)}}))};return t.subscribe(oe(n,y,()=>{v=!0,M()})),()=>{l?.()}}function He(t,n,e=1/0){return q(n)?He((o,i)=>L((r,s)=>n(o,r,i,s))(Ve(t(o,i))),e):(typeof n=="number"&&(e=n),ee((o,i)=>Ip(o,i,t,e)))}function kc(t=1/0){return He(wt,t)}function Tp(){return kc(1)}function jo(...t){return Tp()(ye(t,Vn(t)))}function cs(t){return new Y(n=>{Ve(t()).subscribe(n)})}function Rc(...t){let n=Gr(t),{args:e,keys:o}=rs(t),i=new Y(r=>{let{length:s}=e;if(!s){r.complete();return}let l=new Array(s),u=s,f=s;for(let m=0;m<s;m++){let v=!1;Ve(e[m]).subscribe(oe(r,M=>{v||(v=!0,f--),l[m]=M},()=>u--,void 0,()=>{(!u||!v)&&(f||r.next(o?ss(o,l):l),r.complete())}))}});return n?i.pipe(is(n)):i}function ot(t,n){return ee((e,o)=>{let i=0;e.subscribe(oe(o,r=>t.call(n,r,i++)&&o.next(r)))})}function Q(t){return ee((n,e)=>{let o=null,i=!1,r;o=n.subscribe(oe(e,void 0,void 0,s=>{r=Ve(t(s,Q(t)(n))),o?(o.unsubscribe(),o=null,r.subscribe(e)):i=!0})),i&&(o.unsubscribe(),o=null,r.subscribe(e))})}function ls(t,n,e,o,i){return(r,s)=>{let l=e,u=n,f=0;r.subscribe(oe(s,m=>{let v=f++;u=l?t(u,m,v):(l=!0,m),o&&s.next(u)},i&&(()=>{l&&s.next(u),s.complete()})))}}function kp(t,n){return ee(ls(t,n,arguments.length>=2,!1,!0))}var F_=(t,n)=>(t.push(n),t);function ds(){return ee((t,n)=>{kp(F_,[])(t).subscribe(n)})}function zt(t,n){return q(n)?He(t,n,1):He(t,1)}function Ln(t){return ee((n,e)=>{let o=!1;n.subscribe(oe(e,i=>{o=!0,e.next(i)},()=>{o||e.next(t),e.complete()}))})}function xn(t){return t<=0?()=>Pt:ee((n,e)=>{let o=0;n.subscribe(oe(e,i=>{++o<=t&&(e.next(i),t<=o&&e.complete())}))})}function Ac(t){return L(()=>t)}function us(t=V_){return ee((n,e)=>{let o=!1;n.subscribe(oe(e,i=>{o=!0,e.next(i)},()=>o?e.complete():e.error(t())))})}function V_(){return new vn}function jn(t){return ee((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function en(t,n){let e=arguments.length>=2;return o=>o.pipe(t?ot((i,r)=>t(i,r,o)):wt,xn(1),e?Ln(n):us(()=>new vn))}function Uo(t){return t<=0?()=>Pt:ee((n,e)=>{let o=[];n.subscribe(oe(e,i=>{o.push(i),t<o.length&&o.shift()},()=>{for(let i of o)e.next(i);e.complete()},void 0,()=>{o=null}))})}function Nc(t,n){let e=arguments.length>=2;return o=>o.pipe(t?ot((i,r)=>t(i,r,o)):wt,Uo(1),e?Ln(n):us(()=>new vn))}function Fc(t,n){return ee(ls(t,n,arguments.length>=2,!0))}function Vc(...t){let n=Vn(t);return ee((e,o)=>{(n?jo(t,e,n):jo(t,e)).subscribe(o)})}function Le(t,n){return ee((e,o)=>{let i=null,r=0,s=!1,l=()=>s&&!i&&o.complete();e.subscribe(oe(o,u=>{i?.unsubscribe();let f=0,m=r++;Ve(t(u,m)).subscribe(i=oe(o,v=>o.next(n?n(u,v,m,f++):v),()=>{i=null,l()}))},()=>{s=!0,l()}))})}function Lc(t){return ee((n,e)=>{Ve(t).subscribe(oe(e,()=>e.complete(),Ii)),!e.closed&&n.subscribe(e)})}function te(t,n,e){let o=q(t)||n||e?{next:t,error:n,complete:e}:t;return o?ee((i,r)=>{var s;(s=o.subscribe)===null||s===void 0||s.call(o);let l=!0;i.subscribe(oe(r,u=>{var f;(f=o.next)===null||f===void 0||f.call(o,u),r.next(u)},()=>{var u;l=!1,(u=o.complete)===null||u===void 0||u.call(o),r.complete()},u=>{var f;l=!1,(f=o.error)===null||f===void 0||f.call(o,u),r.error(u)},()=>{var u,f;l&&((u=o.unsubscribe)===null||u===void 0||u.call(o)),(f=o.finalize)===null||f===void 0||f.call(o)}))}):wt}var vf="https://g.co/ng/security#xss",j=class extends Error{constructor(n,e){super(qs(n,e)),this.code=n}};function qs(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}function zi(t){return{toString:t}.toString()}var ps="__parameters__";function L_(t){return function(...e){if(t){let o=t(...e);for(let i in o)this[i]=o[i]}}}function xf(t,n,e){return zi(()=>{let o=L_(n);function i(...r){if(this instanceof i)return o.apply(this,r),this;let s=new i(...r);return l.annotation=s,l;function l(u,f,m){let v=u.hasOwnProperty(ps)?u[ps]:Object.defineProperty(u,ps,{value:[]})[ps];for(;v.length<=m;)v.push(null);return(v[m]=v[m]||[]).push(s),u}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var po=globalThis;function xe(t){for(let n in t)if(t[n]===xe)return n;throw Error("Could not find renamed property on target object.")}function j_(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function rt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(rt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function Xc(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var U_=xe({__forward_ref__:xe});function Je(t){return t.__forward_ref__=Je,t.toString=function(){return rt(this())},t}function it(t){return Cf(t)?t():t}function Cf(t){return typeof t=="function"&&t.hasOwnProperty(U_)&&t.__forward_ref__===Je}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ys(t){return Rp(t,yf)||Rp(t,Mf)}function bf(t){return Ys(t)!==null}function Rp(t,n){return t.hasOwnProperty(n)?t[n]:null}function z_(t){let n=t&&(t[yf]||t[Mf]);return n||null}function Ap(t){return t&&(t.hasOwnProperty(Np)||t.hasOwnProperty($_))?t[Np]:null}var yf=xe({\u0275prov:xe}),Np=xe({\u0275inj:xe}),Mf=xe({ngInjectableDef:xe}),$_=xe({ngInjectorDef:xe}),U=class{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=A({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ef(t){return t&&!!t.\u0275providers}var B_=xe({\u0275cmp:xe}),H_=xe({\u0275dir:xe}),G_=xe({\u0275pipe:xe}),W_=xe({\u0275mod:xe}),ys=xe({\u0275fac:xe}),Ri=xe({__NG_ELEMENT_ID__:xe}),Fp=xe({__NG_ENV_ID__:xe});function Cn(t){return typeof t=="string"?t:t==null?"":String(t)}function q_(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Cn(t)}function Y_(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new j(-200,t)}function $l(t,n){throw new j(-201,!1)}var X=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(X||{}),el;function wf(){return el}function ht(t){let n=el;return el=t,n}function Pf(t,n,e){let o=Ys(t);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(e&X.Optional)return null;if(n!==void 0)return n;$l(t,"Injector")}var Z_={},Ai=Z_,tl="__NG_DI_FLAG__",Ms="ngTempTokenPath",K_="ngTokenPath",Q_=/\n/gm,J_="\u0275",Vp="__source",Ho;function X_(){return Ho}function Un(t){let n=Ho;return Ho=t,n}function ev(t,n=X.Default){if(Ho===void 0)throw new j(-203,!1);return Ho===null?Pf(t,void 0,n):Ho.get(t,n&X.Optional?null:void 0,n)}function z(t,n=X.Default){return(wf()||ev)(it(t),n)}function O(t,n=X.Default){return z(t,Zs(n))}function Zs(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function nl(t){let n=[];for(let e=0;e<t.length;e++){let o=it(t[e]);if(Array.isArray(o)){if(o.length===0)throw new j(900,!1);let i,r=X.Default;for(let s=0;s<o.length;s++){let l=o[s],u=tv(l);typeof u=="number"?u===-1?i=l.token:r|=u:i=l}n.push(z(i,r))}else n.push(z(o))}return n}function Df(t,n){return t[tl]=n,t.prototype[tl]=n,t}function tv(t){return t[tl]}function nv(t,n,e,o){let i=t[Ms];throw n[Vp]&&i.unshift(n[Vp]),t.message=ov(`
`+t.message,i,e,o),t[K_]=i,t[Ms]=null,t}function ov(t,n,e,o=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==J_?t.slice(2):t;let i=rt(n);if(Array.isArray(n))i=n.map(rt).join(" -> ");else if(typeof n=="object"){let r=[];for(let s in n)if(n.hasOwnProperty(s)){let l=n[s];r.push(s+":"+(typeof l=="string"?JSON.stringify(l):rt(l)))}i=`{${r.join(", ")}}`}return`${e}${o?"("+o+")":""}[${i}]: ${t.replace(Q_,`
  `)}`}var Bl=Df(xf("Optional"),8);var Sf=Df(xf("SkipSelf"),4);function go(t,n){let e=t.hasOwnProperty(ys);return e?t[ys]:null}function Hl(t,n){t.forEach(e=>Array.isArray(e)?Hl(e,n):n(e))}function Of(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Es(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function iv(t,n,e,o){let i=t.length;if(i==n)t.push(e,o);else if(i===1)t.push(o,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let r=i-2;t[i]=t[r],i--}t[n]=e,t[n+1]=o}}function Gl(t,n,e){let o=$i(t,n);return o>=0?t[o|1]=e:(o=~o,iv(t,o,n,e)),o}function jc(t,n){let e=$i(t,n);if(e>=0)return t[e|1]}function $i(t,n){return rv(t,n,1)}function rv(t,n,e){let o=0,i=t.length>>e;for(;i!==o;){let r=o+(i-o>>1),s=t[r<<e];if(n===s)return r<<e;s>n?i=r:o=r+1}return~(i<<e)}var Wo={},mt=[],qo=new U(""),If=new U("",-1),Tf=new U(""),ws=class{get(n,e=Ai){if(e===Ai){let o=new Error(`NullInjectorError: No provider for ${rt(n)}!`);throw o.name="NullInjectorError",o}return e}},kf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(kf||{}),on=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(on||{}),Bn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Bn||{});function sv(t,n,e){let o=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let r=n.length;if(i+r===o||t.charCodeAt(i+r)<=32)return i}e=i+1}}function ol(t,n,e){let o=0;for(;o<e.length;){let i=e[o];if(typeof i=="number"){if(i!==0)break;o++;let r=e[o++],s=e[o++],l=e[o++];t.setAttribute(n,s,l,r)}else{let r=i,s=e[++o];av(r)?t.setProperty(n,r,s):t.setAttribute(n,r,s),o++}}return o}function Rf(t){return t===3||t===4||t===6}function av(t){return t.charCodeAt(0)===64}function Ni(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let o=0;o<n.length;o++){let i=n[o];typeof i=="number"?e=i:e===0||(e===-1||e===2?Lp(t,e,i,null,n[++o]):Lp(t,e,i,null,null))}}return t}function Lp(t,n,e,o,i){let r=0,s=t.length;if(n===-1)s=-1;else for(;r<t.length;){let l=t[r++];if(typeof l=="number"){if(l===n){s=-1;break}else if(l>n){s=r-1;break}}}for(;r<t.length;){let l=t[r];if(typeof l=="number")break;if(l===e){if(o===null){i!==null&&(t[r+1]=i);return}else if(o===t[r+1]){t[r+2]=i;return}}r++,o!==null&&r++,i!==null&&r++}s!==-1&&(t.splice(s,0,n),r=s+1),t.splice(r++,0,e),o!==null&&t.splice(r++,0,o),i!==null&&t.splice(r++,0,i)}var Af="ng-template";function cv(t,n,e,o){let i=0;if(o){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&sv(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Wl(t))return!1;if(i=n.indexOf(1,i),i>-1){let r;for(;++i<n.length&&typeof(r=n[i])=="string";)if(r.toLowerCase()===e)return!0}return!1}function Wl(t){return t.type===4&&t.value!==Af}function lv(t,n,e){let o=t.type===4&&!e?Af:t.value;return n===o}function dv(t,n,e){let o=4,i=t.attrs,r=i!==null?fv(i):0,s=!1;for(let l=0;l<n.length;l++){let u=n[l];if(typeof u=="number"){if(!s&&!$t(o)&&!$t(u))return!1;if(s&&$t(u))continue;s=!1,o=u|o&1;continue}if(!s)if(o&4){if(o=2|o&1,u!==""&&!lv(t,u,e)||u===""&&n.length===1){if($t(o))return!1;s=!0}}else if(o&8){if(i===null||!cv(t,i,u,e)){if($t(o))return!1;s=!0}}else{let f=n[++l],m=uv(u,i,Wl(t),e);if(m===-1){if($t(o))return!1;s=!0;continue}if(f!==""){let v;if(m>r?v="":v=i[m+1].toLowerCase(),o&2&&f!==v){if($t(o))return!1;s=!0}}}}return $t(o)||s}function $t(t){return(t&1)===0}function uv(t,n,e,o){if(n===null)return-1;let i=0;if(o||!e){let r=!1;for(;i<n.length;){let s=n[i];if(s===t)return i;if(s===3||s===6)r=!0;else if(s===1||s===2){let l=n[++i];for(;typeof l=="string";)l=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=r?1:2}return-1}else return gv(n,t)}function pv(t,n,e=!1){for(let o=0;o<n.length;o++)if(dv(t,n[o],e))return!0;return!1}function fv(t){for(let n=0;n<t.length;n++){let e=t[n];if(Rf(e))return n}return t.length}function gv(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let o=t[e];if(typeof o=="number")return-1;if(o===n)return e;e++}return-1}function jp(t,n){return t?":not("+n.trim()+")":n}function hv(t){let n=t[0],e=1,o=2,i="",r=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(o&2){let l=t[++e];i+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else o&8?i+="."+s:o&4&&(i+=" "+s);else i!==""&&!$t(s)&&(n+=jp(r,i),i=""),o=s,r=r||!$t(o);e++}return i!==""&&(n+=jp(r,i)),n}function mv(t){return t.map(hv).join(",")}function _v(t){let n=[],e=[],o=1,i=2;for(;o<t.length;){let r=t[o];if(typeof r=="string")i===2?r!==""&&n.push(r,t[++o]):i===8&&e.push(r);else{if(!$t(i))break;i=r}o++}return{attrs:n,classes:e}}function ce(t){return zi(()=>{let n=jf(t),e=J(I({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||on.Emulated,styles:t.styles||mt,_:null,schemas:t.schemas||null,tView:null,id:""});Uf(e);let o=t.dependencies;return e.directiveDefs=zp(o,!1),e.pipeDefs=zp(o,!0),e.id=Cv(e),e})}function vv(t){return ho(t)||Nf(t)}function xv(t){return t!==null}function Yn(t){return zi(()=>({type:t.type,bootstrap:t.bootstrap||mt,declarations:t.declarations||mt,imports:t.imports||mt,exports:t.exports||mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Up(t,n){if(t==null)return Wo;let e={};for(let o in t)if(t.hasOwnProperty(o)){let i=t[o],r,s,l=Bn.None;Array.isArray(i)?(l=i[0],r=i[1],s=i[2]??r):(r=i,s=i),n?(e[r]=l!==Bn.None?[o,l]:o,n[r]=s):e[r]=o}return e}function me(t){return zi(()=>{let n=jf(t);return Uf(n),n})}function Ks(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ho(t){return t[B_]||null}function Nf(t){return t[H_]||null}function Ff(t){return t[G_]||null}function Vf(t){let n=ho(t)||Nf(t)||Ff(t);return n!==null?n.standalone:!1}function Lf(t,n){let e=t[W_]||null;if(!e&&n===!0)throw new Error(`Type ${rt(t)} does not have '\u0275mod' property.`);return e}function jf(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Wo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Up(t.inputs,n),outputs:Up(t.outputs),debugInfo:null}}function Uf(t){t.features?.forEach(n=>n(t))}function zp(t,n){if(!t)return null;let e=n?Ff:vv;return()=>(typeof t=="function"?t():t).map(o=>e(o)).filter(xv)}function Cv(t){let n=0,e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Bi(t){return{\u0275providers:t}}function bv(...t){return{\u0275providers:zf(!0,t),\u0275fromNgModule:!0}}function zf(t,...n){let e=[],o=new Set,i,r=s=>{e.push(s)};return Hl(n,s=>{let l=s;il(l,r,[],o)&&(i||=[],i.push(l))}),i!==void 0&&$f(i,r),e}function $f(t,n){for(let e=0;e<t.length;e++){let{ngModule:o,providers:i}=t[e];ql(i,r=>{n(r,o)})}}function il(t,n,e,o){if(t=it(t),!t)return!1;let i=null,r=Ap(t),s=!r&&ho(t);if(!r&&!s){let u=t.ngModule;if(r=Ap(u),r)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let l=o.has(i);if(s){if(l)return!1;if(o.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let f of u)il(f,n,e,o)}}else if(r){if(r.imports!=null&&!l){o.add(i);let f;try{Hl(r.imports,m=>{il(m,n,e,o)&&(f||=[],f.push(m))})}finally{}f!==void 0&&$f(f,n)}if(!l){let f=go(i)||(()=>new i);n({provide:i,useFactory:f,deps:mt},i),n({provide:Tf,useValue:i,multi:!0},i),n({provide:qo,useValue:()=>z(i),multi:!0},i)}let u=r.providers;if(u!=null&&!l){let f=t;ql(u,m=>{n(m,f)})}}else return!1;return i!==t&&t.providers!==void 0}function ql(t,n){for(let e of t)Ef(e)&&(e=e.\u0275providers),Array.isArray(e)?ql(e,n):n(e)}var yv=xe({provide:String,useValue:xe});function Bf(t){return t!==null&&typeof t=="object"&&yv in t}function Mv(t){return!!(t&&t.useExisting)}function Ev(t){return!!(t&&t.useFactory)}function Yo(t){return typeof t=="function"}function wv(t){return!!t.useClass}var Qs=new U(""),_s={},Pv={},Uc;function Yl(){return Uc===void 0&&(Uc=new ws),Uc}var _t=class{},Fi=class extends _t{get destroyed(){return this._destroyed}constructor(n,e,o,i){super(),this.parent=e,this.source=o,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sl(n,s=>this.processProvider(s)),this.records.set(If,zo(void 0,this)),i.has("environment")&&this.records.set(_t,zo(void 0,this));let r=this.records.get(Qs);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(Tf,mt,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=re(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of e)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let e=Un(this),o=ht(void 0),i;try{return n()}finally{Un(e),ht(o)}}get(n,e=Ai,o=X.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Fp))return n[Fp](this);o=Zs(o);let i,r=Un(this),s=ht(void 0);try{if(!(o&X.SkipSelf)){let u=this.records.get(n);if(u===void 0){let f=Tv(n)&&Ys(n);f&&this.injectableDefInScope(f)?u=zo(rl(n),_s):u=null,this.records.set(n,u)}if(u!=null)return this.hydrate(n,u)}let l=o&X.Self?Yl():this.parent;return e=o&X.Optional&&e===Ai?null:e,l.get(n,e)}catch(l){if(l.name==="NullInjectorError"){if((l[Ms]=l[Ms]||[]).unshift(rt(n)),r)throw l;return nv(l,n,"R3InjectorError",this.source)}else throw l}finally{ht(s),Un(r)}}resolveInjectorInitializers(){let n=re(null),e=Un(this),o=ht(void 0),i;try{let r=this.get(qo,mt,X.Self);for(let s of r)s()}finally{Un(e),ht(o),re(n)}}toString(){let n=[],e=this.records;for(let o of e.keys())n.push(rt(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(n){n=it(n);let e=Yo(n)?n:it(n&&n.provide),o=Sv(n);if(!Yo(n)&&n.multi===!0){let i=this.records.get(e);i||(i=zo(void 0,_s,!0),i.factory=()=>nl(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,o)}hydrate(n,e){let o=re(null);try{return e.value===_s&&(e.value=Pv,e.value=e.factory()),typeof e.value=="object"&&e.value&&Iv(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{re(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=it(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function rl(t){let n=Ys(t),e=n!==null?n.factory:go(t);if(e!==null)return e;if(t instanceof U)throw new j(204,!1);if(t instanceof Function)return Dv(t);throw new j(204,!1)}function Dv(t){if(t.length>0)throw new j(204,!1);let e=z_(t);return e!==null?()=>e.factory(t):()=>new t}function Sv(t){if(Bf(t))return zo(void 0,t.useValue);{let n=Hf(t);return zo(n,_s)}}function Hf(t,n,e){let o;if(Yo(t)){let i=it(t);return go(i)||rl(i)}else if(Bf(t))o=()=>it(t.useValue);else if(Ev(t))o=()=>t.useFactory(...nl(t.deps||[]));else if(Mv(t))o=()=>z(it(t.useExisting));else{let i=it(t&&(t.useClass||t.provide));if(Ov(t))o=()=>new i(...nl(t.deps));else return go(i)||rl(i)}return o}function zo(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Ov(t){return!!t.deps}function Iv(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Tv(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function sl(t,n){for(let e of t)Array.isArray(e)?sl(e,n):e&&Ef(e)?sl(e.\u0275providers,n):n(e)}function Wt(t,n){t instanceof Fi&&t.assertNotDestroyed();let e,o=Un(t),i=ht(void 0);try{return n()}finally{Un(o),ht(i)}}function kv(){return wf()!==void 0||X_()!=null}function Rv(t){return typeof t=="function"}var wn=0,ne=1,W=2,st=3,Ht=4,qt=5,Ps=6,Ds=7,Gt=8,Zo=9,rn=10,Ie=11,Vi=12,$p=13,ii=14,sn=15,Ko=16,$o=17,Qo=18,Js=19,Gf=20,zn=21,zc=22,kt=23,At=25,Wf=1;var mo=7,Ss=8,Os=9,Rt=10,Is=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Is||{});function $n(t){return Array.isArray(t)&&typeof t[Wf]=="object"}function Pn(t){return Array.isArray(t)&&t[Wf]===!0}function Zl(t){return(t.flags&4)!==0}function Xs(t){return t.componentOffset>-1}function ea(t){return(t.flags&1)===1}function Hn(t){return!!t.template}function al(t){return(t[W]&512)!==0}var cl=class{constructor(n,e,o){this.previousValue=n,this.currentValue=e,this.firstChange=o}isFirstChange(){return this.firstChange}};function qf(t,n,e,o){n!==null?n.applyValueToInputSignal(n,o):t[e]=o}function Zn(){return Yf}function Yf(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nv),Av}Zn.ngInherit=!0;function Av(){let t=Kf(this),n=t?.current;if(n){let e=t.previous;if(e===Wo)t.previous=n;else for(let o in n)e[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Nv(t,n,e,o,i){let r=this.declaredInputs[o],s=Kf(t)||Fv(t,{previous:Wo,current:null}),l=s.current||(s.current={}),u=s.previous,f=u[r];l[r]=new cl(f&&f.currentValue,e,u===Wo),qf(t,n,i,e)}var Zf="__ngSimpleChanges__";function Kf(t){return t[Zf]||null}function Fv(t,n){return t[Zf]=n}var Bp=null;var tn=function(t,n,e){Bp?.(t,n,e)},Qf="svg",Vv="math";function an(t){for(;Array.isArray(t);)t=t[wn];return t}function Jf(t,n){return an(n[t])}function Nt(t,n){return an(n[t.index])}function Xf(t,n){return t.data[n]}function eg(t,n){return t[n]}function Kn(t,n){let e=n[t];return $n(e)?e:e[wn]}function Kl(t){return(t[W]&128)===128}function Lv(t){return Pn(t[st])}function Jo(t,n){return n==null?null:t[n]}function tg(t){t[$o]=0}function ng(t){t[W]&1024||(t[W]|=1024,Kl(t)&&na(t))}function jv(t,n){for(;t>0;)n=n[ii],t--;return n}function ta(t){return!!(t[W]&9216||t[kt]?.dirty)}function ll(t){t[rn].changeDetectionScheduler?.notify(8),t[W]&64&&(t[W]|=1024),ta(t)&&na(t)}function na(t){t[rn].changeDetectionScheduler?.notify(0);let n=_o(t);for(;n!==null&&!(n[W]&8192||(n[W]|=8192,!Kl(n)));)n=_o(n)}function og(t,n){if((t[W]&256)===256)throw new j(911,!1);t[zn]===null&&(t[zn]=[]),t[zn].push(n)}function Uv(t,n){if(t[zn]===null)return;let e=t[zn].indexOf(n);e!==-1&&t[zn].splice(e,1)}function _o(t){let n=t[st];return Pn(n)?n[st]:n}var Z={lFrame:fg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ig=!1;function zv(){return Z.lFrame.elementDepthCount}function $v(){Z.lFrame.elementDepthCount++}function Bv(){Z.lFrame.elementDepthCount--}function rg(){return Z.bindingsEnabled}function Hv(){return Z.skipHydrationRootTNode!==null}function Gv(t){return Z.skipHydrationRootTNode===t}function Wv(){Z.skipHydrationRootTNode=null}function ae(){return Z.lFrame.lView}function We(){return Z.lFrame.tView}function x(t){return Z.lFrame.contextLView=t,t[Gt]}function C(t){return Z.lFrame.contextLView=null,t}function Xe(){let t=sg();for(;t!==null&&t.type===64;)t=t.parent;return t}function sg(){return Z.lFrame.currentTNode}function qv(){let t=Z.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function yo(t,n){let e=Z.lFrame;e.currentTNode=t,e.isParent=n}function Ql(){return Z.lFrame.isParent}function ag(){Z.lFrame.isParent=!1}function Yv(){return Z.lFrame.contextLView}function cg(){return ig}function Hp(t){ig=t}function Zv(){let t=Z.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function lg(){return Z.lFrame.bindingIndex}function Kv(t){return Z.lFrame.bindingIndex=t}function oa(){return Z.lFrame.bindingIndex++}function ia(t){let n=Z.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function Qv(){return Z.lFrame.inI18n}function Jv(t,n){let e=Z.lFrame;e.bindingIndex=e.bindingRootIndex=t,dl(n)}function Xv(){return Z.lFrame.currentDirectiveIndex}function dl(t){Z.lFrame.currentDirectiveIndex=t}function ex(t){let n=Z.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function dg(t){Z.lFrame.currentQueryIndex=t}function tx(t){let n=t[ne];return n.type===2?n.declTNode:n.type===1?t[qt]:null}function ug(t,n,e){if(e&X.SkipSelf){let i=n,r=t;for(;i=i.parent,i===null&&!(e&X.Host);)if(i=tx(r),i===null||(r=r[ii],i.type&10))break;if(i===null)return!1;n=i,t=r}let o=Z.lFrame=pg();return o.currentTNode=n,o.lView=t,!0}function Jl(t){let n=pg(),e=t[ne];Z.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function pg(){let t=Z.lFrame,n=t===null?null:t.child;return n===null?fg(t):n}function fg(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function gg(){let t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var hg=gg;function Xl(){let t=gg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nx(t){return(Z.lFrame.contextLView=jv(t,Z.lFrame.contextLView))[Gt]}function Dn(){return Z.lFrame.selectedIndex}function vo(t){Z.lFrame.selectedIndex=t}function ra(){let t=Z.lFrame;return Xf(t.tView,t.selectedIndex)}function mg(){Z.lFrame.currentNamespace=Qf}function _g(){ox()}function ox(){Z.lFrame.currentNamespace=null}function ix(){return Z.lFrame.currentNamespace}var vg=!0;function sa(){return vg}function aa(t){vg=t}function rx(t,n,e){let{ngOnChanges:o,ngOnInit:i,ngDoCheck:r}=n.type.prototype;if(o){let s=Yf(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),r&&((e.preOrderHooks??=[]).push(t,r),(e.preOrderCheckHooks??=[]).push(t,r))}function ca(t,n){for(let e=n.directiveStart,o=n.directiveEnd;e<o;e++){let r=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:m}=r;s&&(t.contentHooks??=[]).push(-e,s),l&&((t.contentHooks??=[]).push(e,l),(t.contentCheckHooks??=[]).push(e,l)),u&&(t.viewHooks??=[]).push(-e,u),f&&((t.viewHooks??=[]).push(e,f),(t.viewCheckHooks??=[]).push(e,f)),m!=null&&(t.destroyHooks??=[]).push(e,m)}}function vs(t,n,e){xg(t,n,3,e)}function xs(t,n,e,o){(t[W]&3)===e&&xg(t,n,e,o)}function $c(t,n){let e=t[W];(e&3)===n&&(e&=16383,e+=1,t[W]=e)}function xg(t,n,e,o){let i=o!==void 0?t[$o]&65535:0,r=o??-1,s=n.length-1,l=0;for(let u=i;u<s;u++)if(typeof n[u+1]=="number"){if(l=n[u],o!=null&&l>=o)break}else n[u]<0&&(t[$o]+=65536),(l<r||r==-1)&&(sx(t,e,n,u),t[$o]=(t[$o]&4294901760)+u+2),u++}function Gp(t,n){tn(4,t,n);let e=re(null);try{n.call(t)}finally{re(e),tn(5,t,n)}}function sx(t,n,e,o){let i=e[o]<0,r=e[o+1],s=i?-e[o]:e[o],l=t[s];i?t[W]>>14<t[$o]>>16&&(t[W]&3)===n&&(t[W]+=16384,Gp(l,r)):Gp(l,r)}var Go=-1,xo=class{constructor(n,e,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=o}};function ax(t){return t instanceof xo}function cx(t){return(t.flags&8)!==0}function lx(t){return(t.flags&16)!==0}var Bc={},ul=class{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,o){o=Zs(o);let i=this.injector.get(n,Bc,o);return i!==Bc||e===Bc?i:this.parentInjector.get(n,e,o)}};function Cg(t){return t!==Go}function Ts(t){return t&32767}function dx(t){return t>>16}function ks(t,n){let e=dx(t),o=n;for(;e>0;)o=o[ii],e--;return o}var pl=!0;function Rs(t){let n=pl;return pl=t,n}var ux=256,bg=ux-1,yg=5,px=0,nn={};function fx(t,n,e){let o;typeof e=="string"?o=e.charCodeAt(0)||0:e.hasOwnProperty(Ri)&&(o=e[Ri]),o==null&&(o=e[Ri]=px++);let i=o&bg,r=1<<i;n.data[t+(i>>yg)]|=r}function As(t,n){let e=Mg(t,n);if(e!==-1)return e;let o=n[ne];o.firstCreatePass&&(t.injectorIndex=n.length,Hc(o.data,t),Hc(n,null),Hc(o.blueprint,null));let i=ed(t,n),r=t.injectorIndex;if(Cg(i)){let s=Ts(i),l=ks(i,n),u=l[ne].data;for(let f=0;f<8;f++)n[r+f]=l[s+f]|u[s+f]}return n[r+8]=i,r}function Hc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Mg(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function ed(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,o=null,i=n;for(;i!==null;){if(o=Sg(i),o===null)return Go;if(e++,i=i[ii],o.injectorIndex!==-1)return o.injectorIndex|e<<16}return Go}function fl(t,n,e){fx(t,n,e)}function gx(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let o=e.length,i=0;for(;i<o;){let r=e[i];if(Rf(r))break;if(r===0)i=i+2;else if(typeof r=="number")for(i++;i<o&&typeof e[i]=="string";)i++;else{if(r===n)return e[i+1];i=i+2}}}return null}function Eg(t,n,e){if(e&X.Optional||t!==void 0)return t;$l(n,"NodeInjector")}function wg(t,n,e,o){if(e&X.Optional&&o===void 0&&(o=null),!(e&(X.Self|X.Host))){let i=t[Zo],r=ht(void 0);try{return i?i.get(n,o,e&X.Optional):Pf(n,o,e&X.Optional)}finally{ht(r)}}return Eg(o,n,e)}function Pg(t,n,e,o=X.Default,i){if(t!==null){if(n[W]&2048&&!(o&X.Self)){let s=xx(t,n,e,o,nn);if(s!==nn)return s}let r=Dg(t,n,e,o,nn);if(r!==nn)return r}return wg(n,e,o,i)}function Dg(t,n,e,o,i){let r=_x(e);if(typeof r=="function"){if(!ug(n,t,o))return o&X.Host?Eg(i,e,o):wg(n,e,o,i);try{let s;if(s=r(o),s==null&&!(o&X.Optional))$l(e);else return s}finally{hg()}}else if(typeof r=="number"){let s=null,l=Mg(t,n),u=Go,f=o&X.Host?n[sn][qt]:null;for((l===-1||o&X.SkipSelf)&&(u=l===-1?ed(t,n):n[l+8],u===Go||!qp(o,!1)?l=-1:(s=n[ne],l=Ts(u),n=ks(u,n)));l!==-1;){let m=n[ne];if(Wp(r,l,m.data)){let v=hx(l,n,e,s,o,f);if(v!==nn)return v}u=n[l+8],u!==Go&&qp(o,n[ne].data[l+8]===f)&&Wp(r,l,n)?(s=m,l=Ts(u),n=ks(u,n)):l=-1}}return i}function hx(t,n,e,o,i,r){let s=n[ne],l=s.data[t+8],u=o==null?Xs(l)&&pl:o!=s&&(l.type&3)!==0,f=i&X.Host&&r===l,m=mx(l,s,e,u,f);return m!==null?Xo(n,s,m,l):nn}function mx(t,n,e,o,i){let r=t.providerIndexes,s=n.data,l=r&1048575,u=t.directiveStart,f=t.directiveEnd,m=r>>20,v=o?l:l+m,M=i?l+m:f;for(let y=v;y<M;y++){let D=s[y];if(y<u&&e===D||y>=u&&D.type===e)return y}if(i){let y=s[u];if(y&&Hn(y)&&y.type===e)return u}return null}function Xo(t,n,e,o){let i=t[e],r=n.data;if(ax(i)){let s=i;s.resolving&&Y_(q_(r[e]));let l=Rs(s.canSeeViewProviders);s.resolving=!0;let u,f=s.injectImpl?ht(s.injectImpl):null,m=ug(t,o,X.Default);try{i=t[e]=s.factory(void 0,r,t,o),n.firstCreatePass&&e>=o.directiveStart&&rx(e,r[e],n)}finally{f!==null&&ht(f),Rs(l),s.resolving=!1,hg()}}return i}function _x(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(Ri)?t[Ri]:void 0;return typeof n=="number"?n>=0?n&bg:vx:n}function Wp(t,n,e){let o=1<<t;return!!(e[n+(t>>yg)]&o)}function qp(t,n){return!(t&X.Self)&&!(t&X.Host&&n)}var fo=class{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,o){return Pg(this._tNode,this._lView,n,Zs(o),e)}};function vx(){return new fo(Xe(),ae())}function vt(t){return zi(()=>{let n=t.prototype.constructor,e=n[ys]||gl(n),o=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==o;){let r=i[ys]||gl(i);if(r&&r!==e)return r;i=Object.getPrototypeOf(i)}return r=>new r})}function gl(t){return Cf(t)?()=>{let n=gl(it(t));return n&&n()}:go(t)}function xx(t,n,e,o,i){let r=t,s=n;for(;r!==null&&s!==null&&s[W]&2048&&!(s[W]&512);){let l=Dg(r,s,e,o|X.Self,nn);if(l!==nn)return l;let u=r.parent;if(!u){let f=s[Gf];if(f){let m=f.get(e,nn,o);if(m!==nn)return m}u=Sg(s),s=s[ii]}r=u}return i}function Sg(t){let n=t[ne],e=n.type;return e===2?n.declTNode:e===1?t[qt]:null}function td(t){return gx(Xe(),t)}function Yp(t,n=null,e=null,o){let i=Og(t,n,e,o);return i.resolveInjectorInitializers(),i}function Og(t,n=null,e=null,o,i=new Set){let r=[e||mt,bv(t)];return o=o||(typeof t=="object"?void 0:rt(t)),new Fi(r,n||Yl(),o||null,i)}var bn=class t{static{this.THROW_IF_NOT_FOUND=Ai}static{this.NULL=new ws}static create(n,e){if(Array.isArray(n))return Yp({name:""},e,n,"");{let o=n.name??"";return Yp({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=A({token:t,providedIn:"any",factory:()=>z(If)})}static{this.__NG_ELEMENT_ID__=-1}};var Cx=new U("");Cx.__NG_ELEMENT_ID__=t=>{let n=Xe();if(n===null)throw new j(204,!1);if(n.type&2)return n.value;if(t&X.Optional)return null;throw new j(204,!1)};var bx="ngOriginalError";function Gc(t){return t[bx]}var Ig=!0,Tg=(()=>{class t{static{this.__NG_ELEMENT_ID__=yx}static{this.__NG_ENV_ID__=e=>e}}return t})(),hl=class extends Tg{constructor(n){super(),this._lView=n}onDestroy(n){return og(this._lView,n),()=>Uv(this._lView,n)}};function yx(){return new hl(ae())}var Sn=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Se(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}}return t})();var ml=class extends Ge{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,kv()&&(this.destroyRef=O(Tg,{optional:!0})??void 0,this.pendingTasks=O(Sn,{optional:!0})??void 0)}emit(n){let e=re(null);try{super.next(n)}finally{re(e)}}subscribe(n,e,o){let i=n,r=e||(()=>null),s=o;if(n&&typeof n=="object"){let u=n;i=u.next?.bind(u),r=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(r=this.wrapInTimeout(r),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:i,error:r,complete:s});return n instanceof Fe&&n.add(l),l}wrapInTimeout(n){return e=>{let o=this.pendingTasks?.add();setTimeout(()=>{n(e),o!==void 0&&this.pendingTasks?.remove(o)})}}},je=ml;function Ns(...t){}function kg(t){let n,e;function o(){t=Ns;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),o()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),o()})),()=>o()}function Zp(t){return queueMicrotask(()=>t()),()=>{t=Ns}}var nd="isAngularZone",Fs=nd+"_ID",Mx=0,Ae=class t{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:r=Ig}=n;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&o,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=r,Px(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(nd)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(n,e,o){return this._inner.run(n,e,o)}runTask(n,e,o,i){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,n,Ex,Ns,Ns);try{return r.runTask(s,e,o)}finally{r.cancelTask(s)}}runGuarded(n,e,o){return this._inner.runGuarded(n,e,o)}runOutsideAngular(n){return this._outer.run(n)}},Ex={};function od(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){kg(()=>{t.callbackScheduled=!1,_l(t),t.isCheckStableRunning=!0,od(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),_l(t)}function Px(t){let n=()=>{wx(t)},e=Mx++;t._inner=t._inner.fork({name:"angular",properties:{[nd]:!0,[Fs]:e,[Fs+e]:!0},onInvokeTask:(o,i,r,s,l,u)=>{if(Dx(u))return o.invokeTask(r,s,l,u);try{return Kp(t),o.invokeTask(r,s,l,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Qp(t)}},onInvoke:(o,i,r,s,l,u,f)=>{try{return Kp(t),o.invoke(r,s,l,u,f)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Sx(u)&&n(),Qp(t)}},onHasTask:(o,i,r,s)=>{o.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,_l(t),od(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(o,i,r,s)=>(o.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function _l(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Kp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qp(t){t._nesting--,od(t)}var vl=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(n,e,o){return n.apply(e,o)}runGuarded(n,e,o){return n.apply(e,o)}runOutsideAngular(n){return n()}runTask(n,e,o,i){return n.apply(e,o)}};function Dx(t){return Rg(t,"__ignore_ng_zone__")}function Sx(t){return Rg(t,"__scheduler_tick__")}function Rg(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var yn=class{constructor(){this._console=console}handleError(n){let e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Gc(n);for(;e&&Gc(e);)e=Gc(e);return e||null}},Ox=new U("",{providedIn:"root",factory:()=>{let t=O(Ae),n=O(yn);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function Ix(){return la(Xe(),ae())}function la(t,n){return new Yt(Nt(t,n))}var Yt=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=Ix}}return t})();function Ag(t){return(t.flags&128)===128}var Ng=new Map,Tx=0;function kx(){return Tx++}function Rx(t){Ng.set(t[Js],t)}function xl(t){Ng.delete(t[Js])}var Jp="__ngContext__";function Gn(t,n){$n(n)?(t[Jp]=n[Js],Rx(n)):t[Jp]=n}function Fg(t){return Lg(t[Vi])}function Vg(t){return Lg(t[Ht])}function Lg(t){for(;t!==null&&!Pn(t);)t=t[Ht];return t}var Cl;function jg(t){Cl=t}function Ax(){if(Cl!==void 0)return Cl;if(typeof document<"u")return document;throw new j(210,!1)}var id=new U("",{providedIn:"root",factory:()=>Nx}),Nx="ng",rd=new U(""),Qn=new U("",{providedIn:"platform",factory:()=>"unknown"});var sd=new U("",{providedIn:"root",factory:()=>Ax().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Fx="h",Vx="b";var Lx=()=>null;function ad(t,n,e=!1){return Lx(t,n,e)}var Ug=!1,jx=new U("",{providedIn:"root",factory:()=>Ug});var fs;function Ux(){if(fs===void 0&&(fs=null,po.trustedTypes))try{fs=po.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fs}function Xp(t){return Ux()?.createScriptURL(t)||t}var Vs=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vf})`}};function ri(t){return t instanceof Vs?t.changingThisBreaksApplicationSecurity:t}function cd(t,n){let e=zx(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${vf})`)}return e===n}function zx(t){return t instanceof Vs&&t.getTypeName()||null}var $x=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zg(t){return t=String(t),t.match($x)?t:"unsafe:"+t}var da=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(da||{});function Jn(t){let n=Bg();return n?n.sanitize(da.URL,t)||"":cd(t,"URL")?ri(t):zg(Cn(t))}function Bx(t){let n=Bg();if(n)return Xp(n.sanitize(da.RESOURCE_URL,t)||"");if(cd(t,"ResourceURL"))return Xp(ri(t));throw new j(904,!1)}function Hx(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?Bx:Jn}function $g(t,n,e){return Hx(n,e)(t)}function Bg(){let t=ae();return t&&t[rn].sanitizer}var Gx=/^>|^->|<!--|-->|--!>|<!-$/g,Wx=/(<|>)/g,qx="\u200B$1\u200B";function Yx(t){return t.replace(Gx,n=>n.replace(Wx,qx))}function Hg(t){return t instanceof Function?t():t}var Mn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mn||{}),Zx;function ld(t,n){return Zx(t,n)}function Bo(t,n,e,o,i){if(o!=null){let r,s=!1;Pn(o)?r=o:$n(o)&&(s=!0,o=o[wn]);let l=an(o);t===0&&e!==null?i==null?Zg(n,e,l):Ls(n,e,l,i||null,!0):t===1&&e!==null?Ls(n,e,l,i||null,!0):t===2?uC(n,l,s):t===3&&n.destroyNode(l),r!=null&&fC(n,t,r,e,i)}}function Kx(t,n){return t.createText(n)}function Qx(t,n,e){t.setValue(n,e)}function Jx(t,n){return t.createComment(Yx(n))}function Gg(t,n,e){return t.createElement(n,e)}function Xx(t,n){Wg(t,n),n[wn]=null,n[qt]=null}function eC(t,n,e,o,i,r){o[wn]=i,o[qt]=n,pa(t,o,e,1,i,r)}function Wg(t,n){n[rn].changeDetectionScheduler?.notify(9),pa(t,n,n[Ie],2,null,null)}function tC(t){let n=t[Vi];if(!n)return Wc(t[ne],t);for(;n;){let e=null;if($n(n))e=n[Vi];else{let o=n[Rt];o&&(e=o)}if(!e){for(;n&&!n[Ht]&&n!==t;)$n(n)&&Wc(n[ne],n),n=n[st];n===null&&(n=t),$n(n)&&Wc(n[ne],n),e=n&&n[Ht]}n=e}}function nC(t,n,e,o){let i=Rt+o,r=e.length;o>0&&(e[i-1][Ht]=n),o<r-Rt?(n[Ht]=e[i],Of(e,Rt+o,n)):(e.push(n),n[Ht]=null),n[st]=e;let s=n[Ko];s!==null&&e!==s&&qg(s,n);let l=n[Qo];l!==null&&l.insertView(t),ll(n),n[W]|=128}function qg(t,n){let e=t[Os],o=n[st];if($n(o))t[W]|=Is.HasTransplantedViews;else{let i=o[st][sn];n[sn]!==i&&(t[W]|=Is.HasTransplantedViews)}e===null?t[Os]=[n]:e.push(n)}function dd(t,n){let e=t[Os],o=e.indexOf(n);e.splice(o,1)}function bl(t,n){if(t.length<=Rt)return;let e=Rt+n,o=t[e];if(o){let i=o[Ko];i!==null&&i!==t&&dd(i,o),n>0&&(t[e-1][Ht]=o[Ht]);let r=Es(t,Rt+n);Xx(o[ne],o);let s=r[Qo];s!==null&&s.detachView(r[ne]),o[st]=null,o[Ht]=null,o[W]&=-129}return o}function Yg(t,n){if(!(n[W]&256)){let e=n[Ie];e.destroyNode&&pa(t,n,e,3,null,null),tC(n)}}function Wc(t,n){if(n[W]&256)return;let e=re(null);try{n[W]&=-129,n[W]|=256,n[kt]&&Cc(n[kt]),iC(t,n),oC(t,n),n[ne].type===1&&n[Ie].destroy();let o=n[Ko];if(o!==null&&Pn(n[st])){o!==n[st]&&dd(o,n);let i=n[Qo];i!==null&&i.detachView(t)}xl(n)}finally{re(e)}}function oC(t,n){let e=t.cleanup,o=n[Ds];if(e!==null)for(let r=0;r<e.length-1;r+=2)if(typeof e[r]=="string"){let s=e[r+3];s>=0?o[s]():o[-s].unsubscribe(),r+=2}else{let s=o[e[r+1]];e[r].call(s)}o!==null&&(n[Ds]=null);let i=n[zn];if(i!==null){n[zn]=null;for(let r=0;r<i.length;r++){let s=i[r];s()}}}function iC(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let o=0;o<e.length;o+=2){let i=n[e[o]];if(!(i instanceof xo)){let r=e[o+1];if(Array.isArray(r))for(let s=0;s<r.length;s+=2){let l=i[r[s]],u=r[s+1];tn(4,l,u);try{u.call(l)}finally{tn(5,l,u)}}else{tn(4,i,r);try{r.call(i)}finally{tn(5,i,r)}}}}}function rC(t,n,e){return sC(t,n.parent,e)}function sC(t,n,e){let o=n;for(;o!==null&&o.type&168;)n=o,o=n.parent;if(o===null)return e[wn];{let{componentOffset:i}=o;if(i>-1){let{encapsulation:r}=t.data[o.directiveStart+i];if(r===on.None||r===on.Emulated)return null}return Nt(o,e)}}function Ls(t,n,e,o,i){t.insertBefore(n,e,o,i)}function Zg(t,n,e){t.appendChild(n,e)}function ef(t,n,e,o,i){o!==null?Ls(t,n,e,o,i):Zg(t,n,e)}function Kg(t,n){return t.parentNode(n)}function aC(t,n){return t.nextSibling(n)}function cC(t,n,e){return dC(t,n,e)}function lC(t,n,e){return t.type&40?Nt(t,e):null}var dC=lC,tf;function ua(t,n,e,o){let i=rC(t,o,n),r=n[Ie],s=o.parent||n[qt],l=cC(s,o,n);if(i!=null)if(Array.isArray(e))for(let u=0;u<e.length;u++)ef(r,i,e[u],l,!1);else ef(r,i,e,l,!1);tf!==void 0&&tf(r,o,n,e,i)}function Ti(t,n){if(n!==null){let e=n.type;if(e&3)return Nt(n,t);if(e&4)return yl(-1,t[n.index]);if(e&8){let o=n.child;if(o!==null)return Ti(t,o);{let i=t[n.index];return Pn(i)?yl(-1,i):an(i)}}else{if(e&128)return Ti(t,n.next);if(e&32)return ld(n,t)()||an(t[n.index]);{let o=Qg(t,n);if(o!==null){if(Array.isArray(o))return o[0];let i=_o(t[sn]);return Ti(i,o)}else return Ti(t,n.next)}}}return null}function Qg(t,n){if(n!==null){let o=t[sn][qt],i=n.projection;return o.projection[i]}return null}function yl(t,n){let e=Rt+t+1;if(e<n.length){let o=n[e],i=o[ne].firstChild;if(i!==null)return Ti(o,i)}return n[mo]}function uC(t,n,e){t.removeChild(null,n,e)}function ud(t,n,e,o,i,r,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let l=o[e.index],u=e.type;if(s&&n===0&&(l&&Gn(an(l),o),e.flags|=2),(e.flags&32)!==32)if(u&8)ud(t,n,e.child,o,i,r,!1),Bo(n,t,i,l,r);else if(u&32){let f=ld(e,o),m;for(;m=f();)Bo(n,t,i,m,r);Bo(n,t,i,l,r)}else u&16?pC(t,n,o,e,i,r):Bo(n,t,i,l,r);e=s?e.projectionNext:e.next}}function pa(t,n,e,o,i,r){ud(e,o,t.firstChild,n,i,r,!1)}function pC(t,n,e,o,i,r){let s=e[sn],u=s[qt].projection[o.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++){let m=u[f];Bo(n,t,i,m,r)}else{let f=u,m=s[st];Ag(o)&&(f.flags|=128),ud(t,n,f,m,i,r,!0)}}function fC(t,n,e,o,i){let r=e[mo],s=an(e);r!==s&&Bo(n,t,o,r,i);for(let l=Rt;l<e.length;l++){let u=e[l];pa(u[ne],u,t,n,o,r)}}function gC(t,n,e,o,i){if(n)i?t.addClass(e,o):t.removeClass(e,o);else{let r=o.indexOf("-")===-1?void 0:Mn.DashCase;i==null?t.removeStyle(e,o,r):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),r|=Mn.Important),t.setStyle(e,o,i,r))}}function hC(t,n,e){t.setAttribute(n,"style",e)}function Jg(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Xg(t,n,e){let{mergedAttrs:o,classes:i,styles:r}=e;o!==null&&ol(t,n,o),i!==null&&Jg(t,n,i),r!==null&&hC(t,n,r)}var xt={};function p(t=1){eh(We(),ae(),Dn()+t,!1)}function eh(t,n,e,o){if(!o)if((n[W]&3)===3){let r=t.preOrderCheckHooks;r!==null&&vs(n,r,e)}else{let r=t.preOrderHooks;r!==null&&xs(n,r,0,e)}vo(e)}function E(t,n=X.Default){let e=ae();if(e===null)return z(t,n);let o=Xe();return Pg(o,e,it(t),n)}function th(t,n,e,o,i,r){let s=re(null);try{let l=null;i&Bn.SignalBased&&(l=n[o][_n]),l!==null&&l.transformFn!==void 0&&(r=l.transformFn(r)),i&Bn.HasDecoratorInputTransform&&(r=t.inputTransforms[o].call(n,r)),t.setInput!==null?t.setInput(n,l,r,e,o):qf(n,l,o,r)}finally{re(s)}}function mC(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let o=0;o<e.length;o++){let i=e[o];if(i<0)vo(~i);else{let r=i,s=e[++o],l=e[++o];Jv(s,r);let u=n[r];l(2,u)}}}finally{vo(-1)}}function fa(t,n,e,o,i,r,s,l,u,f,m){let v=n.blueprint.slice();return v[wn]=i,v[W]=o|4|128|8|64,(f!==null||t&&t[W]&2048)&&(v[W]|=2048),tg(v),v[st]=v[ii]=t,v[Gt]=e,v[rn]=s||t&&t[rn],v[Ie]=l||t&&t[Ie],v[Zo]=u||t&&t[Zo]||null,v[qt]=r,v[Js]=kx(),v[Ps]=m,v[Gf]=f,v[sn]=n.type==2?t[sn]:v,v}function Hi(t,n,e,o,i){let r=t.data[n];if(r===null)r=_C(t,n,e,o,i),Qv()&&(r.flags|=32);else if(r.type&64){r.type=e,r.value=o,r.attrs=i;let s=qv();r.injectorIndex=s===null?-1:s.injectorIndex}return yo(r,!0),r}function _C(t,n,e,o,i){let r=sg(),s=Ql(),l=s?r:r&&r.parent,u=t.data[n]=yC(t,l,e,n,o,i);return t.firstChild===null&&(t.firstChild=u),r!==null&&(s?r.child==null&&u.parent!==null&&(r.child=u):r.next===null&&(r.next=u,u.prev=r)),u}function nh(t,n,e,o){if(e===0)return-1;let i=n.length;for(let r=0;r<e;r++)n.push(o),t.blueprint.push(o),t.data.push(null);return i}function oh(t,n,e,o,i){let r=Dn(),s=o&2;try{vo(-1),s&&n.length>At&&eh(t,n,At,!1),tn(s?2:0,i),e(o,i)}finally{vo(r),tn(s?3:1,i)}}function pd(t,n,e){if(Zl(n)){let o=re(null);try{let i=n.directiveStart,r=n.directiveEnd;for(let s=i;s<r;s++){let l=t.data[s];if(l.contentQueries){let u=e[s];l.contentQueries(1,u,s)}}}finally{re(o)}}}function fd(t,n,e){rg()&&(SC(t,n,e,Nt(e,n)),(e.flags&64)===64&&sh(t,n,e))}function gd(t,n,e=Nt){let o=n.localNames;if(o!==null){let i=n.index+1;for(let r=0;r<o.length;r+=2){let s=o[r+1],l=s===-1?e(n,t):t[s];t[i++]=l}}}function ih(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=hd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function hd(t,n,e,o,i,r,s,l,u,f,m){let v=At+o,M=v+i,y=vC(v,M),D=typeof f=="function"?f():f;return y[ne]={type:t,blueprint:y,template:e,queries:null,viewQuery:l,declTNode:n,data:y.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:m}}function vC(t,n){let e=[];for(let o=0;o<n;o++)e.push(o<t?null:xt);return e}function xC(t,n,e,o){let r=o.get(jx,Ug)||e===on.ShadowDom,s=t.selectRootElement(n,r);return CC(s),s}function CC(t){bC(t)}var bC=()=>null;function yC(t,n,e,o,i,r){let s=n?n.injectorIndex:-1,l=0;return Hv()&&(l|=128),{type:e,index:o,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function nf(t,n,e,o,i){for(let r in n){if(!n.hasOwnProperty(r))continue;let s=n[r];if(s===void 0)continue;o??={};let l,u=Bn.None;Array.isArray(s)?(l=s[0],u=s[1]):l=s;let f=r;if(i!==null){if(!i.hasOwnProperty(r))continue;f=i[r]}t===0?of(o,e,f,l,u):of(o,e,f,l)}return o}function of(t,n,e,o,i){let r;t.hasOwnProperty(e)?(r=t[e]).push(n,o):r=t[e]=[n,o],i!==void 0&&r.push(i)}function MC(t,n,e){let o=n.directiveStart,i=n.directiveEnd,r=t.data,s=n.attrs,l=[],u=null,f=null;for(let m=o;m<i;m++){let v=r[m],M=e?e.get(v):null,y=M?M.inputs:null,D=M?M.outputs:null;u=nf(0,v.inputs,m,u,y),f=nf(1,v.outputs,m,f,D);let T=u!==null&&s!==null&&!Wl(n)?jC(u,m,s):null;l.push(T)}u!==null&&(u.hasOwnProperty("class")&&(n.flags|=8),u.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=l,n.inputs=u,n.outputs=f}function EC(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function md(t,n,e,o,i,r,s,l){let u=Nt(n,e),f=n.inputs,m;!l&&f!=null&&(m=f[o])?(vd(t,e,m,o,i),Xs(n)&&wC(e,n.index)):n.type&3?(o=EC(o),i=s!=null?s(i,n.value||"",o):i,r.setProperty(u,o,i)):n.type&12}function wC(t,n){let e=Kn(n,t);e[W]&16||(e[W]|=64)}function _d(t,n,e,o){if(rg()){let i=o===null?null:{"":-1},r=IC(t,e),s,l;r===null?s=l=null:[s,l]=r,s!==null&&rh(t,n,e,s,i,l),i&&TC(e,o,i)}e.mergedAttrs=Ni(e.mergedAttrs,e.attrs)}function rh(t,n,e,o,i,r){for(let f=0;f<o.length;f++)fl(As(e,n),t,o[f].type);RC(e,t.data.length,o.length);for(let f=0;f<o.length;f++){let m=o[f];m.providersResolver&&m.providersResolver(m)}let s=!1,l=!1,u=nh(t,n,o.length,null);for(let f=0;f<o.length;f++){let m=o[f];e.mergedAttrs=Ni(e.mergedAttrs,m.hostAttrs),AC(t,e,n,u,m),kC(u,m,i),m.contentQueries!==null&&(e.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(e.flags|=64);let v=m.type.prototype;!s&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!l&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),l=!0),u++}MC(t,e,r)}function PC(t,n,e,o,i){let r=i.hostBindings;if(r){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let l=~n.index;DC(s)!=l&&s.push(l),s.push(e,o,r)}}function DC(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function SC(t,n,e,o){let i=e.directiveStart,r=e.directiveEnd;Xs(e)&&NC(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||As(e,n),Gn(o,n);let s=e.initialInputs;for(let l=i;l<r;l++){let u=t.data[l],f=Xo(n,t,l,e);if(Gn(f,n),s!==null&&LC(n,l-i,f,u,e,s),Hn(u)){let m=Kn(e.index,n);m[Gt]=Xo(n,t,l,e)}}}function sh(t,n,e){let o=e.directiveStart,i=e.directiveEnd,r=e.index,s=Xv();try{vo(r);for(let l=o;l<i;l++){let u=t.data[l],f=n[l];dl(l),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&OC(u,f)}}finally{vo(-1),dl(s)}}function OC(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function IC(t,n){let e=t.directiveRegistry,o=null,i=null;if(e)for(let r=0;r<e.length;r++){let s=e[r];if(pv(n,s.selectors,!1))if(o||(o=[]),Hn(s))if(s.findHostDirectiveDefs!==null){let l=[];i=i||new Map,s.findHostDirectiveDefs(s,l,i),o.unshift(...l,s);let u=l.length;Ml(t,n,u)}else o.unshift(s),Ml(t,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,o,i),o.push(s)}return o===null?null:[o,i]}function Ml(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function TC(t,n,e){if(n){let o=t.localNames=[];for(let i=0;i<n.length;i+=2){let r=e[n[i+1]];if(r==null)throw new j(-301,!1);o.push(n[i],r)}}}function kC(t,n,e){if(e){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)e[n.exportAs[o]]=t;Hn(n)&&(e[""]=t)}}function RC(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function AC(t,n,e,o,i){t.data[o]=i;let r=i.factory||(i.factory=go(i.type,!0)),s=new xo(r,Hn(i),E);t.blueprint[o]=s,e[o]=s,PC(t,n,o,nh(t,e,i.hostVars,xt),i)}function NC(t,n,e){let o=Nt(n,t),i=ih(e),r=t[rn].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let l=ga(t,fa(t,i,null,s,o,n,null,r.createRenderer(o,e),null,null,null));t[n.index]=l}function FC(t,n,e,o,i,r){let s=Nt(t,n);VC(n[Ie],s,r,t.value,e,o,i)}function VC(t,n,e,o,i,r,s){if(r==null)t.removeAttribute(n,i,e);else{let l=s==null?Cn(r):s(r,o||"",i);t.setAttribute(n,i,l,e)}}function LC(t,n,e,o,i,r){let s=r[n];if(s!==null)for(let l=0;l<s.length;){let u=s[l++],f=s[l++],m=s[l++],v=s[l++];th(o,e,u,f,m,v)}}function jC(t,n,e){let o=null,i=0;for(;i<e.length;){let r=e[i];if(r===0){i+=4;continue}else if(r===5){i+=2;continue}if(typeof r=="number")break;if(t.hasOwnProperty(r)){o===null&&(o=[]);let s=t[r];for(let l=0;l<s.length;l+=3)if(s[l]===n){o.push(r,s[l+1],s[l+2],e[i+1]);break}}i+=2}return o}function ah(t,n,e,o){return[t,!0,0,n,null,o,null,e,null,null]}function ch(t,n){let e=t.contentQueries;if(e!==null){let o=re(null);try{for(let i=0;i<e.length;i+=2){let r=e[i],s=e[i+1];if(s!==-1){let l=t.data[s];dg(r),l.contentQueries(2,n[s],s)}}}finally{re(o)}}}function ga(t,n){return t[Vi]?t[$p][Ht]=n:t[Vi]=n,t[$p]=n,n}function El(t,n,e){dg(0);let o=re(null);try{n(t,e)}finally{re(o)}}function UC(t){return t[Ds]??=[]}function zC(t){return t.cleanup??=[]}function lh(t,n){let e=t[Zo],o=e?e.get(yn,null):null;o&&o.handleError(n)}function vd(t,n,e,o,i){for(let r=0;r<e.length;){let s=e[r++],l=e[r++],u=e[r++],f=n[s],m=t.data[s];th(m,f,o,l,u,i)}}function xd(t,n,e){let o=Jf(n,t);Qx(t[Ie],o,e)}function $C(t,n){let e=Kn(n,t),o=e[ne];BC(o,e);let i=e[wn];i!==null&&e[Ps]===null&&(e[Ps]=ad(i,e[Zo])),Cd(o,e,e[Gt])}function BC(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function Cd(t,n,e){Jl(n);try{let o=t.viewQuery;o!==null&&El(1,o,e);let i=t.template;i!==null&&oh(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Qo]?.finishViewCreation(t),t.staticContentQueries&&ch(t,n),t.staticViewQueries&&El(2,t.viewQuery,e);let r=t.components;r!==null&&HC(n,r)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[W]&=-5,Xl()}}function HC(t,n){for(let e=0;e<n.length;e++)$C(t,n[e])}function GC(t,n,e,o){let i=re(null);try{let r=n.tView,l=t[W]&4096?4096:16,u=fa(t,r,e,l,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),f=t[n.index];u[Ko]=f;let m=t[Qo];return m!==null&&(u[Qo]=m.createEmbeddedView(r)),Cd(r,u,e),u}finally{re(i)}}function rf(t,n){return!n||n.firstChild===null||Ag(t)}function WC(t,n,e,o=!0){let i=n[ne];if(nC(i,n,t,e),o){let s=yl(e,t),l=n[Ie],u=Kg(l,t[mo]);u!==null&&eC(i,t[qt],l,n,u,s)}let r=n[Ps];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function js(t,n,e,o,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let r=n[e.index];r!==null&&o.push(an(r)),Pn(r)&&qC(r,o);let s=e.type;if(s&8)js(t,n,e.child,o);else if(s&32){let l=ld(e,n),u;for(;u=l();)o.push(u)}else if(s&16){let l=Qg(n,e);if(Array.isArray(l))o.push(...l);else{let u=_o(n[sn]);js(u[ne],u,l,o,!0)}}e=i?e.projectionNext:e.next}return o}function qC(t,n){for(let e=Rt;e<t.length;e++){let o=t[e],i=o[ne].firstChild;i!==null&&js(o[ne],o,i,n)}t[mo]!==t[wn]&&n.push(t[mo])}var dh=[];function YC(t){return t[kt]??ZC(t)}function ZC(t){let n=dh.pop()??Object.create(QC);return n.lView=t,n}function KC(t){t.lView[kt]!==t&&(t.lView=null,dh.push(t))}var QC=J(I({},Si),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{na(t.lView)},consumerOnSignalRead(){this.lView[kt]=this}});function JC(t){let n=t[kt]??Object.create(XC);return n.lView=t,n}var XC=J(I({},Si),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=_o(t.lView);for(;n&&!uh(n[ne]);)n=_o(n);n&&ng(n)},consumerOnSignalRead(){this.lView[kt]=this}});function uh(t){return t.type!==2}var eb=100;function ph(t,n=!0,e=0){let o=t[rn],i=o.rendererFactory,r=!1;r||i.begin?.();try{tb(t,e)}catch(s){throw n&&lh(t,s),s}finally{r||(i.end?.(),o.inlineEffectRunner?.flush())}}function tb(t,n){let e=cg();try{Hp(!0),wl(t,n);let o=0;for(;ta(t);){if(o===eb)throw new j(103,!1);o++,wl(t,1)}}finally{Hp(e)}}function nb(t,n,e,o){let i=n[W];if((i&256)===256)return;let r=!1,s=!1;!r&&n[rn].inlineEffectRunner?.flush(),Jl(n);let l=!0,u=null,f=null;r||(uh(t)?(f=YC(n),u=Vr(f)):Zu()===null?(l=!1,f=JC(n),u=Vr(f)):n[kt]&&(Cc(n[kt]),n[kt]=null));try{tg(n),Kv(t.bindingStartIndex),e!==null&&oh(t,n,e,2,o);let m=(i&3)===3;if(!r)if(m){let y=t.preOrderCheckHooks;y!==null&&vs(n,y,null)}else{let y=t.preOrderHooks;y!==null&&xs(n,y,0,null),$c(n,0)}if(s||ob(n),fh(n,0),t.contentQueries!==null&&ch(t,n),!r)if(m){let y=t.contentCheckHooks;y!==null&&vs(n,y)}else{let y=t.contentHooks;y!==null&&xs(n,y,1),$c(n,1)}mC(t,n);let v=t.components;v!==null&&hh(n,v,0);let M=t.viewQuery;if(M!==null&&El(2,M,o),!r)if(m){let y=t.viewCheckHooks;y!==null&&vs(n,y)}else{let y=t.viewHooks;y!==null&&xs(n,y,2),$c(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[zc]){for(let y of n[zc])y();n[zc]=null}r||(n[W]&=-73)}catch(m){throw r||na(n),m}finally{f!==null&&(vc(f,u),l&&KC(f)),Xl()}}function fh(t,n){for(let e=Fg(t);e!==null;e=Vg(e))for(let o=Rt;o<e.length;o++){let i=e[o];gh(i,n)}}function ob(t){for(let n=Fg(t);n!==null;n=Vg(n)){if(!(n[W]&Is.HasTransplantedViews))continue;let e=n[Os];for(let o=0;o<e.length;o++){let i=e[o];ng(i)}}}function ib(t,n,e){let o=Kn(n,t);gh(o,e)}function gh(t,n){Kl(t)&&wl(t,n)}function wl(t,n){let o=t[ne],i=t[W],r=t[kt],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(r?.dirty&&xc(r)),s||=!1,r&&(r.dirty=!1),t[W]&=-9217,s)nb(o,t,o.template,t[Gt]);else if(i&8192){fh(t,1);let l=o.components;l!==null&&hh(t,l,1)}}function hh(t,n,e){for(let o=0;o<n.length;o++)ib(t,n[o],e)}function bd(t,n){let e=cg()?64:1088;for(t[rn].changeDetectionScheduler?.notify(n);t;){t[W]|=e;let o=_o(t);if(al(t)&&!o)return t;t=o}return null}var Co=class{get rootNodes(){let n=this._lView,e=n[ne];return js(e,n,e.firstChild,[])}constructor(n,e,o=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(n){this._lView[Gt]=n}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[st];if(Pn(n)){let e=n[Ss],o=e?e.indexOf(this):-1;o>-1&&(bl(n,o),Es(e,o))}this._attachedToViewContainer=!1}Yg(this._lView[ne],this._lView)}onDestroy(n){og(this._lView,n)}markForCheck(){bd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){ll(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,ph(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=al(this._lView),e=this._lView[Ko];e!==null&&!n&&dd(e,this._lView),Wg(this._lView[ne],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=n;let e=al(this._lView),o=this._lView[Ko];o!==null&&!e&&qg(o,this._lView),ll(this._lView)}},ha=(()=>{class t{static{this.__NG_ELEMENT_ID__=ab}}return t})(),rb=ha,sb=class extends rb{constructor(n,e,o){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,o){let i=GC(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:o});return new Co(i)}};function ab(){return mh(Xe(),ae())}function mh(t,n){return t.type&4?new sb(n,t,la(t,n)):null}var bN=new RegExp(`^(\\d+)*(${Vx}|${Fx})*(.*)`);var cb=()=>null;function sf(t,n){return cb(t,n)}var ei=class{},yd=new U("",{providedIn:"root",factory:()=>!1});var _h=new U(""),vh=new U(""),Pl=class{},Us=class{};function lb(t){let n=Error(`No component factory found for ${rt(t)}.`);return n[db]=t,n}var db="ngComponent";var Dl=class{resolveComponentFactory(n){throw lb(n)}},ti=class{static{this.NULL=new Dl}},ni=class{},cn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>ub()}}return t})();function ub(){let t=ae(),n=Xe(),e=Kn(n.index,t);return($n(e)?e:t)[Ie]}var pb=(()=>{class t{static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>null})}}return t})();function zs(t,n,e){let o=e?t.styles:null,i=e?t.classes:null,r=0;if(n!==null)for(let s=0;s<n.length;s++){let l=n[s];if(typeof l=="number")r=l;else if(r==1)i=Xc(i,l);else if(r==2){let u=l,f=n[++s];o=Xc(o,u+": "+f+";")}}e?t.styles=o:t.stylesWithoutHost=o,e?t.classes=i:t.classesWithoutHost=i}var $s=class extends ti{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=ho(n);return new Li(e,this.ngModule)}};function af(t,n){let e=[];for(let o in t){if(!t.hasOwnProperty(o))continue;let i=t[o];if(i===void 0)continue;let r=Array.isArray(i),s=r?i[0]:i,l=r?i[1]:Bn.None;n?e.push({propName:s,templateName:o,isSignal:(l&Bn.SignalBased)!==0}):e.push({propName:s,templateName:o})}return e}function fb(t){let n=t.toLowerCase();return n==="svg"?Qf:n==="math"?Vv:null}var Li=class extends Us{get inputs(){let n=this.componentDef,e=n.inputTransforms,o=af(n.inputs,!0);if(e!==null)for(let i of o)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return o}get outputs(){return af(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=mv(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,o,i){let r=re(null);try{i=i||this.ngModule;let s=i instanceof _t?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let l=s?new ul(n,s):n,u=l.get(ni,null);if(u===null)throw new j(407,!1);let f=l.get(pb,null),m=l.get(ei,null),v={rendererFactory:u,sanitizer:f,inlineEffectRunner:null,changeDetectionScheduler:m},M=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",D=o?xC(M,o,this.componentDef.encapsulation,l):Gg(M,y,fb(y)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let k=null;D!==null&&(k=ad(D,l,!0));let G=hd(0,null,null,1,0,null,null,null,null,null,null),he=fa(null,G,null,T,null,null,v,M,l,null,k);Jl(he);let ie,Re,Ze=null;try{let $e=this.componentDef,mn,gc=null;$e.findHostDirectiveDefs?(mn=[],gc=new Map,$e.findHostDirectiveDefs($e,mn,gc),mn.push($e)):mn=[$e];let i_=gb(he,D);Ze=hb(i_,D,$e,mn,he,v,M),Re=Xf(G,At),D&&vb(M,$e,D,o),e!==void 0&&xb(Re,this.ngContentSelectors,e),ie=_b(Ze,$e,mn,gc,he,[Cb]),Cd(G,he,null)}catch($e){throw Ze!==null&&xl(Ze),xl(he),$e}finally{Xl()}return new Sl(this.componentType,ie,la(Re,he),he,Re)}finally{re(r)}}},Sl=class extends Pl{constructor(n,e,o,i,r){super(),this.location=o,this._rootLView=i,this._tNode=r,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Co(i,void 0,!1),this.componentType=n}setInput(n,e){let o=this._tNode.inputs,i;if(o!==null&&(i=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let r=this._rootLView;vd(r[ne],r,i,n,e),this.previousInputValues.set(n,e);let s=Kn(this._tNode.index,r);bd(s,1)}}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function gb(t,n){let e=t[ne],o=At;return t[o]=n,Hi(e,o,2,"#host",null)}function hb(t,n,e,o,i,r,s){let l=i[ne];mb(o,t,n,s);let u=null;n!==null&&(u=ad(n,i[Zo]));let f=r.rendererFactory.createRenderer(n,e),m=16;e.signals?m=4096:e.onPush&&(m=64);let v=fa(i,ih(e),null,m,i[t.index],t,r,f,null,null,u);return l.firstCreatePass&&Ml(l,t,o.length-1),ga(i,v),i[t.index]=v}function mb(t,n,e,o){for(let i of t)n.mergedAttrs=Ni(n.mergedAttrs,i.hostAttrs);n.mergedAttrs!==null&&(zs(n,n.mergedAttrs,!0),e!==null&&Xg(o,e,n))}function _b(t,n,e,o,i,r){let s=Xe(),l=i[ne],u=Nt(s,i);rh(l,i,s,e,null,o);for(let m=0;m<e.length;m++){let v=s.directiveStart+m,M=Xo(i,l,v,s);Gn(M,i)}sh(l,i,s),u&&Gn(u,i);let f=Xo(i,l,s.directiveStart+s.componentOffset,s);if(t[Gt]=i[Gt]=f,r!==null)for(let m of r)m(f,n);return pd(l,s,i),f}function vb(t,n,e,o){if(o)ol(t,e,["ng-version","18.2.13"]);else{let{attrs:i,classes:r}=_v(n.selectors[0]);i&&ol(t,e,i),r&&r.length>0&&Jg(t,e,r.join(" "))}}function xb(t,n,e){let o=t.projection=[];for(let i=0;i<n.length;i++){let r=e[i];o.push(r!=null?Array.from(r):null)}}function Cb(){let t=Xe();ca(ae()[ne],t)}var si=(()=>{class t{static{this.__NG_ELEMENT_ID__=bb}}return t})();function bb(){let t=Xe();return Mb(t,ae())}var yb=si,xh=class extends yb{constructor(n,e,o){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=o}get element(){return la(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){let n=ed(this._hostTNode,this._hostLView);if(Cg(n)){let e=ks(n,this._hostLView),o=Ts(n),i=e[ne].data[o+8];return new fo(i,e)}else return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=cf(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(n,e,o){let i,r;typeof o=="number"?i=o:o!=null&&(i=o.index,r=o.injector);let s=sf(this._lContainer,n.ssrId),l=n.createEmbeddedViewImpl(e||{},r,s);return this.insertImpl(l,i,rf(this._hostTNode,s)),l}createComponent(n,e,o,i,r){let s=n&&!Rv(n),l;if(s)l=e;else{let D=e||{};l=D.index,o=D.injector,i=D.projectableNodes,r=D.environmentInjector||D.ngModuleRef}let u=s?n:new Li(ho(n)),f=o||this.parentInjector;if(!r&&u.ngModule==null){let T=(s?f:this.parentInjector).get(_t,null);T&&(r=T)}let m=ho(u.componentType??{}),v=sf(this._lContainer,m?.id??null),M=v?.firstChild??null,y=u.create(f,i,M,r);return this.insertImpl(y.hostView,l,rf(this._hostTNode,v)),y}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,o){let i=n._lView;if(Lv(i)){let l=this.indexOf(n);if(l!==-1)this.detach(l);else{let u=i[st],f=new xh(u,u[qt],u[st]);f.detach(f.indexOf(n))}}let r=this._adjustIndex(e),s=this._lContainer;return WC(s,i,r,o),n.attachToViewContainerRef(),Of(qc(s),r,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=cf(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),o=bl(this._lContainer,e);o&&(Es(qc(this._lContainer),e),Yg(o[ne],o))}detach(n){let e=this._adjustIndex(n,-1),o=bl(this._lContainer,e);return o&&Es(qc(this._lContainer),e)!=null?new Co(o):null}_adjustIndex(n,e=0){return n??this.length+e}};function cf(t){return t[Ss]}function qc(t){return t[Ss]||(t[Ss]=[])}function Mb(t,n){let e,o=n[t.index];return Pn(o)?e=o:(e=ah(o,n,null,t),n[t.index]=e,ga(n,e)),wb(e,n,t,o),new xh(e,t,n)}function Eb(t,n){let e=t[Ie],o=e.createComment(""),i=Nt(n,t),r=Kg(e,i);return Ls(e,r,o,aC(e,i),!1),o}var wb=Sb,Pb=()=>!1;function Db(t,n,e){return Pb(t,n,e)}function Sb(t,n,e,o){if(t[mo])return;let i;e.type&8?i=an(o):i=Eb(n,e),t[mo]=i}var lf=new Set;function Gi(t){lf.has(t)||(lf.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ob(t){return typeof t=="function"&&t[_n]!==void 0}function Wi(t,n){Gi("NgSignals");let e=sp(t),o=e[_n];return n?.equal&&(o.equal=n.equal),e.set=i=>bc(o,i),e.update=i=>ap(o,i),e.asReadonly=Ib.bind(e),e}function Ib(){let t=this[_n];if(t.readonlyFn===void 0){let n=()=>this();n[_n]=t,t.readonlyFn=n}return t.readonlyFn}function Ch(t){return Ob(t)&&typeof t.set=="function"}function Tb(t){return Object.getPrototypeOf(t.prototype).constructor}function qe(t){let n=Tb(t.type),e=!0,o=[t];for(;n;){let i;if(Hn(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new j(903,!1);i=n.\u0275dir}if(i){if(e){o.push(i);let s=t;s.inputs=gs(t.inputs),s.inputTransforms=gs(t.inputTransforms),s.declaredInputs=gs(t.declaredInputs),s.outputs=gs(t.outputs);let l=i.hostBindings;l&&Fb(t,l);let u=i.viewQuery,f=i.contentQueries;if(u&&Ab(t,u),f&&Nb(t,f),kb(t,i),j_(t.outputs,i.outputs),Hn(i)&&i.data.animation){let m=t.data;m.animation=(m.animation||[]).concat(i.data.animation)}}let r=i.features;if(r)for(let s=0;s<r.length;s++){let l=r[s];l&&l.ngInherit&&l(t),l===qe&&(e=!1)}}n=Object.getPrototypeOf(n)}Rb(o)}function kb(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let o=n.inputs[e];if(o!==void 0&&(t.inputs[e]=o,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let i=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=n.inputTransforms[i]}}}function Rb(t){let n=0,e=null;for(let o=t.length-1;o>=0;o--){let i=t[o];i.hostVars=n+=i.hostVars,i.hostAttrs=Ni(i.hostAttrs,e=Ni(e,i.hostAttrs))}}function gs(t){return t===Wo?{}:t===mt?[]:t}function Ab(t,n){let e=t.viewQuery;e?t.viewQuery=(o,i)=>{n(o,i),e(o,i)}:t.viewQuery=n}function Nb(t,n){let e=t.contentQueries;e?t.contentQueries=(o,i,r)=>{n(o,i,r),e(o,i,r)}:t.contentQueries=n}function Fb(t,n){let e=t.hostBindings;e?t.hostBindings=(o,i)=>{n(o,i),e(o,i)}:t.hostBindings=n}function Md(t){let n=t.inputConfig,e={};for(let o in n)if(n.hasOwnProperty(o)){let i=n[o];Array.isArray(i)&&i[3]&&(e[o]=i[3])}t.inputTransforms=e}var Wn=class{},ji=class{};var Ol=class extends Wn{constructor(n,e,o,i=!0){super(),this.ngModuleType=n,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $s(this);let r=Lf(n);this._bootstrapComponents=Hg(r.bootstrap),this._r3Injector=Og(n,e,[{provide:Wn,useValue:this},{provide:ti,useValue:this.componentFactoryResolver},...o],rt(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Il=class extends ji{constructor(n){super(),this.moduleType=n}create(n){return new Ol(this.moduleType,n,[])}};var Bs=class extends Wn{constructor(n){super(),this.componentFactoryResolver=new $s(this),this.instance=null;let e=new Fi([...n.providers,{provide:Wn,useValue:this},{provide:ti,useValue:this.componentFactoryResolver}],n.parent||Yl(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ed(t,n,e=null){return new Bs({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}function bh(t){return Lb(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Vb(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),o;for(;!(o=e.next()).done;)n(o.value)}}function Lb(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function jb(t,n,e){return t[n]=e}function En(t,n,e){let o=t[n];return Object.is(o,e)?!1:(t[n]=e,!0)}function wd(t,n,e,o){let i=En(t,n,e);return En(t,n+1,o)||i}function Ub(t,n,e,o,i){let r=wd(t,n,e,o);return En(t,n+2,i)||r}function zb(t){return(t.flags&32)===32}function $b(t,n,e,o,i,r,s,l,u){let f=n.consts,m=Hi(n,t,4,s||null,l||null);_d(n,e,m,Jo(f,u)),ca(n,m);let v=m.tView=hd(2,m,o,i,r,n.directiveRegistry,n.pipeRegistry,null,n.schemas,f,null);return n.queries!==null&&(n.queries.template(n,m),v.queries=n.queries.embeddedTView(m)),m}function Bb(t,n,e,o,i,r,s,l,u,f){let m=e+At,v=n.firstCreatePass?$b(m,n,t,o,i,r,s,l,u):n.data[m];yo(v,!1);let M=Hb(n,t,v,e);sa()&&ua(n,t,M,v),Gn(M,t);let y=ah(M,t,M,v);return t[m]=y,ga(t,y),Db(y,v,t),ea(v)&&fd(n,t,v),u!=null&&gd(t,v,f),v}function b(t,n,e,o,i,r,s,l){let u=ae(),f=We(),m=Jo(f.consts,r);return Bb(u,f,t,n,e,o,i,m,s,l),b}var Hb=Gb;function Gb(t,n,e,o){return aa(!0),n[Ie].createComment("")}var ki=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ki||{}),Wb=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}}return t})(),df=class t{constructor(){this.ngZone=O(Ae),this.scheduler=O(ei),this.errorHandler=O(yn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ki.EarlyRead,ki.Write,ki.MixedReadWrite,ki.Read]}execute(){this.executing=!0;for(let n of t.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[n]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[n](e.pipelinedValue))}catch(o){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t})}};function Te(t,n,e,o){let i=ae(),r=oa();if(En(i,r,n)){let s=We(),l=ra();FC(l,i,t,n,e,o)}return Te}function yh(t,n,e,o){return En(t,oa(),e)?n+Cn(e)+o:xt}function qb(t,n,e,o,i,r){let s=lg(),l=wd(t,s,e,i);return ia(2),l?n+Cn(e)+o+Cn(i)+r:xt}function Yb(t,n,e,o,i,r,s,l){let u=lg(),f=Ub(t,u,e,i,s);return ia(3),f?n+Cn(e)+o+Cn(i)+r+Cn(s)+l:xt}function hs(t,n){return t<<17|n<<2}function bo(t){return t>>17&32767}function Zb(t){return(t&2)==2}function Kb(t,n){return t&131071|n<<17}function Tl(t){return t|2}function oi(t){return(t&131068)>>2}function Yc(t,n){return t&-131069|n<<2}function Qb(t){return(t&1)===1}function kl(t){return t|1}function Jb(t,n,e,o,i,r){let s=r?n.classBindings:n.styleBindings,l=bo(s),u=oi(s);t[o]=e;let f=!1,m;if(Array.isArray(e)){let v=e;m=v[1],(m===null||$i(v,m)>0)&&(f=!0)}else m=e;if(i)if(u!==0){let M=bo(t[l+1]);t[o+1]=hs(M,l),M!==0&&(t[M+1]=Yc(t[M+1],o)),t[l+1]=Kb(t[l+1],o)}else t[o+1]=hs(l,0),l!==0&&(t[l+1]=Yc(t[l+1],o)),l=o;else t[o+1]=hs(u,0),l===0?l=o:t[u+1]=Yc(t[u+1],o),u=o;f&&(t[o+1]=Tl(t[o+1])),uf(t,m,o,!0),uf(t,m,o,!1),Xb(n,m,t,o,r),s=hs(l,u),r?n.classBindings=s:n.styleBindings=s}function Xb(t,n,e,o,i){let r=i?t.residualClasses:t.residualStyles;r!=null&&typeof n=="string"&&$i(r,n)>=0&&(e[o+1]=kl(e[o+1]))}function uf(t,n,e,o){let i=t[e+1],r=n===null,s=o?bo(i):oi(i),l=!1;for(;s!==0&&(l===!1||r);){let u=t[s],f=t[s+1];e1(u,n)&&(l=!0,t[s+1]=o?kl(f):Tl(f)),s=o?bo(f):oi(f)}l&&(t[e+1]=o?Tl(i):kl(i))}function e1(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?$i(t,n)>=0:!1}var Bt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function t1(t){return t.substring(Bt.key,Bt.keyEnd)}function n1(t){return o1(t),Mh(t,Eh(t,0,Bt.textEnd))}function Mh(t,n){let e=Bt.textEnd;return e===n?-1:(n=Bt.keyEnd=i1(t,Bt.key=n,e),Eh(t,n,e))}function o1(t){Bt.key=0,Bt.keyEnd=0,Bt.value=0,Bt.valueEnd=0,Bt.textEnd=t.length}function Eh(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function i1(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function g(t,n,e){let o=ae(),i=oa();if(En(o,i,n)){let r=We(),s=ra();md(r,s,o,t,n,o[Ie],e,!1)}return g}function Rl(t,n,e,o,i){let r=n.inputs,s=i?"class":"style";vd(t,e,r[s],s,o)}function at(t,n,e){return wh(t,n,e,!1),at}function B(t,n){return wh(t,n,null,!0),B}function Mo(t){s1(p1,r1,t,!0)}function r1(t,n){for(let e=n1(n);e>=0;e=Mh(n,e))Gl(t,t1(n),!0)}function wh(t,n,e,o){let i=ae(),r=We(),s=ia(2);if(r.firstUpdatePass&&Dh(r,t,s,o),n!==xt&&En(i,s,n)){let l=r.data[Dn()];Sh(r,l,i,i[Ie],t,i[s+1]=g1(n,e),o,s)}}function s1(t,n,e,o){let i=We(),r=ia(2);i.firstUpdatePass&&Dh(i,null,r,o);let s=ae();if(e!==xt&&En(s,r,e)){let l=i.data[Dn()];if(Oh(l,o)&&!Ph(i,r)){let u=o?l.classesWithoutHost:l.stylesWithoutHost;u!==null&&(e=Xc(u,e||"")),Rl(i,l,s,e,o)}else f1(i,l,s,s[Ie],s[r+1],s[r+1]=u1(t,n,e),o,r)}}function Ph(t,n){return n>=t.expandoStartIndex}function Dh(t,n,e,o){let i=t.data;if(i[e+1]===null){let r=i[Dn()],s=Ph(t,e);Oh(r,o)&&n===null&&!s&&(n=!1),n=a1(i,r,n,o),Jb(i,r,n,e,s,o)}}function a1(t,n,e,o){let i=ex(t),r=o?n.residualClasses:n.residualStyles;if(i===null)(o?n.classBindings:n.styleBindings)===0&&(e=Zc(null,t,n,e,o),e=Ui(e,n.attrs,o),r=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==i)if(e=Zc(i,t,n,e,o),r===null){let u=c1(t,n,o);u!==void 0&&Array.isArray(u)&&(u=Zc(null,t,n,u[1],o),u=Ui(u,n.attrs,o),l1(t,n,o,u))}else r=d1(t,n,o)}return r!==void 0&&(o?n.residualClasses=r:n.residualStyles=r),e}function c1(t,n,e){let o=e?n.classBindings:n.styleBindings;if(oi(o)!==0)return t[bo(o)]}function l1(t,n,e,o){let i=e?n.classBindings:n.styleBindings;t[bo(i)]=o}function d1(t,n,e){let o,i=n.directiveEnd;for(let r=1+n.directiveStylingLast;r<i;r++){let s=t[r].hostAttrs;o=Ui(o,s,e)}return Ui(o,n.attrs,e)}function Zc(t,n,e,o,i){let r=null,s=e.directiveEnd,l=e.directiveStylingLast;for(l===-1?l=e.directiveStart:l++;l<s&&(r=n[l],o=Ui(o,r.hostAttrs,i),r!==t);)l++;return t!==null&&(e.directiveStylingLast=l),o}function Ui(t,n,e){let o=e?1:2,i=-1;if(n!==null)for(let r=0;r<n.length;r++){let s=n[r];typeof s=="number"?i=s:i===o&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Gl(t,s,e?!0:n[++r]))}return t===void 0?null:t}function u1(t,n,e){if(e==null||e==="")return mt;let o=[],i=ri(e);if(Array.isArray(i))for(let r=0;r<i.length;r++)t(o,i[r],!0);else if(typeof i=="object")for(let r in i)i.hasOwnProperty(r)&&t(o,r,i[r]);else typeof i=="string"&&n(o,i);return o}function p1(t,n,e){let o=String(n);o!==""&&!o.includes(" ")&&Gl(t,o,e)}function f1(t,n,e,o,i,r,s,l){i===xt&&(i=mt);let u=0,f=0,m=0<i.length?i[0]:null,v=0<r.length?r[0]:null;for(;m!==null||v!==null;){let M=u<i.length?i[u+1]:void 0,y=f<r.length?r[f+1]:void 0,D=null,T;m===v?(u+=2,f+=2,M!==y&&(D=v,T=y)):v===null||m!==null&&m<v?(u+=2,D=m):(f+=2,D=v,T=y),D!==null&&Sh(t,n,e,o,D,T,s,l),m=u<i.length?i[u]:null,v=f<r.length?r[f]:null}}function Sh(t,n,e,o,i,r,s,l){if(!(n.type&3))return;let u=t.data,f=u[l+1],m=Qb(f)?pf(u,n,e,i,oi(f),s):void 0;if(!Hs(m)){Hs(r)||Zb(f)&&(r=pf(u,null,e,i,l,s));let v=Jf(Dn(),e);gC(o,s,v,i,r)}}function pf(t,n,e,o,i,r){let s=n===null,l;for(;i>0;){let u=t[i],f=Array.isArray(u),m=f?u[1]:u,v=m===null,M=e[i+1];M===xt&&(M=v?mt:void 0);let y=v?jc(M,o):m===o?M:void 0;if(f&&!Hs(y)&&(y=jc(u,o)),Hs(y)&&(l=y,s))return l;let D=t[i+1];i=s?bo(D):oi(D)}if(n!==null){let u=r?n.residualClasses:n.residualStyles;u!=null&&(l=jc(u,o))}return l}function Hs(t){return t!==void 0}function g1(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=rt(ri(t)))),t}function Oh(t,n){return(t.flags&(n?8:16))!==0}function h1(t,n,e,o,i,r){let s=n.consts,l=Jo(s,i),u=Hi(n,t,2,o,l);return _d(n,e,u,Jo(s,r)),u.attrs!==null&&zs(u,u.attrs,!1),u.mergedAttrs!==null&&zs(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function c(t,n,e,o){let i=ae(),r=We(),s=At+t,l=i[Ie],u=r.firstCreatePass?h1(s,r,i,n,e,o):r.data[s],f=m1(r,i,u,l,n,t);i[s]=f;let m=ea(u);return yo(u,!0),Xg(l,f,u),!zb(u)&&sa()&&ua(r,i,f,u),zv()===0&&Gn(f,i),$v(),m&&(fd(r,i,u),pd(r,u,i)),o!==null&&gd(i,u),c}function a(){let t=Xe();Ql()?ag():(t=t.parent,yo(t,!1));let n=t;Gv(n)&&Wv(),Bv();let e=We();return e.firstCreatePass&&(ca(e,t),Zl(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&cx(n)&&Rl(e,n,ae(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&lx(n)&&Rl(e,n,ae(),n.stylesWithoutHost,!1),a}function H(t,n,e,o){return c(t,n,e,o),a(),H}var m1=(t,n,e,o,i,r)=>(aa(!0),Gg(o,i,ix()));function _1(t,n,e,o,i){let r=n.consts,s=Jo(r,o),l=Hi(n,t,8,"ng-container",s);s!==null&&zs(l,s,!0);let u=Jo(r,i);return _d(n,e,l,u),n.queries!==null&&n.queries.elementStart(n,l),l}function ma(t,n,e){let o=ae(),i=We(),r=t+At,s=i.firstCreatePass?_1(r,i,o,n,e):i.data[r];yo(s,!0);let l=v1(i,o,s,t);return o[r]=l,sa()&&ua(i,o,l,s),Gn(l,o),ea(s)&&(fd(i,o,s),pd(i,s,o)),e!=null&&gd(o,s),ma}function _a(){let t=Xe(),n=We();return Ql()?ag():(t=t.parent,yo(t,!1)),n.firstCreatePass&&(ca(n,t),Zl(t)&&n.queries.elementEnd(t)),_a}var v1=(t,n,e,o)=>(aa(!0),Jx(n[Ie],""));function S(){return ae()}var uo=void 0;function x1(t){let n=t,e=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&o===0?1:5}var C1=["en",[["a","p"],["AM","PM"],uo],[["AM","PM"],uo,uo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uo,"{1} 'at' {0}",uo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",x1],Kc={};function Ct(t){let n=b1(t),e=ff(n);if(e)return e;let o=n.split("-")[0];if(e=ff(o),e)return e;if(o==="en")return C1;throw new j(701,!1)}function ff(t){return t in Kc||(Kc[t]=po.ng&&po.ng.common&&po.ng.common.locales&&po.ng.common.locales[t]),Kc[t]}var Oe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Oe||{});function b1(t){return t.toLowerCase().replace(/_/g,"-")}var Gs="en-US",y1="USD";var M1=Gs;function E1(t){typeof t=="string"&&(M1=t.toLowerCase().replace(/_/g,"-"))}var w1=(t,n,e)=>{};function _(t,n,e,o){let i=ae(),r=We(),s=Xe();return Ih(r,i,i[Ie],s,t,n,o),_}function P1(t,n,e,o){let i=t.cleanup;if(i!=null)for(let r=0;r<i.length-1;r+=2){let s=i[r];if(s===e&&i[r+1]===o){let l=n[Ds],u=i[r+2];return l.length>u?l[u]:null}typeof s=="string"&&(r+=2)}return null}function Ih(t,n,e,o,i,r,s){let l=ea(o),f=t.firstCreatePass&&zC(t),m=n[Gt],v=UC(n),M=!0;if(o.type&3||s){let T=Nt(o,n),k=s?s(T):T,G=v.length,he=s?Re=>s(an(Re[o.index])):o.index,ie=null;if(!s&&l&&(ie=P1(t,n,i,o.index)),ie!==null){let Re=ie.__ngLastListenerFn__||ie;Re.__ngNextListenerFn__=r,ie.__ngLastListenerFn__=r,M=!1}else{r=hf(o,n,m,r),w1(T,i,r);let Re=e.listen(k,i,r);v.push(r,Re),f&&f.push(i,he,G,G+1)}}else r=hf(o,n,m,r);let y=o.outputs,D;if(M&&y!==null&&(D=y[i])){let T=D.length;if(T)for(let k=0;k<T;k+=2){let G=D[k],he=D[k+1],Ze=n[G][he].subscribe(r),$e=v.length;v.push(r,Ze),f&&f.push(i,o.index,$e,-($e+1))}}}function gf(t,n,e,o){let i=re(null);try{return tn(6,n,e),e(o)!==!1}catch(r){return lh(t,r),!1}finally{tn(7,n,e),re(i)}}function hf(t,n,e,o){return function i(r){if(r===Function)return o;let s=t.componentOffset>-1?Kn(t.index,n):n;bd(s,5);let l=gf(n,e,o,r),u=i.__ngNextListenerFn__;for(;u;)l=gf(n,e,u,r)&&l,u=u.__ngNextListenerFn__;return l}}function h(t=1){return nx(t)}function va(t,n,e,o,i){let r=ae(),s=yh(r,n,e,o);if(s!==xt){let l=We(),u=ra();md(l,u,r,t,s,r[Ie],i,!1)}return va}function D1(t,n,e,o){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=o}function Ye(t){let n=Yv();return eg(n,At+t)}function d(t,n=""){let e=ae(),o=We(),i=t+At,r=o.firstCreatePass?Hi(o,i,1,n,null):o.data[i],s=S1(o,e,r,n,t);e[i]=s,sa()&&ua(o,e,s,r),yo(r,!1)}var S1=(t,n,e,o,i)=>(aa(!0),Kx(n[Ie],o));function P(t){return w("",t,""),P}function w(t,n,e){let o=ae(),i=yh(o,t,n,e);return i!==xt&&xd(o,Dn(),i),w}function Me(t,n,e,o,i){let r=ae(),s=qb(r,t,n,e,o,i);return s!==xt&&xd(r,Dn(),s),Me}function Pd(t,n,e,o,i,r,s){let l=ae(),u=Yb(l,t,n,e,o,i,r,s);return u!==xt&&xd(l,Dn(),u),Pd}function N(t,n,e){Ch(n)&&(n=n());let o=ae(),i=oa();if(En(o,i,n)){let r=We(),s=ra();md(r,s,o,t,n,o[Ie],e,!1)}return N}function V(t,n){let e=Ch(t);return e&&t.set(n),e}function F(t,n){let e=ae(),o=We(),i=Xe();return Ih(o,e,e[Ie],i,t,n),F}function O1(t,n,e){let o=We();if(o.firstCreatePass){let i=Hn(t);Al(e,o.data,o.blueprint,i,!0),Al(n,o.data,o.blueprint,i,!1)}}function Al(t,n,e,o,i){if(t=it(t),Array.isArray(t))for(let r=0;r<t.length;r++)Al(t[r],n,e,o,i);else{let r=We(),s=ae(),l=Xe(),u=Yo(t)?t:it(t.provide),f=Hf(t),m=l.providerIndexes&1048575,v=l.directiveStart,M=l.providerIndexes>>20;if(Yo(t)||!t.multi){let y=new xo(f,i,E),D=Jc(u,n,i?m:m+M,v);D===-1?(fl(As(l,s),r,u),Qc(r,t,n.length),n.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),e.push(y),s.push(y)):(e[D]=y,s[D]=y)}else{let y=Jc(u,n,m+M,v),D=Jc(u,n,m,m+M),T=y>=0&&e[y],k=D>=0&&e[D];if(i&&!k||!i&&!T){fl(As(l,s),r,u);let G=k1(i?T1:I1,e.length,i,o,f);!i&&k&&(e[D].providerFactory=G),Qc(r,t,n.length,0),n.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),e.push(G),s.push(G)}else{let G=Th(e[i?D:y],f,!i&&o);Qc(r,t,y>-1?y:D,G)}!i&&o&&k&&e[D].componentProviders++}}}function Qc(t,n,e,o){let i=Yo(n),r=wv(n);if(i||r){let u=(r?it(n.useClass):n).prototype.ngOnDestroy;if(u){let f=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let m=f.indexOf(e);m===-1?f.push(e,[o,u]):f[m+1].push(o,u)}else f.push(e,u)}}}function Th(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Jc(t,n,e,o){for(let i=e;i<o;i++)if(n[i]===t)return i;return-1}function I1(t,n,e,o){return Nl(this.multi,[])}function T1(t,n,e,o){let i=this.multi,r;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=Xo(e,e[ne],this.providerFactory.index,o);r=l.slice(0,s),Nl(i,r);for(let u=s;u<l.length;u++)r.push(l[u])}else r=[],Nl(i,r);return r}function Nl(t,n){for(let e=0;e<t.length;e++){let o=t[e];n.push(o())}return n}function k1(t,n,e,o,i){let r=new xo(t,e,E);return r.multi=[],r.index=n,r.componentProviders=0,Th(r,i,o&&!e),r}function bt(t,n=[]){return e=>{e.providersResolver=(o,i)=>O1(o,i?i(t):t,n)}}var R1=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let o=zf(!1,e.type),i=o.length>0?Ed([o],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=A({token:t,providedIn:"environment",factory:()=>new t(z(_t))})}}return t})();function le(t){Gi("NgStandalone"),t.getStandaloneInjector=n=>n.get(R1).getOrCreateStandaloneInjector(t)}function A1(t,n){let e=t[n];return e===xt?void 0:e}function N1(t,n,e,o,i,r,s){let l=n+e;return wd(t,l,i,r)?jb(t,l+2,s?o.call(s,i,r):o(i,r)):A1(t,l+2)}function et(t,n){let e=We(),o,i=t+At;e.firstCreatePass?(o=F1(n,e.pipeRegistry),e.data[i]=o,o.onDestroy&&(e.destroyHooks??=[]).push(i,o.onDestroy)):o=e.data[i];let r=o.factory||(o.factory=go(o.type,!0)),s,l=ht(E);try{let u=Rs(!1),f=r();return Rs(u),D1(e,ae(),i,f),f}finally{ht(l)}}function F1(t,n){if(n)for(let e=n.length-1;e>=0;e--){let o=n[e];if(t===o.name)return o}}function tt(t,n,e,o){let i=t+At,r=ae(),s=eg(r,i);return V1(r,i)?N1(r,Zv(),n,s.transform,e,o,s):s.transform(e,o)}function V1(t,n){return t[ne].data[n].pure}function xa(t,n){return mh(t,n)}var Ca=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var kh=new U("");function Eo(t){return!!t&&typeof t.then=="function"}function Rh(t){return!!t&&typeof t.subscribe=="function"}var Ah=new U(""),Nh=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,o)=>{this.resolve=e,this.reject=o}),this.appInits=O(Ah,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let r=i();if(Eo(r))e.push(r);else if(Rh(r)){let s=new Promise((l,u)=>{r.subscribe({complete:l,error:u})});e.push(s)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{o()}).catch(i=>{this.reject(i)}),e.length===0&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ba=new U("");function L1(){rp(()=>{throw new j(600,!1)})}function j1(t){return t.isBoundToModule}var U1=10;function z1(t,n,e){try{let o=e();return Eo(o)?o.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}var Xn=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(Ox),this.afterRenderManager=O(Wb),this.zonelessEnabled=O(yd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ge,this.afterTick=new Ge,this.componentTypes=[],this.components=[],this.isStable=O(Sn).hasPendingTasks.pipe(L(e=>!e)),this._injector=O(_t)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(o=>{e=this.isStable.subscribe({next:i=>{i&&o()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,o){let i=e instanceof Us;if(!this._injector.get(Nh).done){let M=!i&&Vf(e),y=!1;throw new j(405,y)}let s;i?s=e:s=this._injector.get(ti).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let l=j1(s)?void 0:this._injector.get(Wn),u=o||s.selector,f=s.create(bn.NULL,[],u,l),m=f.location.nativeElement,v=f.injector.get(kh,null);return v?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),Cs(this.components,f),v?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new j(101,!1);let e=re(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,re(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(ni,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;this.dirtyFlags!==0&&o++<U1;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let o=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(o);for(let{_lView:i,notifyErrorHandler:r}of this._views)$1(i,r,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>ta(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let o=e;this._views.push(o),o.attachToAppRef(this)}detachView(e){let o=e;Cs(this._views,o),o.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let o=this._injector.get(ba,[]);[...this._bootstrapListeners,...o].forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Cs(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new j(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Cs(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function $1(t,n,e,o){if(!e&&!ta(t))return;ph(t,n,e&&!o?0:1)}var Fl=class{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},Dd=(()=>{class t{compileModuleSync(e){return new Il(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let o=this.compileModuleSync(e),i=Lf(e),r=Hg(i.declarations).reduce((s,l)=>{let u=ho(l);return u&&s.push(new Li(u)),s},[]);return new Fl(o,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var B1=(()=>{class t{constructor(){this.zone=O(Ae),this.changeDetectionScheduler=O(ei),this.applicationRef=O(Xn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function H1({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new Ae(J(I({},G1()),{scheduleInRootZone:e})),[{provide:Ae,useFactory:t},{provide:qo,multi:!0,useFactory:()=>{let o=O(B1,{optional:!0});return()=>o.initialize()}},{provide:qo,multi:!0,useFactory:()=>{let o=O(W1);return()=>{o.initialize()}}},n===!0?{provide:_h,useValue:!0}:[],{provide:vh,useValue:e??Ig}]}function G1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var W1=(()=>{class t{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=O(Ae),this.pendingTasks=O(Sn)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var q1=(()=>{class t{constructor(){this.appRef=O(Xn),this.taskService=O(Sn),this.ngZone=O(Ae),this.zonelessEnabled=O(yd),this.disableScheduling=O(_h,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fs):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(vh,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vl||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let o=this.useMicrotaskScheduler?Zp:kg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fs+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(e),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Zp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Y1(){return typeof $localize<"u"&&$localize.locale||Gs}var ai=new U("",{providedIn:"root",factory:()=>O(ai,X.Optional|X.SkipSelf)||Y1()}),Fh=new U("",{providedIn:"root",factory:()=>y1});var Vl=new U("");function ms(t){return!t.moduleRef}function Z1(t){let n=ms(t)?t.r3Injector:t.moduleRef.injector,e=n.get(Ae);return e.run(()=>{ms(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let o=n.get(yn,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:r=>{o.handleError(r)}})}),ms(t)){let r=()=>n.destroy(),s=t.platformInjector.get(Vl);s.add(r),n.onDestroy(()=>{i.unsubscribe(),s.delete(r)})}else{let r=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Vl);s.add(r),t.moduleRef.onDestroy(()=>{Cs(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(r)})}return z1(o,e,()=>{let r=n.get(Nh);return r.runInitializers(),r.donePromise.then(()=>{let s=n.get(ai,Gs);if(E1(s||Gs),ms(t)){let l=n.get(Xn);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return K1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function K1(t,n){let e=t.injector.get(Xn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>e.bootstrap(o));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new j(-403,!1);n.push(t)}var bs=null;function Q1(t=[],n){return bn.create({name:n,providers:[{provide:Qs,useValue:"platform"},{provide:Vl,useValue:new Set([()=>bs=null])},...t]})}function J1(t=[]){if(bs)return bs;let n=Q1(t);return bs=n,L1(),X1(n),n}function X1(t){t.get(rd,null)?.forEach(e=>e())}var Zt=(()=>{class t{static{this.__NG_ELEMENT_ID__=ey}}return t})();function ey(t){return ty(Xe(),ae(),(t&16)===16)}function ty(t,n,e){if(Xs(t)&&!e){let o=Kn(t.index,n);return new Co(o,o)}else if(t.type&175){let o=n[sn];return new Co(o,n)}return null}var Ll=class{constructor(){}supports(n){return bh(n)}create(n){return new jl(n)}},ny=(t,n)=>n,jl=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||ny}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,o=this._removalsHead,i=0,r=null;for(;e||o;){let s=!o||e&&e.currentIndex<mf(o,i,r)?e:o,l=mf(s,i,r),u=s.currentIndex;if(s===o)i--,o=o._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{r||(r=[]);let f=l-i,m=u-i;if(f!=m){for(let M=0;M<f;M++){let y=M<r.length?r[M]:r[M]=0,D=y+M;m<=D&&D<f&&(r[M]=y+1)}let v=s.previousIndex;r[v]=m-f}}l!==u&&n(s,l,u)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!bh(n))throw new j(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,o=!1,i,r,s;if(Array.isArray(n)){this.length=n.length;for(let l=0;l<this.length;l++)r=n[l],s=this._trackByFn(l,r),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,r,s,l),o=!0):(o&&(e=this._verifyReinsertion(e,r,s,l)),Object.is(e.item,r)||this._addIdentityChange(e,r)),e=e._next}else i=0,Vb(n,l=>{s=this._trackByFn(i,l),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,l,s,i),o=!0):(o&&(e=this._verifyReinsertion(e,l,s,i)),Object.is(e.item,l)||this._addIdentityChange(e,l)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,o,i){let r;return n===null?r=this._itTail:(r=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,r,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(o,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,r,i)):n=this._addAfter(new Ul(e,o),r,i)),n}_verifyReinsertion(n,e,o,i){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null);return r!==null?n=this._reinsertAfter(r,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,o){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,r=n._nextRemoved;return i===null?this._removalsHead=r:i._nextRemoved=r,r===null?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(n,e,o),this._addToMoves(n,o),n}_moveAfter(n,e,o){return this._unlink(n),this._insertAfter(n,e,o),this._addToMoves(n,o),n}_addAfter(n,e,o){return this._insertAfter(n,e,o),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,o){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new Ws),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,o=n._next;return e===null?this._itHead=o:e._next=o,o===null?this._itTail=e:o._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ws),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Ul=class{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},zl=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let o;for(o=this._head;o!==null;o=o._nextDup)if((e===null||e<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){let e=n._prevDup,o=n._nextDup;return e===null?this._head=o:e._nextDup=o,o===null?this._tail=e:o._prevDup=e,this._head===null}},Ws=class{constructor(){this.map=new Map}put(n){let e=n.trackById,o=this.map.get(e);o||(o=new zl,this.map.set(e,o)),o.add(n)}get(n,e){let o=n,i=this.map.get(o);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function mf(t,n,e){let o=t.previousIndex;if(o===null)return o;let i=0;return e&&o<e.length&&(i=e[o]),o+n+i}function _f(){return new Sd([new Ll])}var Sd=(()=>{class t{static{this.\u0275prov=A({token:t,providedIn:"root",factory:_f})}constructor(e){this.factories=e}static create(e,o){if(o!=null){let i=o.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:o=>t.create(e,o||_f()),deps:[[t,new Sf,new Bl]]}}find(e){let o=this.factories.find(i=>i.supports(e));if(o!=null)return o;throw new j(901,!1)}}return t})();function Vh(t){try{let{rootComponent:n,appProviders:e,platformProviders:o}=t,i=J1(o),r=[H1({}),{provide:ei,useExisting:q1},...e||[]],s=new Bs({providers:r,parent:i,debugName:"",runEnvironmentInitializers:!1});return Z1({r3Injector:s.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}}function On(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function qi(t,n){Gi("NgSignals");let e=np(t);return n?.equal&&(e[_n].equal=n.equal),e}function In(t){let n=re(null);try{return t()}finally{re(n)}}var Gh=null;function Rn(){return Gh}function Wh(t){Gh??=t}var Ia=class{};var yt=new U(""),qh=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:()=>O(iy),providedIn:"platform"})}}return t})();var iy=(()=>{class t extends qh{constructor(){super(),this._doc=O(yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rn().getBaseHref(this._doc)}onPopState(e){let o=Rn().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){let o=Rn().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,o,i){this._history.pushState(e,o,i)}replaceState(e,o,i){this._history.replaceState(e,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Yh(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function Lh(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,o=e-(t[e-1]==="/"?1:0);return t.slice(0,o)+t.slice(e)}function wo(t){return t&&t[0]!=="?"?"?"+t:t}var li=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:()=>O(Zh),providedIn:"root"})}}return t})(),ry=new U(""),Zh=(()=>{class t extends li{constructor(e,o){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??O(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Yh(this._baseHref,e)}path(e=!1){let o=this._platformLocation.pathname+wo(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${o}${i}`:o}pushState(e,o,i,r){let s=this.prepareExternalUrl(i+wo(r));this._platformLocation.pushState(e,o,s)}replaceState(e,o,i,r){let s=this.prepareExternalUrl(i+wo(r));this._platformLocation.replaceState(e,o,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(o){return new(o||t)(z(qh),z(ry,8))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Zi=(()=>{class t{constructor(e){this._subject=new je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let o=this._locationStrategy.getBaseHref();this._basePath=cy(Lh(jh(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+wo(o))}normalize(e){return t.stripTrailingSlash(ay(this._basePath,jh(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,o="",i=null){this._locationStrategy.pushState(i,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wo(o)),i)}replaceState(e,o="",i=null){this._locationStrategy.replaceState(i,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wo(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{let o=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(i=>i(e,o))}subscribe(e,o,i){return this._subject.subscribe({next:e,error:o,complete:i})}static{this.normalizeQueryParams=wo}static{this.joinWithSlash=Yh}static{this.stripTrailingSlash=Lh}static{this.\u0275fac=function(o){return new(o||t)(z(li))}}static{this.\u0275prov=A({token:t,factory:()=>sy(),providedIn:"root"})}}return t})();function sy(){return new Zi(z(li))}function ay(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function jh(t){return t.replace(/\/index.html$/,"")}function cy(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var Kh={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Vd=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Vd||{});var ct=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ct||{}),Ce=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ce||{}),St=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(St||{}),nt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ly(t){return Ct(t)[Oe.LocaleId]}function dy(t,n,e){let o=Ct(t),i=[o[Oe.DayPeriodsFormat],o[Oe.DayPeriodsStandalone]],r=Ft(i,n);return Ft(r,e)}function uy(t,n,e){let o=Ct(t),i=[o[Oe.DaysFormat],o[Oe.DaysStandalone]],r=Ft(i,n);return Ft(r,e)}function py(t,n,e){let o=Ct(t),i=[o[Oe.MonthsFormat],o[Oe.MonthsStandalone]],r=Ft(i,n);return Ft(r,e)}function fy(t,n){let o=Ct(t)[Oe.Eras];return Ft(o,n)}function ya(t,n){let e=Ct(t);return Ft(e[Oe.DateFormat],n)}function Ma(t,n){let e=Ct(t);return Ft(e[Oe.TimeFormat],n)}function Ea(t,n){let o=Ct(t)[Oe.DateTimeFormat];return Ft(o,n)}function ln(t,n){let e=Ct(t),o=e[Oe.NumberSymbols][n];if(typeof o>"u"){if(n===nt.CurrencyDecimal)return e[Oe.NumberSymbols][nt.Decimal];if(n===nt.CurrencyGroup)return e[Oe.NumberSymbols][nt.Group]}return o}function Qh(t,n){return Ct(t)[Oe.NumberFormats][n]}function gy(t){return Ct(t)[Oe.Currencies]}function Jh(t){if(!t[Oe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Oe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hy(t){let n=Ct(t);return Jh(n),(n[Oe.ExtraData][2]||[]).map(o=>typeof o=="string"?Od(o):[Od(o[0]),Od(o[1])])}function my(t,n,e){let o=Ct(t);Jh(o);let i=[o[Oe.ExtraData][0],o[Oe.ExtraData][1]],r=Ft(i,n)||[];return Ft(r,e)||[]}function Ft(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function Od(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}function _y(t,n,e="en"){let o=gy(e)[t]||Kh[t]||[],i=o[1];return n==="narrow"&&typeof i=="string"?i:o[0]||t}var vy=2;function xy(t){let n,e=Kh[t];return e&&(n=e[2]),typeof n=="number"?n:vy}var Cy=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wa={},by=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,kn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(kn||{}),ue=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ue||{}),de=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(de||{});function yy(t,n,e,o){let i=Ty(t);n=Tn(e,n)||n;let s=[],l;for(;n;)if(l=by.exec(n),l){s=s.concat(l.slice(1));let m=s.pop();if(!m)break;n=m}else{s.push(n);break}let u=i.getTimezoneOffset();o&&(u=em(o,u),i=Iy(i,o,!0));let f="";return s.forEach(m=>{let v=Sy(m);f+=v?v(i,e,u):m==="''"?"'":m.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function Ta(t,n,e){let o=new Date(0);return o.setFullYear(t,n,e),o.setHours(0,0,0),o}function Tn(t,n){let e=ly(t);if(wa[e]??={},wa[e][n])return wa[e][n];let o="";switch(n){case"shortDate":o=ya(t,St.Short);break;case"mediumDate":o=ya(t,St.Medium);break;case"longDate":o=ya(t,St.Long);break;case"fullDate":o=ya(t,St.Full);break;case"shortTime":o=Ma(t,St.Short);break;case"mediumTime":o=Ma(t,St.Medium);break;case"longTime":o=Ma(t,St.Long);break;case"fullTime":o=Ma(t,St.Full);break;case"short":let i=Tn(t,"shortTime"),r=Tn(t,"shortDate");o=Pa(Ea(t,St.Short),[i,r]);break;case"medium":let s=Tn(t,"mediumTime"),l=Tn(t,"mediumDate");o=Pa(Ea(t,St.Medium),[s,l]);break;case"long":let u=Tn(t,"longTime"),f=Tn(t,"longDate");o=Pa(Ea(t,St.Long),[u,f]);break;case"full":let m=Tn(t,"fullTime"),v=Tn(t,"fullDate");o=Pa(Ea(t,St.Full),[m,v]);break}return o&&(wa[e][n]=o),o}function Pa(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,o){return n!=null&&o in n?n[o]:e})),t}function Kt(t,n,e="-",o,i){let r="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,r=e));let s=String(t);for(;s.length<n;)s="0"+s;return o&&(s=s.slice(s.length-n)),r+s}function My(t,n){return Kt(t,3).substring(0,n)}function Ue(t,n,e=0,o=!1,i=!1){return function(r,s){let l=Ey(t,r);if((e>0||l>-e)&&(l+=e),t===ue.Hours)l===0&&e===-12&&(l=12);else if(t===ue.FractionalSeconds)return My(l,n);let u=ln(s,nt.MinusSign);return Kt(l,n,u,o,i)}}function Ey(t,n){switch(t){case ue.FullYear:return n.getFullYear();case ue.Month:return n.getMonth();case ue.Date:return n.getDate();case ue.Hours:return n.getHours();case ue.Minutes:return n.getMinutes();case ue.Seconds:return n.getSeconds();case ue.FractionalSeconds:return n.getMilliseconds();case ue.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ee(t,n,e=ct.Format,o=!1){return function(i,r){return wy(i,r,t,n,e,o)}}function wy(t,n,e,o,i,r){switch(e){case de.Months:return py(n,i,o)[t.getMonth()];case de.Days:return uy(n,i,o)[t.getDay()];case de.DayPeriods:let s=t.getHours(),l=t.getMinutes();if(r){let f=hy(n),m=my(n,i,o),v=f.findIndex(M=>{if(Array.isArray(M)){let[y,D]=M,T=s>=y.hours&&l>=y.minutes,k=s<D.hours||s===D.hours&&l<D.minutes;if(y.hours<D.hours){if(T&&k)return!0}else if(T||k)return!0}else if(M.hours===s&&M.minutes===l)return!0;return!1});if(v!==-1)return m[v]}return dy(n,i,o)[s<12?0:1];case de.Eras:return fy(n,o)[t.getFullYear()<=0?0:1];default:let u=e;throw new Error(`unexpected translation type ${u}`)}}function Da(t){return function(n,e,o){let i=-1*o,r=ln(e,nt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case kn.Short:return(i>=0?"+":"")+Kt(s,2,r)+Kt(Math.abs(i%60),2,r);case kn.ShortGMT:return"GMT"+(i>=0?"+":"")+Kt(s,1,r);case kn.Long:return"GMT"+(i>=0?"+":"")+Kt(s,2,r)+":"+Kt(Math.abs(i%60),2,r);case kn.Extended:return o===0?"Z":(i>=0?"+":"")+Kt(s,2,r)+":"+Kt(Math.abs(i%60),2,r);default:throw new Error(`Unknown zone width "${t}"`)}}}var Py=0,Oa=4;function Dy(t){let n=Ta(t,Py,1).getDay();return Ta(t,0,1+(n<=Oa?Oa:Oa+7)-n)}function Xh(t){let n=t.getDay(),e=n===0?-3:Oa-n;return Ta(t.getFullYear(),t.getMonth(),t.getDate()+e)}function Id(t,n=!1){return function(e,o){let i;if(n){let r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+r)/7)}else{let r=Xh(e),s=Dy(r.getFullYear()),l=r.getTime()-s.getTime();i=1+Math.round(l/6048e5)}return Kt(i,t,ln(o,nt.MinusSign))}}function Sa(t,n=!1){return function(e,o){let r=Xh(e).getFullYear();return Kt(r,t,ln(o,nt.MinusSign),n)}}var Td={};function Sy(t){if(Td[t])return Td[t];let n;switch(t){case"G":case"GG":case"GGG":n=Ee(de.Eras,Ce.Abbreviated);break;case"GGGG":n=Ee(de.Eras,Ce.Wide);break;case"GGGGG":n=Ee(de.Eras,Ce.Narrow);break;case"y":n=Ue(ue.FullYear,1,0,!1,!0);break;case"yy":n=Ue(ue.FullYear,2,0,!0,!0);break;case"yyy":n=Ue(ue.FullYear,3,0,!1,!0);break;case"yyyy":n=Ue(ue.FullYear,4,0,!1,!0);break;case"Y":n=Sa(1);break;case"YY":n=Sa(2,!0);break;case"YYY":n=Sa(3);break;case"YYYY":n=Sa(4);break;case"M":case"L":n=Ue(ue.Month,1,1);break;case"MM":case"LL":n=Ue(ue.Month,2,1);break;case"MMM":n=Ee(de.Months,Ce.Abbreviated);break;case"MMMM":n=Ee(de.Months,Ce.Wide);break;case"MMMMM":n=Ee(de.Months,Ce.Narrow);break;case"LLL":n=Ee(de.Months,Ce.Abbreviated,ct.Standalone);break;case"LLLL":n=Ee(de.Months,Ce.Wide,ct.Standalone);break;case"LLLLL":n=Ee(de.Months,Ce.Narrow,ct.Standalone);break;case"w":n=Id(1);break;case"ww":n=Id(2);break;case"W":n=Id(1,!0);break;case"d":n=Ue(ue.Date,1);break;case"dd":n=Ue(ue.Date,2);break;case"c":case"cc":n=Ue(ue.Day,1);break;case"ccc":n=Ee(de.Days,Ce.Abbreviated,ct.Standalone);break;case"cccc":n=Ee(de.Days,Ce.Wide,ct.Standalone);break;case"ccccc":n=Ee(de.Days,Ce.Narrow,ct.Standalone);break;case"cccccc":n=Ee(de.Days,Ce.Short,ct.Standalone);break;case"E":case"EE":case"EEE":n=Ee(de.Days,Ce.Abbreviated);break;case"EEEE":n=Ee(de.Days,Ce.Wide);break;case"EEEEE":n=Ee(de.Days,Ce.Narrow);break;case"EEEEEE":n=Ee(de.Days,Ce.Short);break;case"a":case"aa":case"aaa":n=Ee(de.DayPeriods,Ce.Abbreviated);break;case"aaaa":n=Ee(de.DayPeriods,Ce.Wide);break;case"aaaaa":n=Ee(de.DayPeriods,Ce.Narrow);break;case"b":case"bb":case"bbb":n=Ee(de.DayPeriods,Ce.Abbreviated,ct.Standalone,!0);break;case"bbbb":n=Ee(de.DayPeriods,Ce.Wide,ct.Standalone,!0);break;case"bbbbb":n=Ee(de.DayPeriods,Ce.Narrow,ct.Standalone,!0);break;case"B":case"BB":case"BBB":n=Ee(de.DayPeriods,Ce.Abbreviated,ct.Format,!0);break;case"BBBB":n=Ee(de.DayPeriods,Ce.Wide,ct.Format,!0);break;case"BBBBB":n=Ee(de.DayPeriods,Ce.Narrow,ct.Format,!0);break;case"h":n=Ue(ue.Hours,1,-12);break;case"hh":n=Ue(ue.Hours,2,-12);break;case"H":n=Ue(ue.Hours,1);break;case"HH":n=Ue(ue.Hours,2);break;case"m":n=Ue(ue.Minutes,1);break;case"mm":n=Ue(ue.Minutes,2);break;case"s":n=Ue(ue.Seconds,1);break;case"ss":n=Ue(ue.Seconds,2);break;case"S":n=Ue(ue.FractionalSeconds,1);break;case"SS":n=Ue(ue.FractionalSeconds,2);break;case"SSS":n=Ue(ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Da(kn.Short);break;case"ZZZZZ":n=Da(kn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Da(kn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Da(kn.Long);break;default:return null}return Td[t]=n,n}function em(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function Oy(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function Iy(t,n,e){let o=e?-1:1,i=t.getTimezoneOffset(),r=em(n,i);return Oy(t,o*(r-i))}function Ty(t){if(Uh(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,r=1,s=1]=t.split("-").map(l=>+l);return Ta(i,r-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let o;if(o=t.match(Cy))return ky(o)}let n=new Date(t);if(!Uh(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function ky(t){let n=new Date(0),e=0,o=0,i=t[8]?n.setUTCFullYear:n.setFullYear,r=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),o=Number(t[9]+t[11])),i.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,l=Number(t[5]||0)-o,u=Number(t[6]||0),f=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return r.call(n,s,l,u,f),n}function Uh(t){return t instanceof Date&&!isNaN(t.valueOf())}var Ry=/^(\d+)?\.((\d+)(-(\d+))?)?$/,zh=22,ka=".",Yi="0",Ay=";",Ny=",",kd="#",$h="\xA4";function tm(t,n,e,o,i,r,s=!1){let l="",u=!1;if(!isFinite(t))l=ln(e,nt.Infinity);else{let f=jy(t);s&&(f=Ly(f));let m=n.minInt,v=n.minFrac,M=n.maxFrac;if(r){let he=r.match(Ry);if(he===null)throw new Error(`${r} is not a valid digit info`);let ie=he[1],Re=he[3],Ze=he[5];ie!=null&&(m=Rd(ie)),Re!=null&&(v=Rd(Re)),Ze!=null?M=Rd(Ze):Re!=null&&v>M&&(M=v)}Uy(f,v,M);let y=f.digits,D=f.integerLen,T=f.exponent,k=[];for(u=y.every(he=>!he);D<m;D++)y.unshift(0);for(;D<0;D++)y.unshift(0);D>0?k=y.splice(D,y.length):(k=y,y=[0]);let G=[];for(y.length>=n.lgSize&&G.unshift(y.splice(-n.lgSize,y.length).join(""));y.length>n.gSize;)G.unshift(y.splice(-n.gSize,y.length).join(""));y.length&&G.unshift(y.join("")),l=G.join(ln(e,o)),k.length&&(l+=ln(e,i)+k.join("")),T&&(l+=ln(e,nt.Exponential)+"+"+T)}return t<0&&!u?l=n.negPre+l+n.negSuf:l=n.posPre+l+n.posSuf,l}function Fy(t,n,e,o,i){let r=Qh(n,Vd.Currency),s=nm(r,ln(n,nt.MinusSign));return s.minFrac=xy(o),s.maxFrac=s.minFrac,tm(t,s,n,nt.CurrencyGroup,nt.CurrencyDecimal,i).replace($h,e).replace($h,"").trim()}function Vy(t,n,e){let o=Qh(n,Vd.Decimal),i=nm(o,ln(n,nt.MinusSign));return tm(t,i,n,nt.Group,nt.Decimal,e)}function nm(t,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=t.split(Ay),i=o[0],r=o[1],s=i.indexOf(ka)!==-1?i.split(ka):[i.substring(0,i.lastIndexOf(Yi)+1),i.substring(i.lastIndexOf(Yi)+1)],l=s[0],u=s[1]||"";e.posPre=l.substring(0,l.indexOf(kd));for(let m=0;m<u.length;m++){let v=u.charAt(m);v===Yi?e.minFrac=e.maxFrac=m+1:v===kd?e.maxFrac=m+1:e.posSuf+=v}let f=l.split(Ny);if(e.gSize=f[1]?f[1].length:0,e.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,r){let m=i.length-e.posPre.length-e.posSuf.length,v=r.indexOf(kd);e.negPre=r.substring(0,v).replace(/'/g,""),e.negSuf=r.slice(v+m).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function Ly(t){if(t.digits[0]===0)return t;let n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(n===0?t.digits.push(0,0):n===1&&t.digits.push(0),t.integerLen+=2),t}function jy(t){let n=Math.abs(t)+"",e=0,o,i,r,s,l;for((i=n.indexOf(ka))>-1&&(n=n.replace(ka,"")),(r=n.search(/e/i))>0?(i<0&&(i=r),i+=+n.slice(r+1),n=n.substring(0,r)):i<0&&(i=n.length),r=0;n.charAt(r)===Yi;r++);if(r===(l=n.length))o=[0],i=1;else{for(l--;n.charAt(l)===Yi;)l--;for(i-=r,o=[],s=0;r<=l;r++,s++)o[s]=Number(n.charAt(r))}return i>zh&&(o=o.splice(0,zh-1),e=i-1,i=1),{digits:o,exponent:e,integerLen:i}}function Uy(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let o=t.digits,i=o.length-t.integerLen,r=Math.min(Math.max(n,i),e),s=r+t.integerLen,l=o[s];if(s>0){o.splice(Math.max(t.integerLen,s));for(let v=s;v<o.length;v++)o[v]=0}else{i=Math.max(0,i),t.integerLen=1,o.length=Math.max(1,s=r+1),o[0]=0;for(let v=1;v<s;v++)o[v]=0}if(l>=5)if(s-1<0){for(let v=0;v>s;v--)o.unshift(0),t.integerLen++;o.unshift(1),t.integerLen++}else o[s-1]++;for(;i<Math.max(0,r);i++)o.push(0);let u=r!==0,f=n+t.integerLen,m=o.reduceRight(function(v,M,y,D){return M=M+v,D[y]=M<10?M:M-10,u&&(D[y]===0&&y>=f?D.pop():u=!1),M>=10?1:0},0);m&&(o.unshift(m),t.integerLen++)}function Rd(t){let n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function Ra(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let o=e.indexOf("="),[i,r]=o==-1?[e,""]:[e.slice(0,o),e.slice(o+1)];if(i.trim()===n)return decodeURIComponent(r)}return null}var Ad=class{constructor(n,e,o,i){this.$implicit=n,this.ngForOf=e,this.index=o,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ke=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,o,i){this._viewContainer=e,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let o=this._viewContainer;e.forEachOperation((i,r,s)=>{if(i.previousIndex==null)o.createEmbeddedView(this._template,new Ad(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)o.remove(r===null?void 0:r);else if(r!==null){let l=o.get(r);o.move(l,s),Bh(l,i)}});for(let i=0,r=o.length;i<r;i++){let l=o.get(i).context;l.index=i,l.count=r,l.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let r=o.get(i.currentIndex);Bh(r,i)})}static ngTemplateContextGuard(e,o){return!0}static{this.\u0275fac=function(o){return new(o||t)(E(si),E(ha),E(Sd))}}static{this.\u0275dir=me({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function Bh(t,n){t.context.$implicit=n.item}var _e=(()=>{class t{constructor(e,o){this._viewContainer=e,this._context=new Nd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Hh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Hh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}static{this.\u0275fac=function(o){return new(o||t)(E(si),E(ha))}}static{this.\u0275dir=me({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Nd=class{constructor(){this.$implicit=null,this.ngIf=null}};function Hh(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${rt(n)}'.`)}function Ld(t,n){return new j(2100,!1)}var zy="mediumDate",$y=new U(""),By=new U(""),om=(()=>{class t{constructor(e,o,i){this.locale=e,this.defaultTimezone=o,this.defaultOptions=i}transform(e,o,i,r){if(e==null||e===""||e!==e)return null;try{let s=o??this.defaultOptions?.dateFormat??zy,l=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return yy(e,s,r||this.locale,l)}catch(s){throw Ld(t,s.message)}}static{this.\u0275fac=function(o){return new(o||t)(E(ai,16),E($y,24),E(By,24))}}static{this.\u0275pipe=Ks({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var di=(()=>{class t{constructor(e){this._locale=e}transform(e,o,i){if(!rm(e))return null;i||=this._locale;try{let r=sm(e);return Vy(r,i,o)}catch(r){throw Ld(t,r.message)}}static{this.\u0275fac=function(o){return new(o||t)(E(ai,16))}}static{this.\u0275pipe=Ks({name:"number",type:t,pure:!0,standalone:!0})}}return t})();var im=(()=>{class t{constructor(e,o="USD"){this._locale=e,this._defaultCurrencyCode=o}transform(e,o=this._defaultCurrencyCode,i="symbol",r,s){if(!rm(e))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let l=o||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?l=_y(l,i==="symbol"?"wide":"narrow",s):l=i);try{let u=sm(e);return Fy(u,s,l,o,r)}catch(u){throw Ld(t,u.message)}}static{this.\u0275fac=function(o){return new(o||t)(E(ai,16),E(Fh,16))}}static{this.\u0275pipe=Ks({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function rm(t){return!(t==null||t===""||t!==t)}function sm(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var ge=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=Yn({type:t})}static{this.\u0275inj=qn({})}}return t})(),am="browser",Hy="server";function Aa(t){return t===Hy}var ci=class{};var Qi=class{},Ji=class{},dt=class t{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let o=e.indexOf(":");if(o>0){let i=e.slice(0,o),r=i.toLowerCase(),s=e.slice(o+1).trim();this.maybeSetNormalizedName(i,r),this.headers.has(r)?this.headers.get(r).push(s):this.headers.set(r,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,o)=>{this.setHeaderEntries(o,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,o])=>{this.setHeaderEntries(e,o)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let o=n.value;if(typeof o=="string"&&(o=[o]),o.length===0)return;this.maybeSetNormalizedName(n.name,e);let i=(n.op==="a"?this.headers.get(e):void 0)||[];i.push(...o),this.headers.set(e,i);break;case"d":let r=n.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(l=>r.indexOf(l)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(n,e){let o=(Array.isArray(e)?e:[e]).map(r=>r.toString()),i=n.toLowerCase();this.headers.set(i,o),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var Ud=class{encodeKey(n){return cm(n)}encodeValue(n){return cm(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function Gy(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let r=i.indexOf("="),[s,l]=r==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,r)),n.decodeValue(i.slice(r+1))],u=e.get(s)||[];u.push(l),e.set(s,u)}),e}var Wy=/%(\d[a-f0-9])/gi,qy={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cm(t){return encodeURIComponent(t).replace(Wy,(n,e)=>qy[e]??n)}function Na(t){return`${t}`}var dn=class t{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Ud,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Gy(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let o=n.fromObject[e],i=Array.isArray(o)?o.map(Na):[Na(o)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(o=>{let i=n[o];Array.isArray(i)?i.forEach(r=>{e.push({param:o,value:r,op:"a"})}):e.push({param:o,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(Na(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let o=this.map.get(n.param)||[],i=o.indexOf(Na(n.value));i!==-1&&o.splice(i,1),o.length>0?this.map.set(n.param,o):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var zd=class{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function Yy(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function lm(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function dm(t){return typeof Blob<"u"&&t instanceof Blob}function um(t){return typeof FormData<"u"&&t instanceof FormData}function Zy(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ki=class t{constructor(n,e,o,i){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let r;if(Yy(this.method)||i?(this.body=o!==void 0?o:null,r=i):r=o,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new dt,this.context??=new zd,!this.params)this.params=new dn,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let l=e.indexOf("?"),u=l===-1?"?":l<e.length-1?"&":"";this.urlWithParams=e+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||lm(this.body)||dm(this.body)||um(this.body)||Zy(this.body)?this.body:this.body instanceof dn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||um(this.body)?null:dm(this.body)?this.body.type||null:lm(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof dn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let e=n.method||this.method,o=n.url||this.url,i=n.responseType||this.responseType,r=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,l=n.withCredentials??this.withCredentials,u=n.reportProgress??this.reportProgress,f=n.headers||this.headers,m=n.params||this.params,v=n.context??this.context;return n.setHeaders!==void 0&&(f=Object.keys(n.setHeaders).reduce((M,y)=>M.set(y,n.setHeaders[y]),f)),n.setParams&&(m=Object.keys(n.setParams).reduce((M,y)=>M.set(y,n.setParams[y]),m)),new t(e,o,s,{params:m,headers:f,context:v,reportProgress:u,responseType:i,withCredentials:l,transferCache:r})}},to=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(to||{}),Xi=class{constructor(n,e=200,o="OK"){this.headers=n.headers||new dt,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||o,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Fa=class t extends Xi{constructor(n={}){super(n),this.type=to.ResponseHeader}clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},er=class t extends Xi{constructor(n={}){super(n),this.type=to.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},eo=class extends Xi{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},mm=200,Ky=204;function jd(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ke=(()=>{class t{constructor(e){this.handler=e}request(e,o,i={}){let r;if(e instanceof Ki)r=e;else{let u;i.headers instanceof dt?u=i.headers:u=new dt(i.headers);let f;i.params&&(i.params instanceof dn?f=i.params:f=new dn({fromObject:i.params})),r=new Ki(e,o,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=R(r).pipe(zt(u=>this.handler.handle(u)));if(e instanceof Ki||i.observe==="events")return s;let l=s.pipe(ot(u=>u instanceof er));switch(i.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return l.pipe(L(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(L(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(L(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return l.pipe(L(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:new dn().append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,i={}){return this.request("PATCH",e,jd(i,o))}post(e,o,i={}){return this.request("POST",e,jd(i,o))}put(e,o,i={}){return this.request("PUT",e,jd(i,o))}static{this.\u0275fac=function(o){return new(o||t)(z(Qi))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Qy=/^\)\]\}',?\n/,Jy="X-Request-URL";function pm(t){if(t.url)return t.url;let n=Jy.toLocaleLowerCase();return t.headers.get(n)}var $d=(()=>{class t{constructor(){this.fetchImpl=O(Bd,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=O(Ae)}handle(e){return new Y(o=>{let i=new AbortController;return this.doRequest(e,i.signal,o).then(Hd,r=>o.error(new eo({error:r}))),()=>i.abort()})}doRequest(e,o,i){return Rr(this,null,function*(){let r=this.createRequestInit(e),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,I({signal:o},r)));Xy(y),i.next({type:to.Sent}),s=yield y}catch(y){i.error(new eo({error:y,status:y.status??0,statusText:y.statusText,url:e.urlWithParams,headers:y.headers}));return}let l=new dt(s.headers),u=s.statusText,f=pm(s)??e.urlWithParams,m=s.status,v=null;if(e.reportProgress&&i.next(new Fa({headers:l,status:m,statusText:u,url:f})),s.body){let y=s.headers.get("content-length"),D=[],T=s.body.getReader(),k=0,G,he,ie=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Rr(this,null,function*(){for(;;){let{done:Ze,value:$e}=yield T.read();if(Ze)break;if(D.push($e),k+=$e.length,e.reportProgress){he=e.responseType==="text"?(he??"")+(G??=new TextDecoder).decode($e,{stream:!0}):void 0;let mn=()=>i.next({type:to.DownloadProgress,total:y?+y:void 0,loaded:k,partialText:he});ie?ie.run(mn):mn()}}}));let Re=this.concatChunks(D,k);try{let Ze=s.headers.get("Content-Type")??"";v=this.parseBody(e,Re,Ze)}catch(Ze){i.error(new eo({error:Ze,headers:new dt(s.headers),status:s.status,statusText:s.statusText,url:pm(s)??e.urlWithParams}));return}}m===0&&(m=v?mm:0),m>=200&&m<300?(i.next(new er({body:v,headers:l,status:m,statusText:u,url:f})),i.complete()):i.error(new eo({error:v,headers:l,status:m,statusText:u,url:f}))})}parseBody(e,o,i){switch(e.responseType){case"json":let r=new TextDecoder().decode(o).replace(Qy,"");return r===""?null:JSON.parse(r);case"text":return new TextDecoder().decode(o);case"blob":return new Blob([o],{type:i});case"arraybuffer":return o.buffer}}createRequestInit(e){let o={},i=e.withCredentials?"include":void 0;if(e.headers.forEach((r,s)=>o[r]=s.join(",")),e.headers.has("Accept")||(o.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let r=e.detectContentTypeHeader();r!==null&&(o["Content-Type"]=r)}return{body:e.serializeBody(),method:e.method,headers:o,credentials:i}}concatChunks(e,o){let i=new Uint8Array(o),r=0;for(let s of e)i.set(s,r),r+=s.length;return i}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Bd=class{};function Hd(){}function Xy(t){t.then(Hd,Hd)}function _m(t,n){return n(t)}function eM(t,n){return(e,o)=>n.intercept(e,{handle:i=>t(i,o)})}function tM(t,n,e){return(o,i)=>Wt(e,()=>n(o,r=>t(r,i)))}var nM=new U(""),Gd=new U(""),oM=new U(""),vm=new U("",{providedIn:"root",factory:()=>!0});function iM(){let t=null;return(n,e)=>{t===null&&(t=(O(nM,{optional:!0})??[]).reduceRight(eM,_m));let o=O(Sn);if(O(vm)){let r=o.add();return t(n,e).pipe(jn(()=>o.remove(r)))}else return t(n,e)}}var fm=(()=>{class t extends Qi{constructor(e,o){super(),this.backend=e,this.injector=o,this.chain=null,this.pendingTasks=O(Sn),this.contributeToStability=O(vm)}handle(e){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Gd),...this.injector.get(oM,[])]));this.chain=o.reduceRight((i,r)=>tM(i,r,this.injector),_m)}if(this.contributeToStability){let o=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(jn(()=>this.pendingTasks.remove(o)))}else return this.chain(e,o=>this.backend.handle(o))}static{this.\u0275fac=function(o){return new(o||t)(z(Ji),z(_t))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})();var rM=/^\)\]\}',?\n/;function sM(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var gm=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new j(-2800,!1);let o=this.xhrFactory;return(o.\u0275loadImpl?ye(o.\u0275loadImpl()):R(null)).pipe(Le(()=>new Y(r=>{let s=o.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((T,k)=>s.setRequestHeader(T,k.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let T=e.detectContentTypeHeader();T!==null&&s.setRequestHeader("Content-Type",T)}if(e.responseType){let T=e.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let l=e.serializeBody(),u=null,f=()=>{if(u!==null)return u;let T=s.statusText||"OK",k=new dt(s.getAllResponseHeaders()),G=sM(s)||e.url;return u=new Fa({headers:k,status:s.status,statusText:T,url:G}),u},m=()=>{let{headers:T,status:k,statusText:G,url:he}=f(),ie=null;k!==Ky&&(ie=typeof s.response>"u"?s.responseText:s.response),k===0&&(k=ie?mm:0);let Re=k>=200&&k<300;if(e.responseType==="json"&&typeof ie=="string"){let Ze=ie;ie=ie.replace(rM,"");try{ie=ie!==""?JSON.parse(ie):null}catch($e){ie=Ze,Re&&(Re=!1,ie={error:$e,text:ie})}}Re?(r.next(new er({body:ie,headers:T,status:k,statusText:G,url:he||void 0})),r.complete()):r.error(new eo({error:ie,headers:T,status:k,statusText:G,url:he||void 0}))},v=T=>{let{url:k}=f(),G=new eo({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});r.error(G)},M=!1,y=T=>{M||(r.next(f()),M=!0);let k={type:to.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(k.total=T.total),e.responseType==="text"&&s.responseText&&(k.partialText=s.responseText),r.next(k)},D=T=>{let k={type:to.UploadProgress,loaded:T.loaded};T.lengthComputable&&(k.total=T.total),r.next(k)};return s.addEventListener("load",m),s.addEventListener("error",v),s.addEventListener("timeout",v),s.addEventListener("abort",v),e.reportProgress&&(s.addEventListener("progress",y),l!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(l),r.next({type:to.Sent}),()=>{s.removeEventListener("error",v),s.removeEventListener("abort",v),s.removeEventListener("load",m),s.removeEventListener("timeout",v),e.reportProgress&&(s.removeEventListener("progress",y),l!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(o){return new(o||t)(z(ci))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),xm=new U(""),aM="XSRF-TOKEN",cM=new U("",{providedIn:"root",factory:()=>aM}),lM="X-XSRF-TOKEN",dM=new U("",{providedIn:"root",factory:()=>lM}),Va=class{},uM=(()=>{class t{constructor(e,o,i){this.doc=e,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ra(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(o){return new(o||t)(z(yt),z(Qn),z(cM))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})();function pM(t,n){let e=t.url.toLowerCase();if(!O(xm)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let o=O(Va).getToken(),i=O(dM);return o!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,o)})),n(t)}var Wd=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Wd||{});function Cm(t,n){return{\u0275kind:t,\u0275providers:n}}function bm(...t){let n=[Ke,gm,fm,{provide:Qi,useExisting:fm},{provide:Ji,useFactory:()=>O($d,{optional:!0})??O(gm)},{provide:Gd,useValue:pM,multi:!0},{provide:xm,useValue:!0},{provide:Va,useClass:uM}];for(let e of t)n.push(...e.\u0275providers);return Bi(n)}var hm=new U("");function ym(){return Cm(Wd.LegacyInterceptors,[{provide:hm,useFactory:iM},{provide:Gd,useExisting:hm,multi:!0}])}function Mm(){return Cm(Wd.Fetch,[$d,{provide:Ji,useExisting:$d}])}var Zd=class extends Ia{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Kd=class t extends Zd{static makeCurrent(){Wh(new t)}onAndCancel(n,e,o){return n.addEventListener(e,o),()=>{n.removeEventListener(e,o)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=fM();return e==null?null:gM(e)}resetBaseElement(){tr=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Ra(document.cookie,n)}},tr=null;function fM(){return tr=tr||document.querySelector("base"),tr?tr.getAttribute("href"):null}function gM(t){return new URL(t,document.baseURI).pathname}var hM=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Qd=new U(""),Dm=(()=>{class t{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,o,i){return this._findPluginFor(o).addEventListener(e,o,i)}getZone(){return this._zone}_findPluginFor(e){let o=this._eventNameToPlugin.get(e);if(o)return o;if(o=this._plugins.find(r=>r.supports(e)),!o)throw new j(5101,!1);return this._eventNameToPlugin.set(e,o),o}static{this.\u0275fac=function(o){return new(o||t)(z(Qd),z(Ae))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),La=class{constructor(n){this._doc=n}},qd="ng-app-id",Sm=(()=>{class t{constructor(e,o,i,r={}){this.doc=e,this.appId=o,this.nonce=i,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Aa(r),this.resetHostNodes()}addStyles(e){for(let o of e)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(e){for(let o of e)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(o=>o.remove()),e.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let o of this.getAllStyles())this.addStyleToHost(e,o)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let o of this.hostNodes)this.addStyleToHost(o,e)}onStyleRemoved(e){let o=this.styleRef;o.get(e)?.elements?.forEach(i=>i.remove()),o.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${qd}="${this.appId}"]`);if(e?.length){let o=new Map;return e.forEach(i=>{i.textContent!=null&&o.set(i.textContent,i)}),o}return null}changeUsageCount(e,o){let i=this.styleRef;if(i.has(e)){let r=i.get(e);return r.usage+=o,r.usage}return i.set(e,{usage:o,elements:[]}),o}getStyleElement(e,o){let i=this.styleNodesInDOM,r=i?.get(o);if(r?.parentNode===e)return i.delete(o),r.removeAttribute(qd),r;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=o,this.platformIsServer&&s.setAttribute(qd,this.appId),e.appendChild(s),s}}addStyleToHost(e,o){let i=this.getStyleElement(e,o),r=this.styleRef,s=r.get(o)?.elements;s?s.push(i):r.set(o,{elements:[i],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(o){return new(o||t)(z(yt),z(id),z(sd,8),z(Qn))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Yd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xd=/%COMP%/g,Om="%COMP%",mM=`_nghost-${Om}`,_M=`_ngcontent-${Om}`,vM=!0,xM=new U("",{providedIn:"root",factory:()=>vM});function CM(t){return _M.replace(Xd,t)}function bM(t){return mM.replace(Xd,t)}function Im(t,n){return n.map(e=>e.replace(Xd,t))}var Em=(()=>{class t{constructor(e,o,i,r,s,l,u,f=null){this.eventManager=e,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=r,this.doc=s,this.platformId=l,this.ngZone=u,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Aa(l),this.defaultRenderer=new nr(e,s,u,this.platformIsServer)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===on.ShadowDom&&(o=J(I({},o),{encapsulation:on.Emulated}));let i=this.getOrCreateRenderer(e,o);return i instanceof ja?i.applyToHost(e):i instanceof or&&i.applyStyles(),i}getOrCreateRenderer(e,o){let i=this.rendererByCompId,r=i.get(o.id);if(!r){let s=this.doc,l=this.ngZone,u=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(o.encapsulation){case on.Emulated:r=new ja(u,f,o,this.appId,m,s,l,v);break;case on.ShadowDom:return new Jd(u,f,e,o,s,l,this.nonce,v);default:r=new or(u,f,o,m,s,l,v);break}i.set(o.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(o){return new(o||t)(z(Dm),z(Sm),z(id),z(xM),z(yt),z(Qn),z(Ae),z(sd))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),nr=class{constructor(n,e,o,i){this.eventManager=n,this.doc=e,this.ngZone=o,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Yd[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(wm(n)?n.content:n).appendChild(e)}insertBefore(n,e,o){n&&(wm(n)?n.content:n).insertBefore(e,o)}removeChild(n,e){e.remove()}selectRootElement(n,e){let o=typeof n=="string"?this.doc.querySelector(n):n;if(!o)throw new j(-5104,!1);return e||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,o,i){if(i){e=i+":"+e;let r=Yd[i];r?n.setAttributeNS(r,e,o):n.setAttribute(e,o)}else n.setAttribute(e,o)}removeAttribute(n,e,o){if(o){let i=Yd[o];i?n.removeAttributeNS(i,e):n.removeAttribute(`${o}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,o,i){i&(Mn.DashCase|Mn.Important)?n.style.setProperty(e,o,i&Mn.Important?"important":""):n.style[e]=o}removeStyle(n,e,o){o&Mn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,o){n!=null&&(n[e]=o)}setValue(n,e){n.nodeValue=e}listen(n,e,o){if(typeof n=="string"&&(n=Rn().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(o))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function wm(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Jd=class extends nr{constructor(n,e,o,i,r,s,l,u){super(n,r,s,u),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=Im(i.id,i.styles);for(let m of f){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=m,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,o){return super.insertBefore(this.nodeOrShadowRoot(n),e,o)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},or=class extends nr{constructor(n,e,o,i,r,s,l,u){super(n,r,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=u?Im(u,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ja=class extends or{constructor(n,e,o,i,r,s,l,u){let f=i+"-"+o.id;super(n,e,o,r,s,l,u,f),this.contentAttr=CM(f),this.hostAttr=bM(f)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let o=super.createElement(n,e);return super.setAttribute(o,this.contentAttr,""),o}},yM=(()=>{class t extends La{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,i){return e.addEventListener(o,i,!1),()=>this.removeEventListener(e,o,i)}removeEventListener(e,o,i){return e.removeEventListener(o,i)}static{this.\u0275fac=function(o){return new(o||t)(z(yt))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})(),Pm=["alt","control","meta","shift"],MM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},wM=(()=>{class t extends La{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,o,i){let r=t.parseEventName(o),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rn().onAndCancel(e,r.domEventName,s))}static parseEventName(e){let o=e.toLowerCase().split("."),i=o.shift();if(o.length===0||!(i==="keydown"||i==="keyup"))return null;let r=t._normalizeKey(o.pop()),s="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),s="code."),Pm.forEach(f=>{let m=o.indexOf(f);m>-1&&(o.splice(m,1),s+=f+".")}),s+=r,o.length!=0||r.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(e,o){let i=MM[e.key]||e.key,r="";return o.indexOf("code.")>-1&&(i=e.code,r="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Pm.forEach(s=>{if(s!==i){let l=EM[s];l(e)&&(r+=s+".")}}),r+=i,r===o)}static eventCallback(e,o,i){return r=>{t.matchEventFullKeyCode(r,e)&&i.runGuarded(()=>o(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(o){return new(o||t)(z(yt))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac})}}return t})();function Tm(t,n){return Vh(I({rootComponent:t},PM(n)))}function PM(t){return{appProviders:[...TM,...t?.providers??[]],platformProviders:IM}}function DM(){Kd.makeCurrent()}function SM(){return new yn}function OM(){return jg(document),document}var IM=[{provide:Qn,useValue:am},{provide:rd,useValue:DM,multi:!0},{provide:yt,useFactory:OM,deps:[]}];var TM=[{provide:Qs,useValue:"root"},{provide:yn,useFactory:SM,deps:[]},{provide:Qd,useClass:yM,multi:!0,deps:[yt,Ae,Qn]},{provide:Qd,useClass:wM,multi:!0,deps:[yt]},Em,Sm,Dm,{provide:ni,useExisting:Em},{provide:ci,useClass:hM,deps:[]},[]];var km=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(o){return new(o||t)(z(yt))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var K="primary",xr=Symbol("RouteTitle"),iu=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function mi(t){return new iu(t)}function RM(t,n,e){let o=e.path.split("/");if(o.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||o.length<t.length))return null;let i={};for(let r=0;r<o.length;r++){let s=o[r],l=t[r];if(s[0]===":")i[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:t.slice(0,o.length),posParams:i}}function AM(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!un(t[e],n[e]))return!1;return!0}function un(t,n){let e=t?ru(t):void 0,o=n?ru(n):void 0;if(!e||!o||e.length!=o.length)return!1;let i;for(let r=0;r<e.length;r++)if(i=e[r],!Um(t[i],n[i]))return!1;return!0}function ru(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Um(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),o=[...n].sort();return e.every((i,r)=>o[r]===i)}else return t===n}function zm(t){return t.length>0?t[t.length-1]:null}function oo(t){return Tc(t)?t:Eo(t)?ye(Promise.resolve(t)):R(t)}var NM={exact:Bm,subset:Hm},$m={exact:FM,subset:VM,ignored:()=>!0};function Rm(t,n,e){return NM[e.paths](t.root,n.root,e.matrixParams)&&$m[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function FM(t,n){return un(t,n)}function Bm(t,n,e){if(!Do(t.segments,n.segments)||!$a(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let o in n.children)if(!t.children[o]||!Bm(t.children[o],n.children[o],e))return!1;return!0}function VM(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Um(t[e],n[e]))}function Hm(t,n,e){return Gm(t,n,n.segments,e)}function Gm(t,n,e,o){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!Do(i,e)||n.hasChildren()||!$a(i,e,o))}else if(t.segments.length===e.length){if(!Do(t.segments,e)||!$a(t.segments,e,o))return!1;for(let i in n.children)if(!t.children[i]||!Hm(t.children[i],n.children[i],o))return!1;return!0}else{let i=e.slice(0,t.segments.length),r=e.slice(t.segments.length);return!Do(t.segments,i)||!$a(t.segments,i,o)||!t.children[K]?!1:Gm(t.children[K],n,r,o)}}function $a(t,n,e){return n.every((o,i)=>$m[e](t[i].parameters,o.parameters))}var Nn=class{constructor(n=new pe([],{}),e={},o=null){this.root=n,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap??=mi(this.queryParams),this._queryParamMap}toString(){return UM.serialize(this)}},pe=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ba(this)}},Po=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=mi(this.parameters),this._parameterMap}toString(){return qm(this)}};function LM(t,n){return Do(t,n)&&t.every((e,o)=>un(e.parameters,n[o].parameters))}function Do(t,n){return t.length!==n.length?!1:t.every((e,o)=>e.path===n[o].path)}function jM(t,n){let e=[];return Object.entries(t.children).forEach(([o,i])=>{o===K&&(e=e.concat(n(i,o)))}),Object.entries(t.children).forEach(([o,i])=>{o!==K&&(e=e.concat(n(i,o)))}),e}var Tu=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:()=>new dr,providedIn:"root"})}}return t})(),dr=class{parse(n){let e=new au(n);return new Nn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${ir(n.root,!0)}`,o=BM(n.queryParams),i=typeof n.fragment=="string"?`#${zM(n.fragment)}`:"";return`${e}${o}${i}`}},UM=new dr;function Ba(t){return t.segments.map(n=>qm(n)).join("/")}function ir(t,n){if(!t.hasChildren())return Ba(t);if(n){let e=t.children[K]?ir(t.children[K],!1):"",o=[];return Object.entries(t.children).forEach(([i,r])=>{i!==K&&o.push(`${i}:${ir(r,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}else{let e=jM(t,(o,i)=>i===K?[ir(t.children[K],!1)]:[`${i}:${ir(o,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${Ba(t)}/${e[0]}`:`${Ba(t)}/(${e.join("//")})`}}function Wm(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ua(t){return Wm(t).replace(/%3B/gi,";")}function zM(t){return encodeURI(t)}function su(t){return Wm(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ha(t){return decodeURIComponent(t)}function Am(t){return Ha(t.replace(/\+/g,"%20"))}function qm(t){return`${su(t.path)}${$M(t.parameters)}`}function $M(t){return Object.entries(t).map(([n,e])=>`;${su(n)}=${su(e)}`).join("")}function BM(t){let n=Object.entries(t).map(([e,o])=>Array.isArray(o)?o.map(i=>`${Ua(e)}=${Ua(i)}`).join("&"):`${Ua(e)}=${Ua(o)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var HM=/^[^\/()?;#]+/;function eu(t){let n=t.match(HM);return n?n[0]:""}var GM=/^[^\/()?;=#]+/;function WM(t){let n=t.match(GM);return n?n[0]:""}var qM=/^[^=?&#]+/;function YM(t){let n=t.match(qM);return n?n[0]:""}var ZM=/^[^&#]+/;function KM(t){let n=t.match(ZM);return n?n[0]:""}var au=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(o[K]=new pe(n,e)),o}parseSegment(){let n=eu(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(n),new Po(Ha(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=WM(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){let i=eu(this.remaining);i&&(o=i,this.capture(o))}n[Ha(e)]=Ha(o)}parseQueryParam(n){let e=YM(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){let s=KM(this.remaining);s&&(o=s,this.capture(o))}let i=Am(e),r=Am(o);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(r)}else n[i]=r}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=eu(this.remaining),i=this.remaining[o.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let r;o.indexOf(":")>-1?(r=o.slice(0,o.indexOf(":")),this.capture(r),this.capture(":")):n&&(r=K);let s=this.parseChildren();e[r]=Object.keys(s).length===1?s[K]:new pe([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new j(4011,!1)}};function Ym(t){return t.segments.length>0?new pe([],{[K]:t}):t}function Zm(t){let n={};for(let[o,i]of Object.entries(t.children)){let r=Zm(i);if(o===K&&r.segments.length===0&&r.hasChildren())for(let[s,l]of Object.entries(r.children))n[s]=l;else(r.segments.length>0||r.hasChildren())&&(n[o]=r)}let e=new pe(t.segments,n);return QM(e)}function QM(t){if(t.numberOfChildren===1&&t.children[K]){let n=t.children[K];return new pe(t.segments.concat(n.segments),n.children)}return t}function So(t){return t instanceof Nn}function JM(t,n,e=null,o=null){let i=Km(t);return Qm(i,n,e,o)}function Km(t){let n;function e(r){let s={};for(let u of r.children){let f=e(u);s[u.outlet]=f}let l=new pe(r.url,s);return r===t&&(n=l),l}let o=e(t.root),i=Ym(o);return n??i}function Qm(t,n,e,o){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return tu(i,i,i,e,o);let r=XM(n);if(r.toRoot())return tu(i,i,new pe([],{}),e,o);let s=eE(r,i,t),l=s.processChildren?ar(s.segmentGroup,s.index,r.commands):Xm(s.segmentGroup,s.index,r.commands);return tu(i,s.segmentGroup,l,e,o)}function Ga(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ur(t){return typeof t=="object"&&t!=null&&t.outlets}function tu(t,n,e,o,i){let r={};o&&Object.entries(o).forEach(([u,f])=>{r[u]=Array.isArray(f)?f.map(m=>`${m}`):`${f}`});let s;t===n?s=e:s=Jm(t,n,e);let l=Ym(Zm(s));return new Nn(l,r,i)}function Jm(t,n,e){let o={};return Object.entries(t.children).forEach(([i,r])=>{r===n?o[i]=e:o[i]=Jm(r,n,e)}),new pe(t.segments,o)}var Wa=class{constructor(n,e,o){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=o,n&&o.length>0&&Ga(o[0]))throw new j(4003,!1);let i=o.find(ur);if(i&&i!==zm(o))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Wa(!0,0,t);let n=0,e=!1,o=t.reduce((i,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let l={};return Object.entries(r.outlets).forEach(([u,f])=>{l[u]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:l}]}if(r.segmentPath)return[...i,r.segmentPath]}return typeof r!="string"?[...i,r]:s===0?(r.split("/").forEach((l,u)=>{u==0&&l==="."||(u==0&&l===""?e=!0:l===".."?n++:l!=""&&i.push(l))}),i):[...i,r]},[]);return new Wa(e,n,o)}var fi=class{constructor(n,e,o){this.segmentGroup=n,this.processChildren=e,this.index=o}};function eE(t,n,e){if(t.isAbsolute)return new fi(n,!0,0);if(!e)return new fi(n,!1,NaN);if(e.parent===null)return new fi(e,!0,0);let o=Ga(t.commands[0])?0:1,i=e.segments.length-1+o;return tE(e,i,t.numberOfDoubleDots)}function tE(t,n,e){let o=t,i=n,r=e;for(;r>i;){if(r-=i,o=o.parent,!o)throw new j(4005,!1);i=o.segments.length}return new fi(o,!1,i-r)}function nE(t){return ur(t[0])?t[0].outlets:{[K]:t}}function Xm(t,n,e){if(t??=new pe([],{}),t.segments.length===0&&t.hasChildren())return ar(t,n,e);let o=oE(t,n,e),i=e.slice(o.commandIndex);if(o.match&&o.pathIndex<t.segments.length){let r=new pe(t.segments.slice(0,o.pathIndex),{});return r.children[K]=new pe(t.segments.slice(o.pathIndex),t.children),ar(r,0,i)}else return o.match&&i.length===0?new pe(t.segments,{}):o.match&&!t.hasChildren()?cu(t,n,e):o.match?ar(t,0,i):cu(t,n,e)}function ar(t,n,e){if(e.length===0)return new pe(t.segments,{});{let o=nE(e),i={};if(Object.keys(o).some(r=>r!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let r=ar(t.children[K],n,e);return new pe(t.segments,r.children)}return Object.entries(o).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[r]=Xm(t.children[r],n,s))}),Object.entries(t.children).forEach(([r,s])=>{o[r]===void 0&&(i[r]=s)}),new pe(t.segments,i)}}function oE(t,n,e){let o=0,i=n,r={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(o>=e.length)return r;let s=t.segments[i],l=e[o];if(ur(l))break;let u=`${l}`,f=o<e.length-1?e[o+1]:null;if(i>0&&u===void 0)break;if(u&&f&&typeof f=="object"&&f.outlets===void 0){if(!Fm(u,f,s))return r;o+=2}else{if(!Fm(u,{},s))return r;o++}i++}return{match:!0,pathIndex:i,commandIndex:o}}function cu(t,n,e){let o=t.segments.slice(0,n),i=0;for(;i<e.length;){let r=e[i];if(ur(r)){let u=iE(r.outlets);return new pe(o,u)}if(i===0&&Ga(e[0])){let u=t.segments[n];o.push(new Po(u.path,Nm(e[0]))),i++;continue}let s=ur(r)?r.outlets[K]:`${r}`,l=i<e.length-1?e[i+1]:null;s&&l&&Ga(l)?(o.push(new Po(s,Nm(l))),i+=2):(o.push(new Po(s,{})),i++)}return new pe(o,{})}function iE(t){let n={};return Object.entries(t).forEach(([e,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(n[e]=cu(new pe([],{}),0,o))}),n}function Nm(t){let n={};return Object.entries(t).forEach(([e,o])=>n[e]=`${o}`),n}function Fm(t,n,e){return t==e.path&&un(n,e.parameters)}var cr="imperative",Qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Qe||{}),Vt=class{constructor(n,e){this.id=n,this.url=e}},pr=class extends Vt{constructor(n,e,o="imperative",i=null){super(n,e),this.type=Qe.NavigationStart,this.navigationTrigger=o,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pn=class extends Vt{constructor(n,e,o){super(n,e),this.urlAfterRedirects=o,this.type=Qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},It=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(It||{}),lu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(lu||{}),An=class extends Vt{constructor(n,e,o,i){super(n,e),this.reason=o,this.code=i,this.type=Qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Oo=class extends Vt{constructor(n,e,o,i){super(n,e),this.reason=o,this.code=i,this.type=Qe.NavigationSkipped}},fr=class extends Vt{constructor(n,e,o,i){super(n,e),this.error=o,this.target=i,this.type=Qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qa=class extends Vt{constructor(n,e,o,i){super(n,e),this.urlAfterRedirects=o,this.state=i,this.type=Qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},du=class extends Vt{constructor(n,e,o,i){super(n,e),this.urlAfterRedirects=o,this.state=i,this.type=Qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uu=class extends Vt{constructor(n,e,o,i,r){super(n,e),this.urlAfterRedirects=o,this.state=i,this.shouldActivate=r,this.type=Qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pu=class extends Vt{constructor(n,e,o,i){super(n,e),this.urlAfterRedirects=o,this.state=i,this.type=Qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fu=class extends Vt{constructor(n,e,o,i){super(n,e),this.urlAfterRedirects=o,this.state=i,this.type=Qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gu=class{constructor(n){this.route=n,this.type=Qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hu=class{constructor(n){this.route=n,this.type=Qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mu=class{constructor(n){this.snapshot=n,this.type=Qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_u=class{constructor(n){this.snapshot=n,this.type=Qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vu=class{constructor(n){this.snapshot=n,this.type=Qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xu=class{constructor(n){this.snapshot=n,this.type=Qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var gr=class{},_i=class{constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function rE(t,n){return t.providers&&!t._injector&&(t._injector=Ed(t.providers,n,`Route: ${t.path}`)),t._injector??n}function Qt(t){return t.outlet||K}function sE(t,n){let e=t.filter(o=>Qt(o)===n);return e.push(...t.filter(o=>Qt(o)!==n)),e}function Cr(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Cu=class{get injector(){return Cr(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new ec(this.rootInjector),this.attachRef=null}},ec=(()=>{class t{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,o){let i=this.getOrCreateContext(e);i.outlet=o,this.contexts.set(e,i)}onChildOutletDestroyed(e){let o=this.getContext(e);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let o=this.getContext(e);return o||(o=new Cu(this.rootInjector),this.contexts.set(e,o)),o}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(o){return new(o||t)(z(_t))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ya=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=bu(n,this._root);return e?e.children.map(o=>o.value):[]}firstChild(n){let e=bu(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=yu(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return yu(n,this._root).map(e=>e.value)}};function bu(t,n){if(t===n.value)return n;for(let e of n.children){let o=bu(t,e);if(o)return o}return null}function yu(t,n){if(t===n.value)return[n];for(let e of n.children){let o=yu(t,e);if(o.length)return o.unshift(n),o}return[]}var Ot=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function pi(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Za=class extends Ya{constructor(n,e){super(n),this.snapshot=e,ku(this,n)}toString(){return this.snapshot.toString()}};function e0(t){let n=aE(t),e=new Se([new Po("",{})]),o=new Se({}),i=new Se({}),r=new Se({}),s=new Se(""),l=new ut(e,o,r,s,i,K,t,n.root);return l.snapshot=n.root,new Za(new Ot(l,[]),n)}function aE(t){let n={},e={},o={},i="",r=new gi([],n,o,i,e,K,t,null,{});return new Qa("",new Ot(r,[]))}var ut=class{constructor(n,e,o,i,r,s,l,u){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=o,this.fragmentSubject=i,this.dataSubject=r,this.outlet=s,this.component=l,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(L(f=>f[xr]))??R(void 0),this.url=n,this.params=e,this.queryParams=o,this.fragment=i,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(n=>mi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(n=>mi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ka(t,n,e="emptyOnly"){let o,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?o={params:I(I({},n.params),t.params),data:I(I({},n.data),t.data),resolve:I(I(I(I({},t.data),n.data),i?.data),t._resolvedData)}:o={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&n0(i)&&(o.resolve[xr]=i.title),o}var gi=class{get title(){return this.data?.[xr]}constructor(n,e,o,i,r,s,l,u,f){this.url=n,this.params=e,this.queryParams=o,this.fragment=i,this.data=r,this.outlet=s,this.component=l,this.routeConfig=u,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mi(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(o=>o.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Qa=class extends Ya{constructor(n,e){super(e),this.url=n,ku(this,e)}toString(){return t0(this._root)}};function ku(t,n){n.value._routerState=t,n.children.forEach(e=>ku(t,e))}function t0(t){let n=t.children.length>0?` { ${t.children.map(t0).join(", ")} } `:"";return`${t.value}${n}`}function nu(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,un(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),un(n.params,e.params)||t.paramsSubject.next(e.params),AM(n.url,e.url)||t.urlSubject.next(e.url),un(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Mu(t,n){let e=un(t.params,n.params)&&LM(t.url,n.url),o=!t.parent!=!n.parent;return e&&!o&&(!t.parent||Mu(t.parent,n.parent))}function n0(t){return typeof t.title=="string"||t.title===null}var Ru=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.parentContexts=O(ec),this.location=O(si),this.changeDetector=O(Zt),this.inputBinder=O(Au,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:o,previousValue:i}=e.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new Eu(e,l,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275dir=me({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zn]})}}return t})(),Eu=class t{__ngOutletInjector(n){return new t(this.route,this.childContexts,n)}constructor(n,e,o){this.route=n,this.childContexts=e,this.parent=o}get(n,e){return n===ut?this.route:n===ec?this.childContexts:this.parent.get(n,e)}},Au=new U("");function cE(t,n,e){let o=hr(t,n._root,e?e._root:void 0);return new Za(o,n)}function hr(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let o=e.value;o._futureSnapshot=n.value;let i=lE(t,n,e);return new Ot(o,i)}else{if(t.shouldAttach(n.value)){let r=t.retrieve(n.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(l=>hr(t,l)),s}}let o=dE(n.value),i=n.children.map(r=>hr(t,r));return new Ot(o,i)}}function lE(t,n,e){return n.children.map(o=>{for(let i of e.children)if(t.shouldReuseRoute(o.value,i.value.snapshot))return hr(t,o,i);return hr(t,o)})}function dE(t){return new ut(new Se(t.url),new Se(t.params),new Se(t.queryParams),new Se(t.fragment),new Se(t.data),t.outlet,t.component,t)}var mr=class{constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},o0="ngNavigationCancelingError";function Ja(t,n){let{redirectTo:e,navigationBehaviorOptions:o}=So(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=i0(!1,It.Redirect);return i.url=e,i.navigationBehaviorOptions=o,i}function i0(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[o0]=!0,e.cancellationCode=n,e}function uE(t){return r0(t)&&So(t.url)}function r0(t){return!!t&&t[o0]}var pE=(t,n,e,o)=>L(i=>(new wu(n,i.targetRouterState,i.currentRouterState,e,o).activate(t),i)),wu=class{constructor(n,e,o,i,r){this.routeReuseStrategy=n,this.futureState=e,this.currState=o,this.forwardEvent=i,this.inputBindingEnabled=r}activate(n){let e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,n),nu(this.futureState.root),this.activateChildRoutes(e,o,n)}deactivateChildRoutes(n,e,o){let i=pi(e);n.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,i[s],o),delete i[s]}),Object.values(i).forEach(r=>{this.deactivateRouteAndItsChildren(r,o)})}deactivateRoutes(n,e,o){let i=n.value,r=e?e.value:null;if(i===r)if(i.component){let s=o.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,o);else r&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let o=e.getContext(n.value.outlet),i=o&&n.value.component?o.children:e,r=pi(n);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,i);if(o&&o.outlet){let s=o.outlet.detach(),l=o.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:l})}}deactivateRouteAndOutlet(n,e){let o=e.getContext(n.value.outlet),i=o&&n.value.component?o.children:e,r=pi(n);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,i);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(n,e,o){let i=pi(e);n.children.forEach(r=>{this.activateRoutes(r,i[r.value.outlet],o),this.forwardEvent(new xu(r.value.snapshot))}),n.children.length&&this.forwardEvent(new _u(n.value.snapshot))}activateRoutes(n,e,o){let i=n.value,r=e?e.value:null;if(nu(i),i===r)if(i.component){let s=o.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,o);else if(i.component){let s=o.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),nu(l.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,o)}},Xa=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},hi=class{constructor(n,e){this.component=n,this.route=e}};function fE(t,n,e){let o=t._root,i=n?n._root:null;return rr(o,i,e,[o.value])}function gE(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function xi(t,n){let e=Symbol(),o=n.get(t,e);return o===e?typeof t=="function"&&!bf(t)?t:n.get(t):o}function rr(t,n,e,o,i={canDeactivateChecks:[],canActivateChecks:[]}){let r=pi(n);return t.children.forEach(s=>{hE(s,r[s.value.outlet],e,o.concat([s.value]),i),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,l])=>lr(l,e.getContext(s),i)),i}function hE(t,n,e,o,i={canDeactivateChecks:[],canActivateChecks:[]}){let r=t.value,s=n?n.value:null,l=e?e.getContext(t.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let u=mE(s,r,r.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Xa(o)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?rr(t,n,l?l.children:null,o,i):rr(t,n,e,o,i),u&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new hi(l.outlet.component,s))}else s&&lr(n,l,i),i.canActivateChecks.push(new Xa(o)),r.component?rr(t,null,l?l.children:null,o,i):rr(t,null,e,o,i);return i}function mE(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!Do(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Do(t.url,n.url)||!un(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mu(t,n)||!un(t.queryParams,n.queryParams);case"paramsChange":default:return!Mu(t,n)}}function lr(t,n,e){let o=pi(t),i=t.value;Object.entries(o).forEach(([r,s])=>{i.component?n?lr(s,n.children.getContext(r),e):lr(s,null,e):lr(s,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new hi(n.outlet.component,i)):e.canDeactivateChecks.push(new hi(null,i)):e.canDeactivateChecks.push(new hi(null,i))}function br(t){return typeof t=="function"}function _E(t){return typeof t=="boolean"}function vE(t){return t&&br(t.canLoad)}function xE(t){return t&&br(t.canActivate)}function CE(t){return t&&br(t.canActivateChild)}function bE(t){return t&&br(t.canDeactivate)}function yE(t){return t&&br(t.canMatch)}function s0(t){return t instanceof vn||t?.name==="EmptyError"}var za=Symbol("INITIAL_VALUE");function vi(){return Le(t=>as(t.map(n=>n.pipe(xn(1),Vc(za)))).pipe(L(n=>{for(let e of n)if(e!==!0){if(e===za)return za;if(e===!1||ME(e))return e}return!0}),ot(n=>n!==za),xn(1)))}function ME(t){return So(t)||t instanceof mr}function EE(t,n){return He(e=>{let{targetSnapshot:o,currentSnapshot:i,guards:{canActivateChecks:r,canDeactivateChecks:s}}=e;return s.length===0&&r.length===0?R(J(I({},e),{guardsResult:!0})):wE(s,o,i,t).pipe(He(l=>l&&_E(l)?PE(o,r,t,n):R(l)),L(l=>J(I({},e),{guardsResult:l})))})}function wE(t,n,e,o){return ye(t).pipe(He(i=>TE(i.component,i.route,e,n,o)),en(i=>i!==!0,!0))}function PE(t,n,e,o){return ye(n).pipe(zt(i=>jo(SE(i.route.parent,o),DE(i.route,o),IE(t,i.path,e),OE(t,i.route,e))),en(i=>i!==!0,!0))}function DE(t,n){return t!==null&&n&&n(new vu(t)),R(!0)}function SE(t,n){return t!==null&&n&&n(new mu(t)),R(!0)}function OE(t,n,e){let o=n.routeConfig?n.routeConfig.canActivate:null;if(!o||o.length===0)return R(!0);let i=o.map(r=>cs(()=>{let s=Cr(n)??e,l=xi(r,s),u=xE(l)?l.canActivate(n,t):Wt(s,()=>l(n,t));return oo(u).pipe(en())}));return R(i).pipe(vi())}function IE(t,n,e){let o=n[n.length-1],r=n.slice(0,n.length-1).reverse().map(s=>gE(s)).filter(s=>s!==null).map(s=>cs(()=>{let l=s.guards.map(u=>{let f=Cr(s.node)??e,m=xi(u,f),v=CE(m)?m.canActivateChild(o,t):Wt(f,()=>m(o,t));return oo(v).pipe(en())});return R(l).pipe(vi())}));return R(r).pipe(vi())}function TE(t,n,e,o,i){let r=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!r||r.length===0)return R(!0);let s=r.map(l=>{let u=Cr(n)??i,f=xi(l,u),m=bE(f)?f.canDeactivate(t,n,e,o):Wt(u,()=>f(t,n,e,o));return oo(m).pipe(en())});return R(s).pipe(vi())}function kE(t,n,e,o){let i=n.canLoad;if(i===void 0||i.length===0)return R(!0);let r=i.map(s=>{let l=xi(s,t),u=vE(l)?l.canLoad(n,e):Wt(t,()=>l(n,e));return oo(u)});return R(r).pipe(vi(),a0(o))}function a0(t){return Dc(te(n=>{if(typeof n!="boolean")throw Ja(t,n)}),L(n=>n===!0))}function RE(t,n,e,o){let i=n.canMatch;if(!i||i.length===0)return R(!0);let r=i.map(s=>{let l=xi(s,t),u=yE(l)?l.canMatch(n,e):Wt(t,()=>l(n,e));return oo(u)});return R(r).pipe(vi(),a0(o))}var _r=class{constructor(n){this.segmentGroup=n||null}},vr=class extends Error{constructor(n){super(),this.urlTree=n}};function ui(t){return Dt(new _r(t))}function AE(t){return Dt(new j(4e3,!1))}function NE(t){return Dt(i0(!1,It.GuardRejected))}var Pu=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let o=[],i=e.root;for(;;){if(o=o.concat(i.segments),i.numberOfChildren===0)return R(o);if(i.numberOfChildren>1||!i.children[K])return AE(`${n.redirectTo}`);i=i.children[K]}}applyRedirectCommands(n,e,o,i,r){if(typeof e!="string"){let l=e,{queryParams:u,fragment:f,routeConfig:m,url:v,outlet:M,params:y,data:D,title:T}=i,k=Wt(r,()=>l({params:y,data:D,queryParams:u,fragment:f,routeConfig:m,url:v,outlet:M,title:T}));if(k instanceof Nn)throw new vr(k);e=k}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,o);if(e[0]==="/")throw new vr(s);return s}applyRedirectCreateUrlTree(n,e,o,i){let r=this.createSegmentGroup(n,e.root,o,i);return new Nn(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let o={};return Object.entries(n).forEach(([i,r])=>{if(typeof r=="string"&&r[0]===":"){let l=r.substring(1);o[i]=e[l]}else o[i]=r}),o}createSegmentGroup(n,e,o,i){let r=this.createSegments(n,e.segments,o,i),s={};return Object.entries(e.children).forEach(([l,u])=>{s[l]=this.createSegmentGroup(n,u,o,i)}),new pe(r,s)}createSegments(n,e,o,i){return e.map(r=>r.path[0]===":"?this.findPosParam(n,r,i):this.findOrReturn(r,o))}findPosParam(n,e,o){let i=o[e.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(n,e){let o=0;for(let i of e){if(i.path===n.path)return e.splice(o),i;o++}return n}},Du={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FE(t,n,e,o,i){let r=c0(t,n,e);return r.matched?(o=rE(n,o),RE(o,n,e,i).pipe(L(s=>s===!0?r:I({},Du)))):R(r)}function c0(t,n,e){if(n.path==="**")return VE(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?I({},Du):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||RM)(e,t,n);if(!i)return I({},Du);let r={};Object.entries(i.posParams??{}).forEach(([l,u])=>{r[l]=u.path});let s=i.consumed.length>0?I(I({},r),i.consumed[i.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function VE(t){return{matched:!0,parameters:t.length>0?zm(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Vm(t,n,e,o){return e.length>0&&UE(t,e,o)?{segmentGroup:new pe(n,jE(o,new pe(e,t.children))),slicedSegments:[]}:e.length===0&&zE(t,e,o)?{segmentGroup:new pe(t.segments,LE(t,e,o,t.children)),slicedSegments:e}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:e}}function LE(t,n,e,o){let i={};for(let r of e)if(tc(t,n,r)&&!o[Qt(r)]){let s=new pe([],{});i[Qt(r)]=s}return I(I({},o),i)}function jE(t,n){let e={};e[K]=n;for(let o of t)if(o.path===""&&Qt(o)!==K){let i=new pe([],{});e[Qt(o)]=i}return e}function UE(t,n,e){return e.some(o=>tc(t,n,o)&&Qt(o)!==K)}function zE(t,n,e){return e.some(o=>tc(t,n,o))}function tc(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function $E(t,n,e){return n.length===0&&!t.children[e]}var Su=class{};function BE(t,n,e,o,i,r,s="emptyOnly"){return new Ou(t,n,e,o,i,s,r).recognize()}var HE=31,Ou=class{constructor(n,e,o,i,r,s,l){this.injector=n,this.configLoader=e,this.rootComponentType=o,this.config=i,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new Pu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new j(4002,`'${n.segmentGroup}'`)}recognize(){let n=Vm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(L(({children:e,rootSnapshot:o})=>{let i=new Ot(o,e),r=new Qa("",i),s=JM(o,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}}))}match(n){let e=new gi([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,K,e).pipe(L(o=>({children:o,rootSnapshot:e})),Q(o=>{if(o instanceof vr)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof _r?this.noMatchError(o):o}))}processSegmentGroup(n,e,o,i,r){return o.segments.length===0&&o.hasChildren()?this.processChildren(n,e,o,r):this.processSegment(n,e,o,o.segments,i,!0,r).pipe(L(s=>s instanceof Ot?[s]:[]))}processChildren(n,e,o,i){let r=[];for(let s of Object.keys(o.children))s==="primary"?r.unshift(s):r.push(s);return ye(r).pipe(zt(s=>{let l=o.children[s],u=sE(e,s);return this.processSegmentGroup(n,u,l,s,i)}),Fc((s,l)=>(s.push(...l),s)),Ln(null),Nc(),He(s=>{if(s===null)return ui(o);let l=l0(s);return GE(l),R(l)}))}processSegment(n,e,o,i,r,s,l){return ye(e).pipe(zt(u=>this.processSegmentAgainstRoute(u._injector??n,e,u,o,i,r,s,l).pipe(Q(f=>{if(f instanceof _r)return R(null);throw f}))),en(u=>!!u),Q(u=>{if(s0(u))return $E(o,i,r)?R(new Su):ui(o);throw u}))}processSegmentAgainstRoute(n,e,o,i,r,s,l,u){return Qt(o)!==s&&(s===K||!tc(i,r,o))?ui(i):o.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,o,r,s,u):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,o,r,s,u):ui(i)}expandSegmentAgainstRouteUsingRedirect(n,e,o,i,r,s,l){let{matched:u,parameters:f,consumedSegments:m,positionalParamSegments:v,remainingSegments:M}=c0(e,i,r);if(!u)return ui(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>HE&&(this.allowRedirects=!1));let y=new gi(r,f,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Lm(i),Qt(i),i.component??i._loadedComponent??null,i,jm(i)),D=Ka(y,l,this.paramsInheritanceStrategy);y.params=Object.freeze(D.params),y.data=Object.freeze(D.data);let T=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,v,y,n);return this.applyRedirects.lineralizeSegments(i,T).pipe(He(k=>this.processSegment(n,o,e,k.concat(M),s,!1,l)))}matchSegmentAgainstRoute(n,e,o,i,r,s){let l=FE(e,o,i,n,this.urlSerializer);return o.path==="**"&&(e.children={}),l.pipe(Le(u=>u.matched?(n=o._injector??n,this.getChildConfig(n,o,i).pipe(Le(({routes:f})=>{let m=o._loadedInjector??n,{parameters:v,consumedSegments:M,remainingSegments:y}=u,D=new gi(M,v,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Lm(o),Qt(o),o.component??o._loadedComponent??null,o,jm(o)),T=Ka(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(T.params),D.data=Object.freeze(T.data);let{segmentGroup:k,slicedSegments:G}=Vm(e,M,y,f);if(G.length===0&&k.hasChildren())return this.processChildren(m,f,k,D).pipe(L(ie=>new Ot(D,ie)));if(f.length===0&&G.length===0)return R(new Ot(D,[]));let he=Qt(o)===r;return this.processSegment(m,f,k,G,he?K:r,!0,D).pipe(L(ie=>new Ot(D,ie instanceof Ot?[ie]:[])))}))):ui(e)))}getChildConfig(n,e,o){return e.children?R({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?R({routes:e._loadedRoutes,injector:e._loadedInjector}):kE(n,e,o,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(n,e).pipe(te(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):NE(e))):R({routes:[],injector:n})}};function GE(t){t.sort((n,e)=>n.value.outlet===K?-1:e.value.outlet===K?1:n.value.outlet.localeCompare(e.value.outlet))}function WE(t){let n=t.value.routeConfig;return n&&n.path===""}function l0(t){let n=[],e=new Set;for(let o of t){if(!WE(o)){n.push(o);continue}let i=n.find(r=>o.value.routeConfig===r.value.routeConfig);i!==void 0?(i.children.push(...o.children),e.add(i)):n.push(o)}for(let o of e){let i=l0(o.children);n.push(new Ot(o.value,i))}return n.filter(o=>!e.has(o))}function Lm(t){return t.data||{}}function jm(t){return t.resolve||{}}function qE(t,n,e,o,i,r){return He(s=>BE(t,n,e,o,s.extractedUrl,i,r).pipe(L(({state:l,tree:u})=>J(I({},s),{targetSnapshot:l,urlAfterRedirects:u}))))}function YE(t,n){return He(e=>{let{targetSnapshot:o,guards:{canActivateChecks:i}}=e;if(!i.length)return R(e);let r=new Set(i.map(u=>u.route)),s=new Set;for(let u of r)if(!s.has(u))for(let f of d0(u))s.add(f);let l=0;return ye(s).pipe(zt(u=>r.has(u)?ZE(u,o,t,n):(u.data=Ka(u,u.parent,t).resolve,R(void 0))),te(()=>l++),Uo(1),He(u=>l===s.size?R(e):Pt))})}function d0(t){let n=t.children.map(e=>d0(e)).flat();return[t,...n]}function ZE(t,n,e,o){let i=t.routeConfig,r=t._resolve;return i?.title!==void 0&&!n0(i)&&(r[xr]=i.title),KE(r,t,n,o).pipe(L(s=>(t._resolvedData=s,t.data=Ka(t,t.parent,e).resolve,null)))}function KE(t,n,e,o){let i=ru(t);if(i.length===0)return R({});let r={};return ye(i).pipe(He(s=>QE(t[s],n,e,o).pipe(en(),te(l=>{if(l instanceof mr)throw Ja(new dr,l);r[s]=l}))),Uo(1),Ac(r),Q(s=>s0(s)?Pt:Dt(s)))}function QE(t,n,e,o){let i=Cr(n)??o,r=xi(t,i),s=r.resolve?r.resolve(n,e):Wt(i,()=>r(n,e));return oo(s)}function ou(t){return Le(n=>{let e=t(n);return e?ye(e).pipe(L(()=>n)):R(n)})}var u0=(()=>{class t{buildTitle(e){let o,i=e.root;for(;i!==void 0;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(r=>r.outlet===K);return o}getResolvedTitleForRoute(e){return e.data[xr]}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:()=>O(JE),providedIn:"root"})}}return t})(),JE=(()=>{class t extends u0{constructor(e){super(),this.title=e}updateTitle(e){let o=this.buildTitle(e);o!==void 0&&this.title.setTitle(o)}static{this.\u0275fac=function(o){return new(o||t)(z(km))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Nu=new U("",{providedIn:"root",factory:()=>({})}),XE=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=ce({type:t,selectors:[["ng-component"]],standalone:!0,features:[le],decls:1,vars:0,template:function(o,i){o&1&&H(0,"router-outlet")},dependencies:[Ru],encapsulation:2})}}return t})();function Fu(t){let n=t.children&&t.children.map(Fu),e=n?J(I({},t),{children:n}):I({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==K&&(e.component=XE),e}var Vu=new U(""),ew=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Dd)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return R(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let o=oo(e.loadComponent()).pipe(L(p0),te(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),jn(()=>{this.componentLoaders.delete(e)})),i=new Lo(o,()=>new Ge).pipe(Vo());return this.componentLoaders.set(e,i),i}loadChildren(e,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return R({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let r=tw(o,this.compiler,e,this.onLoadEndListener).pipe(jn(()=>{this.childrenLoaders.delete(o)})),s=new Lo(r,()=>new Ge).pipe(Vo());return this.childrenLoaders.set(o,s),s}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function tw(t,n,e,o){return oo(t.loadChildren()).pipe(L(p0),He(i=>i instanceof ji||Array.isArray(i)?R(i):ye(n.compileModuleAsync(i))),L(i=>{o&&o(t);let r,s,l=!1;return Array.isArray(i)?(s=i,l=!0):(r=i.create(e).injector,s=r.get(Vu,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fu),injector:r}}))}function nw(t){return t&&typeof t=="object"&&"default"in t}function p0(t){return nw(t)?t.default:t}var Lu=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:()=>O(ow),providedIn:"root"})}}return t})(),ow=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,o){return e}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iw=new U("");var rw=new U(""),sw=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ge,this.transitionAbortSubject=new Ge,this.configLoader=O(ew),this.environmentInjector=O(_t),this.urlSerializer=O(Tu),this.rootContexts=O(ec),this.location=O(Zi),this.inputBindingEnabled=O(Au,{optional:!0})!==null,this.titleStrategy=O(u0),this.options=O(Nu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Lu),this.createViewTransition=O(iw,{optional:!0}),this.navigationErrorHandler=O(rw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let e=i=>this.events.next(new gu(i)),o=i=>this.events.next(new hu(i));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let o=++this.navigationId;this.transitions?.next(J(I(I({},this.transitions.value),e),{id:o}))}setupNavigations(e,o,i){return this.transitions=new Se({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:cr,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ot(r=>r.id!==0),L(r=>J(I({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Le(r=>{let s=!1,l=!1;return R(r).pipe(Le(u=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",It.SupersededByNewNavigation),Pt;this.currentTransition=r,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?J(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=u.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!f&&m!=="reload"){let v="";return this.events.next(new Oo(u.id,this.urlSerializer.serialize(u.rawUrl),v,lu.IgnoredSameUrlNavigation)),u.resolve(!1),Pt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return R(u).pipe(Le(v=>{let M=this.transitions?.getValue();return this.events.next(new pr(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),M!==this.transitions?.getValue()?Pt:Promise.resolve(v)}),qE(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),te(v=>{r.targetSnapshot=v.targetSnapshot,r.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation=J(I({},this.currentNavigation),{finalUrl:v.urlAfterRedirects});let M=new qa(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(M)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:v,extractedUrl:M,source:y,restoredState:D,extras:T}=u,k=new pr(v,this.urlSerializer.serialize(M),y,D);this.events.next(k);let G=e0(this.rootComponentType).snapshot;return this.currentTransition=r=J(I({},u),{targetSnapshot:G,urlAfterRedirects:M,extras:J(I({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=M,R(r)}else{let v="";return this.events.next(new Oo(u.id,this.urlSerializer.serialize(u.extractedUrl),v,lu.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Pt}}),te(u=>{let f=new du(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),L(u=>(this.currentTransition=r=J(I({},u),{guards:fE(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),r)),EE(this.environmentInjector,u=>this.events.next(u)),te(u=>{if(r.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Ja(this.urlSerializer,u.guardsResult);let f=new uu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),ot(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",It.GuardRejected),!1)),ou(u=>{if(u.guards.canActivateChecks.length)return R(u).pipe(te(f=>{let m=new pu(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),Le(f=>{let m=!1;return R(f).pipe(YE(this.paramsInheritanceStrategy,this.environmentInjector),te({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(f,"",It.NoDataFromResolver)}}))}),te(f=>{let m=new fu(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),ou(u=>{let f=m=>{let v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(te(M=>{m.component=M}),L(()=>{})));for(let M of m.children)v.push(...f(M));return v};return as(f(u.targetSnapshot.root)).pipe(Ln(null),xn(1))}),ou(()=>this.afterPreactivation()),Le(()=>{let{currentSnapshot:u,targetSnapshot:f}=r,m=this.createViewTransition?.(this.environmentInjector,u.root,f.root);return m?ye(m).pipe(L(()=>r)):R(r)}),L(u=>{let f=cE(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=r=J(I({},u),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,r}),te(()=>{this.events.next(new gr)}),pE(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),xn(1),te({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Lc(this.transitionAbortSubject.pipe(te(u=>{throw u}))),jn(()=>{!s&&!l&&this.cancelNavigationTransition(r,"",It.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Q(u=>{if(l=!0,r0(u))this.events.next(new An(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode)),uE(u)?this.events.next(new _i(u.url,u.navigationBehaviorOptions)):r.resolve(!1);else{let f=new fr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);try{let m=Wt(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(m instanceof mr){let{message:v,cancellationCode:M}=Ja(this.urlSerializer,m);this.events.next(new An(r.id,this.urlSerializer.serialize(r.extractedUrl),v,M)),this.events.next(new _i(m.redirectTo,m.navigationBehaviorOptions))}else{this.events.next(f);let v=e.errorHandler(u);r.resolve(!!v)}}catch(m){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(m)}}return Pt}))}))}cancelNavigationTransition(e,o,i){let r=new An(e.id,this.urlSerializer.serialize(e.extractedUrl),o,i);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),o=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==o?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function aw(t){return t!==cr}var cw=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:()=>O(lw),providedIn:"root"})}}return t})(),Iu=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},lw=(()=>{class t extends Iu{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=vt(t)))(i||t)}})()}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),f0=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:()=>O(dw),providedIn:"root"})}}return t})(),dw=(()=>{class t extends f0{constructor(){super(...arguments),this.location=O(Zi),this.urlSerializer=O(Tu),this.options=O(Nu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Lu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Nn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=e0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(o=>{o.type==="popstate"&&e(o.url,o.state)})}handleRouterEvent(e,o){if(e instanceof pr)this.stateMemento=this.createStateMemento();else if(e instanceof Oo)this.rawUrlTree=o.initialUrl;else if(e instanceof qa){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(o.targetBrowserUrl??i,o)}}else e instanceof gr?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&!o.extras.skipLocationChange&&this.setBrowserUrl(o.targetBrowserUrl??this.rawUrlTree,o)):e instanceof An&&(e.code===It.GuardRejected||e.code===It.NoDataFromResolver)?this.restoreHistory(o):e instanceof fr?this.restoreHistory(o,!0):e instanceof pn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,o){let i=e instanceof Nn?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){let r=this.browserPageId,s=I(I({},o.extras.state),this.generateNgRouterState(o.id,r));this.location.replaceState(i,"",s)}else{let r=I(I({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(i,"",r)}}restoreHistory(e,o=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,r=this.currentPageId-i;r!==0?this.location.historyGo(r):this.currentUrlTree===e.finalUrl&&r===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,o){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=vt(t)))(i||t)}})()}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(sr||{});function uw(t,n){t.events.pipe(ot(e=>e instanceof pn||e instanceof An||e instanceof fr||e instanceof Oo),L(e=>e instanceof pn||e instanceof Oo?sr.COMPLETE:(e instanceof An?e.code===It.Redirect||e.code===It.SupersededByNewNavigation:!1)?sr.REDIRECTING:sr.FAILED),ot(e=>e!==sr.REDIRECTING),xn(1)).subscribe(()=>{n()})}function pw(t){throw t}var fw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},se=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(Ca),this.stateManager=O(f0),this.options=O(Nu,{optional:!0})||{},this.pendingTasks=O(Sn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(sw),this.urlSerializer=O(Tu),this.location=O(Zi),this.urlHandlingStrategy=O(Lu),this._events=new Ge,this.errorHandler=this.options.errorHandler||pw,this.navigated=!1,this.routeReuseStrategy=O(cw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Vu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Au,{optional:!0}),this.eventsSubscription=new Fe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(o=>{try{let i=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(i!==null&&r!==null){if(this.stateManager.handleRouterEvent(o,r),o instanceof An&&o.code!==It.Redirect&&o.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof pn)this.navigated=!0;else if(o instanceof _i){let s=o.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),u=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||aw(i.source)},s);this.scheduleNavigation(l,cr,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mw(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",o)},0)})}navigateToSyncWithBrowser(e,o,i){let r={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=I({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(r.state=u)}let l=this.parseUrl(e);this.scheduleNavigation(l,o,s,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Fu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,o={}){let{relativeTo:i,queryParams:r,fragment:s,queryParamsHandling:l,preserveFragment:u}=o,f=u?this.currentUrlTree.fragment:s,m=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":m=I(I({},this.currentUrlTree.queryParams),r);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=r||null}m!==null&&(m=this.removeEmptyProps(m));let v;try{let M=i?i.snapshot:this.routerState.snapshot.root;v=Km(M)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),v=this.currentUrlTree.root}return Qm(v,e,m,f??null)}navigateByUrl(e,o={skipLocationChange:!1}){let i=So(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(r,cr,null,o)}navigate(e,o={skipLocationChange:!1}){return hw(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,o){let i;if(o===!0?i=I({},fw):o===!1?i=I({},gw):i=o,So(e))return Rm(this.currentUrlTree,e,i);let r=this.parseUrl(e);return Rm(this.currentUrlTree,r,i)}removeEmptyProps(e){return Object.entries(e).reduce((o,[i,r])=>(r!=null&&(o[i]=r),o),{})}scheduleNavigation(e,o,i,r,s){if(this.disposed)return Promise.resolve(!1);let l,u,f;s?(l=s.resolve,u=s.reject,f=s.promise):f=new Promise((v,M)=>{l=v,u=M});let m=this.pendingTasks.add();return uw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:l,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(v=>Promise.reject(v))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hw(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new j(4008,!1)}function mw(t){return!(t instanceof gr)&&!(t instanceof _i)}var Ci=(()=>{class t{constructor(e,o,i,r,s,l){this.router=e,this.route=o,this.tabIndexAttribute=i,this.renderer=r,this.el=s,this.locationStrategy=l,this.href=null,this.onChanges=new Ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=e.events.subscribe(f=>{f instanceof pn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(So(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,o,i,r,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(e!==0||o||i||r||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let o=this.href===null?null:$g(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(e,o){let i=this.renderer,r=this.el.nativeElement;o!==null?i.setAttribute(r,e,o):i.removeAttribute(r,e)}get urlTree(){return this.routerLinkInput===null?null:So(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(o){return new(o||t)(E(se),E(ut),td("tabindex"),E(cn),E(Yt),E(li))}}static{this.\u0275dir=me({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(o,i){o&1&&_("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),o&2&&Te("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",On],skipLocationChange:[2,"skipLocationChange","skipLocationChange",On],replaceUrl:[2,"replaceUrl","replaceUrl",On],routerLink:"routerLink"},standalone:!0,features:[Md,Zn]})}}return t})();var _w=new U("");function g0(t,...n){return Bi([{provide:Vu,multi:!0,useValue:t},[],{provide:ut,useFactory:vw,deps:[se]},{provide:ba,multi:!0,useFactory:xw},n.map(e=>e.\u0275providers)])}function vw(t){return t.routerState.root}function xw(){let t=O(bn);return n=>{let e=t.get(Xn);if(n!==e.components[0])return;let o=t.get(se),i=t.get(Cw);t.get(bw)===1&&o.initialNavigation(),t.get(yw,null,X.Optional)?.setUpPreloading(),t.get(_w,null,X.Optional)?.init(),o.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Cw=new U("",{factory:()=>new Ge}),bw=new U("",{providedIn:"root",factory:()=>1});var yw=new U("");var h0="http://localhost:8081";function Mw(){return typeof window<"u"&&typeof window.location<"u"}function Ew(t){return t.endsWith("/")?t.slice(0,-1):t}function ww(){if(Mw()){let t=Ew(window.location.origin);return t.includes("localhost:4200")||t.includes("127.0.0.1:4200")?h0:t}return h0}var Jt=ww(),Mt=`${Jt}/api`;var fe=(()=>{class t{constructor(e){if(this.http=e,this.currentUserSubject=new Se(null),this.selectedClientSubject=new Se(null),this.tokenSubject=new Se(null),this.currentUser$=this.currentUserSubject.asObservable(),this.selectedClient$=this.selectedClientSubject.asObservable(),this.API_URL=Mt,this.mockClients=[{id:1,nombre:"Distribuidora Norte",email:"norte@dist.com",telefono:"011-1234-5678",direccion:"Av. Corrientes 1234",activo:!0},{id:2,nombre:"Mayorista Sur",email:"sur@mayorista.com",telefono:"011-8765-4321",direccion:"Av. Santa Fe 5678",activo:!0},{id:3,nombre:"Comercial Este",email:"este@comercial.com",telefono:"011-5555-1234",direccion:"Av. Rivadavia 9999",activo:!0}],typeof window<"u"&&window.localStorage){let o=localStorage.getItem("currentUser"),i=localStorage.getItem("token");o&&i&&(this.currentUserSubject.next(JSON.parse(o)),this.tokenSubject.next(i))}}login(e){return this.http.post(`${this.API_URL}/auth/login`,e).pipe(L(o=>(typeof window<"u"&&window.localStorage&&(localStorage.setItem("token",o.token),localStorage.setItem("currentUser",JSON.stringify(o.usuario))),this.tokenSubject.next(o.token),this.currentUserSubject.next(o.usuario),o.usuario)),Q(o=>(console.error("Error en login:",o),Dt(()=>new Error("Credenciales inv\xE1lidas")))))}register(e){return console.log("\u{1F535} [FRONTEND] Enviando petici\xF3n de registro:",e),console.log("\u{1F535} [FRONTEND] URL:",`${this.API_URL}/auth/register`),this.http.post(`${this.API_URL}/auth/register`,e).pipe(L(o=>{if(!o||!o.token||!o.usuario)throw new Error("Respuesta de registro incompleta o inv\xE1lida.");return typeof window<"u"&&window.localStorage&&(localStorage.setItem("token",o.token),localStorage.setItem("currentUser",JSON.stringify(o.usuario))),this.tokenSubject.next(o.token),this.currentUserSubject.next(o.usuario),o.usuario}),Q(o=>{console.error("Error en registro:",o);let i="Error al registrar usuario";return o.error&&o.error.message?i=o.error.message:o.status===400&&(i="Datos inv\xE1lidos. Verifica que el email y CUIT no est\xE9n registrados."),Dt(()=>new Error(i))}))}recuperarContrase\u00F1a(e){return console.log("\u{1F535} [AUTH SERVICE] Solicitando recuperaci\xF3n de contrase\xF1a para:",e),this.http.post(`${this.API_URL}/auth/recuperar-contrase\xF1a`,{email:e}).pipe(Q(o=>{console.error("\u{1F534} [AUTH SERVICE] Error al recuperar contrase\xF1a:",o);let i=o.error?.message||"Error al solicitar recuperaci\xF3n de contrase\xF1a";return Dt(()=>new Error(i))}))}actualizarPerfil(e,o){return console.log("\u{1F535} [AUTH SERVICE] Actualizando perfil para usuario:",e,o),this.http.put(`${this.API_URL}/usuarios/${e}`,o,{headers:this.getAuthHeaders()}).pipe(L(i=>{let r=this.getCurrentUser();return r&&r.id===i.id&&(this.currentUserSubject.next(i),typeof window<"u"&&window.localStorage&&localStorage.setItem("currentUser",JSON.stringify(i))),i}),Q(i=>{console.error("\u{1F534} [AUTH SERVICE] Error al actualizar perfil:",i);let r=i.error?.error||i.error?.message||"Error al actualizar el perfil";return Dt(()=>new Error(r))}))}logout(){this.currentUserSubject.next(null),this.selectedClientSubject.next(null),this.tokenSubject.next(null),typeof window<"u"&&window.localStorage&&(localStorage.removeItem("currentUser"),localStorage.removeItem("selectedClient"),localStorage.removeItem("token"))}getCurrentUser(){return this.currentUserSubject.value}isLoggedIn(){return this.currentUserSubject.value!==null}isAdmin(){return this.currentUserSubject.value?.tipoUsuario==="ADMIN"}getToken(){return this.tokenSubject.value}getAuthHeaders(){let e=this.getToken();return new dt({Authorization:e?`Bearer ${e}`:"","Content-Type":"application/json"})}cambiarRol(e,o){return this.http.put(`${this.API_URL}/usuarios/${e}/rol`,{tipoUsuario:o},{headers:this.getAuthHeaders()}).pipe(L(i=>{let r=this.getCurrentUser();return r&&r.id===i.id&&(this.currentUserSubject.next(i),typeof window<"u"&&window.localStorage&&localStorage.setItem("currentUser",JSON.stringify(i))),i}),Q(i=>(console.error("Error al cambiar rol:",i),Dt(()=>new Error("Error al cambiar rol")))))}getClientes(){return R(this.mockClients)}getUsuarios(){return this.http.get(`${this.API_URL}/usuarios`,{headers:this.getAuthHeaders()}).pipe(Q(e=>(console.error("Error al obtener usuarios:",e),Dt(()=>new Error("Error al cargar usuarios")))))}puedeCambiarRolAAdmin(e){return e==null?R(!1):this.http.get(`${this.API_URL}/usuarios/${e}/puede-cambiar-a-admin`,{headers:this.getAuthHeaders()}).pipe(L(o=>o?o.allowed??!1:!1),Q(o=>(console.error("Error al verificar permiso para cambiar a admin:",o),R(!1))))}selectClient(e){this.selectedClientSubject.next(e),typeof window<"u"&&window.localStorage&&localStorage.setItem("selectedClient",JSON.stringify(e))}getSelectedClient(){return this.selectedClientSubject.value}clearSelectedClient(){this.selectedClientSubject.next(null),typeof window<"u"&&window.localStorage&&localStorage.removeItem("selectedClient")}static{this.\u0275fac=function(o){return new(o||t)(z(Ke))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var m0=(()=>{class t{constructor(e,o){this.authService=e,this.router=o,this.currentUser=null,this.selectedClient=null,this.isLoggedIn=!1}ngOnInit(){this.authService.currentUser$.subscribe(e=>{this.currentUser=e,this.isLoggedIn=!!e}),this.authService.selectedClient$.subscribe(e=>{this.selectedClient=e})}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(o){return new(o||t)(E(fe),E(se))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-root"]],standalone:!0,features:[le],decls:1,vars:0,template:function(o,i){o&1&&H(0,"router-outlet")},dependencies:[Ru,ge]})}}return t})();var P0=(()=>{class t{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(o){return new(o||t)(E(cn),E(Yt))}}static{this.\u0275dir=me({type:t})}}return t})(),Pi=(()=>{class t extends P0{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=vt(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,features:[qe]})}}return t})(),Io=new U(""),Pw={provide:Io,useExisting:Je(()=>Uu),multi:!0},Uu=(()=>{class t extends Pi{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=vt(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(o,i){o&1&&_("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[bt([Pw]),qe]})}}return t})(),Dw={provide:Io,useExisting:Je(()=>we),multi:!0};function Sw(){let t=Rn()?Rn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Ow=new U(""),we=(()=>{class t extends P0{constructor(e,o,i){super(e,o),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Sw())}writeValue(e){let o=e??"";this.setProperty("value",o)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(o){return new(o||t)(E(cn),E(Yt),E(Ow,8))}}static{this.\u0275dir=me({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,i){o&1&&_("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[bt([Dw]),qe]})}}return t})();function Dr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function D0(t){return t!=null&&typeof t.length=="number"}var To=new U(""),S0=new U(""),Iw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Tw(t){return n=>{if(Dr(n.value)||Dr(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function kw(t){return Dr(t.value)?{required:!0}:null}function Rw(t){return Dr(t.value)||Iw.test(t.value)?null:{email:!0}}function Aw(t){return n=>Dr(n.value)||!D0(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function Nw(t){return n=>D0(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function _0(t){return null}function O0(t){return t!=null}function I0(t){return Eo(t)?ye(t):t}function T0(t){let n={};return t.forEach(e=>{n=e!=null?I(I({},n),e):n}),Object.keys(n).length===0?null:n}function k0(t,n){return n.map(e=>e(t))}function Fw(t){return!t.validate}function R0(t){return t.map(n=>Fw(n)?n:e=>n.validate(e))}function Vw(t){if(!t)return null;let n=t.filter(O0);return n.length==0?null:function(e){return T0(k0(e,n))}}function zu(t){return t!=null?Vw(R0(t)):null}function Lw(t){if(!t)return null;let n=t.filter(O0);return n.length==0?null:function(e){let o=k0(e,n).map(I0);return Rc(o).pipe(L(T0))}}function $u(t){return t!=null?Lw(R0(t)):null}function v0(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function jw(t){return t._rawValidators}function Uw(t){return t._rawAsyncValidators}function ju(t){return t?Array.isArray(t)?t:[t]:[]}function oc(t,n){return Array.isArray(t)?t.includes(n):t===n}function x0(t,n){let e=ju(n);return ju(t).forEach(i=>{oc(e,i)||e.push(i)}),e}function C0(t,n){return ju(n).filter(e=>!oc(t,e))}var ic=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=zu(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=$u(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Mi=class extends ic{get formDirective(){return null}get path(){return null}},Ei=class extends ic{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},rc=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zw={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},E4=J(I({},zw),{"[class.ng-submitted]":"isSubmitted"}),Pe=(()=>{class t extends rc{constructor(e){super(e)}static{this.\u0275fac=function(o){return new(o||t)(E(Ei,2))}}static{this.\u0275dir=me({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,i){o&2&&B("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[qe]})}}return t})(),io=(()=>{class t extends rc{constructor(e){super(e)}static{this.\u0275fac=function(o){return new(o||t)(E(Mi,10))}}static{this.\u0275dir=me({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,i){o&2&&B("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[qe]})}}return t})();var yr="VALID",nc="INVALID",bi="PENDING",Mr="DISABLED",wi=class{},sc=class extends wi{constructor(n,e){super(),this.value=n,this.source=e}},wr=class extends wi{constructor(n,e){super(),this.pristine=n,this.source=e}},Pr=class extends wi{constructor(n,e){super(),this.touched=n,this.source=e}},yi=class extends wi{constructor(n,e){super(),this.status=n,this.source=e}};function A0(t){return(lc(t)?t.validators:t)||null}function $w(t){return Array.isArray(t)?zu(t):t||null}function N0(t,n){return(lc(n)?n.asyncValidators:t)||null}function Bw(t){return Array.isArray(t)?$u(t):t||null}function lc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Hw(t,n,e){let o=t.controls;if(!(n?Object.keys(o):o).length)throw new j(1e3,"");if(!o[e])throw new j(1001,"")}function Gw(t,n,e){t._forEachChild((o,i)=>{if(e[i]===void 0)throw new j(1002,"")})}var ac=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=qi(()=>this.statusReactive()),this.statusReactive=Wi(void 0),this._pristine=qi(()=>this.pristineReactive()),this.pristineReactive=Wi(!0),this._touched=qi(()=>this.touchedReactive()),this.touchedReactive=Wi(!1),this._events=new Ge,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return In(this.statusReactive)}set status(n){In(()=>this.statusReactive.set(n))}get valid(){return this.status===yr}get invalid(){return this.status===nc}get pending(){return this.status==bi}get disabled(){return this.status===Mr}get enabled(){return this.status!==Mr}get pristine(){return In(this.pristineReactive)}set pristine(n){In(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return In(this.touchedReactive)}set touched(n){In(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(x0(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(x0(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(C0(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(C0(n,this._rawAsyncValidators))}hasValidator(n){return oc(this._rawValidators,n)}hasAsyncValidator(n){return oc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let o=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(J(I({},n),{sourceControl:o})),e&&n.emitEvent!==!1&&this._events.next(new Pr(!0,o))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let o=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:o})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,o),e&&n.emitEvent!==!1&&this._events.next(new Pr(!1,o))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let o=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(J(I({},n),{sourceControl:o})),e&&n.emitEvent!==!1&&this._events.next(new wr(!1,o))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let o=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,o),e&&n.emitEvent!==!1&&this._events.next(new wr(!0,o))}markAsPending(n={}){this.status=bi;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new yi(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(J(I({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Mr,this.errors=null,this._forEachChild(i=>{i.disable(J(I({},n),{onlySelf:!0}))}),this._updateValue();let o=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new sc(this.value,o)),this._events.next(new yi(this.status,o)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(I({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=yr,this._forEachChild(o=>{o.enable(J(I({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(J(I({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let o=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yr||this.status===bi)&&this._runAsyncValidator(o,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new sc(this.value,e)),this._events.next(new yi(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(J(I({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mr:yr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=bi,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let o=I0(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((o,i)=>o&&o._find(i),this)}getError(n,e){let o=e?this.get(e):this;return o&&o.errors?o.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,o){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||o)&&this._events.next(new yi(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,o)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?Mr:this.errors?nc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bi)?bi:this._anyControlsHaveStatus(nc)?nc:yr}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let o=!this._anyControlsDirty(),i=this.pristine!==o;this.pristine=o,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new wr(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Pr(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){lc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=$w(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=Bw(this._rawAsyncValidators)}},cc=class extends ac{constructor(n,e,o){super(A0(e),N0(o,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,o={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){Gw(this,!0,n),Object.keys(n).forEach(o=>{Hw(this,!0,o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(o=>{let i=this.controls[o];i&&i.patchValue(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((o,i)=>{o.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,o)=>(n[o]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,o)=>o._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let o=this.controls[e];o&&n(o,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,o]of Object.entries(this.controls))if(this.contains(e)&&n(o))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,o,i)=>((o.enabled||this.disabled)&&(e[i]=o.value),e))}_reduceChildren(n,e){let o=n;return this._forEachChild((i,r)=>{o=e(o,i,r)}),o}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var dc=new U("CallSetDisabledState",{providedIn:"root",factory:()=>uc}),uc="always";function Ww(t,n){return[...n.path,t]}function F0(t,n,e=uc){V0(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),Yw(t,n),Kw(t,n),Zw(t,n),qw(t,n)}function b0(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function qw(t,n){if(n.valueAccessor.setDisabledState){let e=o=>{n.valueAccessor.setDisabledState(o)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function V0(t,n){let e=jw(t);n.validator!==null?t.setValidators(v0(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let o=Uw(t);n.asyncValidator!==null?t.setAsyncValidators(v0(o,n.asyncValidator)):typeof o=="function"&&t.setAsyncValidators([o]);let i=()=>t.updateValueAndValidity();b0(n._rawValidators,i),b0(n._rawAsyncValidators,i)}function Yw(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&L0(t,n)})}function Zw(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&L0(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function L0(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Kw(t,n){let e=(o,i)=>{n.valueAccessor.writeValue(o),i&&n.viewToModelUpdate(o)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function Qw(t,n){t==null,V0(t,n)}function Jw(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function Xw(t){return Object.getPrototypeOf(t.constructor)===Pi}function eP(t,n){t._syncPendingControls(),n.forEach(e=>{let o=e.control;o.updateOn==="submit"&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function tP(t,n){if(!n)return null;Array.isArray(n);let e,o,i;return n.forEach(r=>{r.constructor===we?e=r:Xw(r)?o=r:i=r}),i||o||e||null}var nP={provide:Mi,useExisting:Je(()=>Fn)},Er=Promise.resolve(),Fn=(()=>{class t extends Mi{get submitted(){return In(this.submittedReactive)}constructor(e,o,i){super(),this.callSetDisabledState=i,this._submitted=qi(()=>this.submittedReactive()),this.submittedReactive=Wi(!1),this._directives=new Set,this.ngSubmit=new je,this.form=new cc({},zu(e),$u(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Er.then(()=>{let o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),F0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Er.then(()=>{let o=this._findContainer(e.path);o&&o.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Er.then(()=>{let o=this._findContainer(e.path),i=new cc({});Qw(i,e),o.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Er.then(()=>{let o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){Er.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),eP(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(o){return new(o||t)(E(To,10),E(S0,10),E(dc,8))}}static{this.\u0275dir=me({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,i){o&1&&_("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([nP]),qe]})}}return t})();function y0(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function M0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var oP=class extends ac{constructor(n=null,e,o){super(A0(e),N0(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(M0(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(o=>o(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){y0(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){y0(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){M0(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var iP={provide:Ei,useExisting:Je(()=>be)},E0=Promise.resolve(),be=(()=>{class t extends Ei{constructor(e,o,i,r,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this.control=new oP,this._registered=!1,this.name="",this.update=new je,this._parent=e,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=tP(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Jw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){F0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){E0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let o=e.isDisabled.currentValue,i=o!==0&&On(o);E0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Ww(e,this._parent):[e]}static{this.\u0275fac=function(o){return new(o||t)(E(Mi,9),E(To,10),E(S0,10),E(Io,10),E(Zt,8),E(dc,8))}}static{this.\u0275dir=me({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[bt([iP]),qe,Zn]})}}return t})(),ro=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275dir=me({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),rP={provide:Io,useExisting:Je(()=>Sr),multi:!0},Sr=(()=>{class t extends Pi{writeValue(e){let o=e??"";this.setProperty("value",o)}registerOnChange(e){this.onChange=o=>{e(o==""?null:parseFloat(o))}}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=vt(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(o,i){o&1&&_("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[bt([rP]),qe]})}}return t})(),sP={provide:Io,useExisting:Je(()=>Bu),multi:!0};var aP=(()=>{class t{constructor(){this._accessors=[]}add(e,o){this._accessors.push([e,o])}remove(e){for(let o=this._accessors.length-1;o>=0;--o)if(this._accessors[o][1]===e){this._accessors.splice(o,1);return}}select(e){this._accessors.forEach(o=>{this._isSameGroup(o,e)&&o[1]!==e&&o[1].fireUncheck(e.value)})}_isSameGroup(e,o){return e[0].control?e[0]._parent===o._control._parent&&e[1].name===o.name:!1}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Bu=(()=>{class t extends Pi{constructor(e,o,i,r){super(e,o),this._registry=i,this._injector=r,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=O(dc,{optional:!0})??uc}ngOnInit(){this._control=this._injector.get(Ei),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(o){return new(o||t)(E(cn),E(Yt),E(aP),E(bn))}}static{this.\u0275dir=me({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(o,i){o&1&&_("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[bt([sP]),qe]})}}return t})();var cP={provide:Io,useExisting:Je(()=>Et),multi:!0};function j0(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function lP(t){return t.split(":")[0]}var Et=(()=>{class t extends Pi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let o=this._getOptionId(e),i=j0(o,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){let o=lP(e);return this._optionMap.has(o)?this._optionMap.get(o):e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=vt(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(o,i){o&1&&_("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[bt([cP]),qe]})}}return t})(),Lt=(()=>{class t{constructor(e,o,i){this._element=e,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(j0(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(o){return new(o||t)(E(Yt),E(cn),E(Et,9))}}static{this.\u0275dir=me({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),dP={provide:Io,useExisting:Je(()=>pc),multi:!0};function w0(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function uP(t){return t.split(":")[0]}var pc=(()=>{class t extends Pi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let o;if(Array.isArray(e)){let i=e.map(r=>this._getOptionId(r));o=(r,s)=>{r._setSelected(i.indexOf(s.toString())>-1)}}else o=(i,r)=>{i._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{let i=[],r=o.selectedOptions;if(r!==void 0){let s=r;for(let l=0;l<s.length;l++){let u=s[l],f=this._getOptionValue(u.value);i.push(f)}}else{let s=o.options;for(let l=0;l<s.length;l++){let u=s[l];if(u.selected){let f=this._getOptionValue(u.value);i.push(f)}}}this.value=i,e(i)}}_registerOption(e){let o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(let o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){let o=uP(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=vt(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(o,i){o&1&&_("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[bt([dP]),qe]})}}return t})(),jt=(()=>{class t{constructor(e,o,i){this._element=e,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(w0(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(w0(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(o){return new(o||t)(E(Yt),E(cn),E(pc,9))}}static{this.\u0275dir=me({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function U0(t){return typeof t=="number"?t:parseInt(t,10)}function pP(t){return typeof t=="number"?t:parseFloat(t)}var Or=(()=>{class t{constructor(){this._validator=_0}ngOnChanges(e){if(this.inputName in e){let o=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):_0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275dir=me({type:t,features:[Zn]})}}return t})();var fP={provide:To,useExisting:Je(()=>Ir),multi:!0},Ir=(()=>{class t extends Or{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>pP(e),this.createValidator=e=>Tw(e)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=vt(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(o,i){o&2&&Te("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[bt([fP]),qe]})}}return t})(),gP={provide:To,useExisting:Je(()=>Xt),multi:!0};var Xt=(()=>{class t extends Or{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=On,this.createValidator=e=>kw}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=vt(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(o,i){o&2&&Te("required",i._enabled?"":null)},inputs:{required:"required"},features:[bt([gP]),qe]})}}return t})();var hP={provide:To,useExisting:Je(()=>Tr),multi:!0},Tr=(()=>{class t extends Or{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=On,this.createValidator=e=>Rw}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=vt(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[bt([hP]),qe]})}}return t})(),mP={provide:To,useExisting:Je(()=>Hu),multi:!0},Hu=(()=>{class t extends Or{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>U0(e),this.createValidator=e=>Aw(e)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=vt(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(o,i){o&2&&Te("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[bt([mP]),qe]})}}return t})(),_P={provide:To,useExisting:Je(()=>Gu),multi:!0},Gu=(()=>{class t extends Or{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>U0(e),this.createValidator=e=>Nw(e)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=vt(t)))(i||t)}})()}static{this.\u0275dir=me({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(o,i){o&2&&Te("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[bt([_P]),qe]})}}return t})();var vP=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=Yn({type:t})}static{this.\u0275inj=qn({})}}return t})();var ve=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:dc,useValue:e.callSetDisabledState??uc}]}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=Yn({type:t})}static{this.\u0275inj=qn({imports:[vP]})}}return t})();var $=function(t){return t.PENDIENTE="Pendiente",t.CONFIRMADO="Confirmado",t.ENTREGADO="Entregado",t.CANCELADO="Cancelado",t}($||{}),Ne=function(t){return t.PEDIDO="Pedido",t.DEVOLUCION="Devoluci\xF3n",t}(Ne||{}),z0=function(t){return t.SALVABLE="Salvable",t.FALLADO="Fallado",t}(z0||{}),fn=(()=>{class t{constructor(e){this.http=e,this.pedidos=[],this.nextId=1,this.API_URL=Mt}mapToPedido(e){console.log("\u{1F535} [ORDERS SERVICE] Mapeando DTO:",e),console.log("\u{1F535} [ORDERS SERVICE] Usuario en DTO:",e.usuario),console.log("\u{1F535} [ORDERS SERVICE] M\xE9todo de pago en DTO:",e.metodoPago);let o;if(typeof e.estado=="string")switch(e.estado.toUpperCase()){case"BORRADOR":case"PENDIENTE":o=$.PENDIENTE;break;case"CONFIRMADO":o=$.CONFIRMADO;break;case"ENTREGADO":o=$.ENTREGADO;break;case"CANCELADO":o=$.CANCELADO;break;default:o=$.PENDIENTE}else o=e.estado;let i={id:e.id,clienteId:e.clienteId,fecha:new Date(e.fecha),montoTotal:e.total||e.montoTotal||0,estado:o,tipo:e.tipo==="DEVOLUCION"?Ne.DEVOLUCION:Ne.PEDIDO,tipoAprobacionDevolucion:e.tipoAprobacionDevolucion,metodoPago:e.metodoPago,usuario:e.usuario,items:(e.detalles||e.items||[]).map(r=>({id:r.id,productoId:r.variante?.producto?.id||0,varianteId:r.variante?.id||r.varianteId||0,cantidad:r.cantidad,precioUnitario:r.precioUnitario,subtotal:r.precioUnitario*r.cantidad,variante:r.variante?{id:r.variante.id,sku:r.variante.sku,color:r.variante.color,talle:r.variante.talle,precio:r.variante.precio,stockDisponible:r.variante.stockDisponible}:void 0,productoNombre:r.variante?.producto?.nombre||`Producto ${r.variante?.sku||r.varianteId}`}))};return console.log("\u{1F535} [ORDERS SERVICE] Pedido mapeado:",i),console.log("\u{1F535} [ORDERS SERVICE] Usuario en pedido mapeado:",i.usuario),console.log("\u{1F535} [ORDERS SERVICE] M\xE9todo de pago en pedido mapeado:",i.metodoPago),i}initializeMockData(){let e=new Date;this.pedidos=[{id:1,clienteId:1,fecha:new Date(2024,3,24),montoTotal:56760,estado:$.PENDIENTE,tipo:Ne.PEDIDO,items:[]},{id:2,clienteId:1,fecha:new Date(2024,3,15),montoTotal:83250,estado:$.PENDIENTE,tipo:Ne.PEDIDO,items:[]},{id:3,clienteId:1,fecha:new Date(2024,3,2),montoTotal:31400,estado:$.ENTREGADO,tipo:Ne.PEDIDO,items:[]},{id:4,clienteId:1,fecha:new Date(2024,2,20),montoTotal:67975,estado:$.ENTREGADO,tipo:Ne.PEDIDO,items:[]},{id:5,clienteId:1,fecha:new Date(2024,2,5),montoTotal:94140,estado:$.ENTREGADO,tipo:Ne.PEDIDO,items:[]},{id:6,clienteId:1,fecha:new Date(2024,1,18),montoTotal:79800,estado:$.ENTREGADO,tipo:Ne.DEVOLUCION,tipoDevolucion:z0.SALVABLE,items:[]}],this.nextId=7}crearPedido(e,o,i,r){console.log("\u{1F535} [ORDERS SERVICE] Creando pedido para cliente:",e,"items:",o,"m\xE9todo de pago:",i,"usuario:",r);let s=r?{clienteId:e,metodoPago:i,usuario:{nombreRazonSocial:r.nombreRazonSocial,email:r.email}}:{clienteId:e,metodoPago:i};return console.log("\u{1F535} [ORDERS SERVICE] Request body que se env\xEDa al backend:",s),this.http.post(`${this.API_URL}/pedidos/crear`,s).pipe(Le(l=>{console.log("\u{1F535} [ORDERS SERVICE] Pedido b\xE1sico creado:",l);let u=null;return ye(o).pipe(zt(f=>this.http.post(`${this.API_URL}/pedidos/${l.id}/items?varianteId=${f.varianteId}&cantidad=${f.cantidad}`,{}).pipe(L(m=>(console.log("\u{1F535} [ORDERS SERVICE] Item agregado:",f.varianteId,"cantidad:",f.cantidad,"response:",m),u=m,{success:!0,pedidoResponse:m,item:f})),Q(m=>(console.error("\u{1F534} [ORDERS SERVICE] Error al agregar item:",f.varianteId,"error:",m),R({success:!1,error:m,item:f}))))),ds(),Le(f=>{let m=f.filter(M=>M&&M.success);if(console.log("\u{1F535} [ORDERS SERVICE] Items agregados exitosamente:",m.length,"de",o.length),u&&m.length===o.length)if(i&&(i.toLowerCase()==="mercadopago"||i.toLowerCase()==="mercado_pago"||i.toLowerCase()==="mercado pago")){console.log("\u{1F535} [ORDERS SERVICE] M\xE9todo de pago es MercadoPago. Pedido se queda en BORRADOR hasta confirmar el pago.");let y=this.mapToPedido(u);return R(y)}else return console.log("\u{1F535} [ORDERS SERVICE] Todos los items agregados. Confirmando pedido para descontar stock..."),this.http.post(`${this.API_URL}/pedidos/${l.id}/confirmar`,{}).pipe(L(y=>(console.log("\u2705 [ORDERS SERVICE] Pedido confirmado - Stock descontado:",y),this.mapToPedido(y))),Q(y=>{console.error("\u{1F534} [ORDERS SERVICE] Error al confirmar pedido (pero items ya agregados):",y);let D=this.mapToPedido(u);return console.warn("\u26A0\uFE0F [ORDERS SERVICE] Pedido creado pero NO confirmado - Stock NO descontado"),R(D)}));else if(u){console.warn("\u26A0\uFE0F [ORDERS SERVICE] Algunos items no se agregaron. Pedido NO confirmado.");let M=this.mapToPedido(u);return R(M)}console.log("\u{1F7E1} [ORDERS SERVICE] No hay respuesta exitosa guardada, usando pedido b\xE1sico");let v={id:l.id,clienteId:e,fecha:new Date(l.fecha||new Date),montoTotal:l.total||0,estado:$.PENDIENTE,tipo:Ne.PEDIDO,items:o};return R(v)}))}),Q(l=>{console.error("\u{1F534} [ORDERS SERVICE] Error al crear pedido:",l),console.error("\u{1F534} [ORDERS SERVICE] Error status:",l.status),console.error("\u{1F534} [ORDERS SERVICE] Error message:",l.message),l.status===500?(console.error("\u{1F534} [ORDERS SERVICE] Error 500: Problema interno del servidor al crear pedido"),console.error("\u{1F534} [ORDERS SERVICE] Verificar que el endpoint POST /api/pedidos/crear est\xE9 implementado correctamente")):l.status===404&&console.error("\u{1F534} [ORDERS SERVICE] Error 404: Endpoint no encontrado"),console.log("\u{1F7E1} [ORDERS SERVICE] Usando fallback mock debido a error del backend");let u=o.reduce((m,v)=>m+v.subtotal,0),f={id:-this.nextId++,clienteId:e,fecha:new Date,montoTotal:u,estado:$.PENDIENTE,tipo:Ne.PEDIDO,items:o};return console.log("\u{1F7E1} [ORDERS SERVICE] Pedido mock creado con ID negativo:",f.id),R(f)}))}getTodosLosPedidos(){return console.log("\u{1F535} [ORDERS SERVICE] Obteniendo todos los pedidos"),console.log("\u{1F535} [ORDERS SERVICE] URL completa:",`${this.API_URL}/pedidos/todos`),this.http.get(`${this.API_URL}/pedidos/todos`).pipe(te(e=>{console.log("\u{1F535} [ORDERS SERVICE] Respuesta del backend:",e),console.log("\u{1F535} [ORDERS SERVICE] Cantidad de pedidos:",e?.length||0)}),L(e=>Array.isArray(e)?e.map(o=>this.mapToPedido(o)):(console.error("\u{1F534} [ORDERS SERVICE] La respuesta no es un array:",e),[])),Q(e=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error HTTP al obtener todos los pedidos:",e),e.status===500?new Error("Error interno del servidor. Por favor, int\xE9ntalo de nuevo m\xE1s tarde."):e.status===404?new Error("Endpoint no encontrado. Verifica la configuraci\xF3n del servidor."):new Error("Error al obtener todos los pedidos: "+e.message)}))}getHistorialPorCliente(e){return console.log("\u{1F535} [ORDERS SERVICE] Obteniendo historial para cliente:",e),console.log("\u{1F535} [ORDERS SERVICE] URL completa:",`${this.API_URL}/pedidos?clienteId=${e}`),this.http.get(`${this.API_URL}/pedidos?clienteId=${e}`,{headers:{"Content-Type":"application/json"},responseType:"text"}).pipe(te(o=>{console.log("\u{1F535} [ORDERS SERVICE] Respuesta raw del backend (string):",o),console.log("\u{1F535} [ORDERS SERVICE] Tipo de respuesta:",typeof o),console.log("\u{1F535} [ORDERS SERVICE] Primeros 200 caracteres:",o?.substring(0,200))}),L(o=>{if(typeof o=="string"&&(o.includes("<html>")||o.includes("<!DOCTYPE")))throw console.error("\u{1F534} [ORDERS SERVICE] Backend devolvi\xF3 HTML en lugar de JSON. Posible error 500 o problema de configuraci\xF3n."),new Error("Backend devolvi\xF3 HTML: "+o.substring(0,100));if(!o||o.trim()==="")return console.log("\u{1F7E1} [ORDERS SERVICE] Respuesta vac\xEDa del backend"),[];let i=o.trim();if(!i.startsWith("[")||!i.endsWith("]"))throw console.error("\u{1F534} [ORDERS SERVICE] JSON parece estar truncado o malformado"),console.error("\u{1F534} [ORDERS SERVICE] Inicio:",i.substring(0,100)),console.error("\u{1F534} [ORDERS SERVICE] Final:",i.substring(i.length-100)),new Error("JSON truncado o malformado - posible referencia circular en el backend");try{let r=JSON.parse(o);if(console.log("\u{1F535} [ORDERS SERVICE] JSON parseado correctamente:",r),!Array.isArray(r))return console.log("\u{1F7E1} [ORDERS SERVICE] Backend no devolvi\xF3 array, retornando lista vac\xEDa"),[];console.log("\u{1F535} [ORDERS SERVICE] Mapeando",r.length,"pedidos...");let l=r.map(u=>{let f=u.detalles?u.detalles.map(m=>({id:m.id,cantidad:m.cantidad,precioUnitario:m.precioUnitario,variante:m.variante?{id:m.variante.id,sku:m.variante.sku,color:m.variante.color,talle:m.variante.talle,precio:m.variante.precio,stockDisponible:m.variante.stockDisponible}:null})):[];return{id:u.id,fecha:u.fecha,estado:u.estado,tipo:u.tipo,total:u.total,clienteId:u.clienteId,metodoPago:u.metodoPago,detalles:f,usuario:u.usuario?{id:u.usuario.id,nombreRazonSocial:u.usuario.nombreRazonSocial}:null}}).map(u=>this.mapToPedido(u));return console.log("\u{1F535} [ORDERS SERVICE] Pedidos mapeados:",l),l}catch(r){throw console.error("\u{1F534} [ORDERS SERVICE] Error al parsear JSON:",r),console.error("\u{1F534} [ORDERS SERVICE] Longitud de respuesta:",o.length),console.error("\u{1F534} [ORDERS SERVICE] Primeros 500 caracteres:",o.substring(0,500)),console.error("\u{1F534} [ORDERS SERVICE] \xDAltimos 500 caracteres:",o.substring(Math.max(0,o.length-500))),r instanceof SyntaxError&&r.message.includes("Unexpected token")?new Error("JSON malformado debido a referencias circulares en el backend. Verificar @JsonIgnore o DTOs"):new Error("Error de parsing JSON: "+r)}}),te(o=>{console.log("\u{1F535} [ORDERS SERVICE] Historial final procesado:",o.length,"pedidos"),o.length>0&&console.log("\u{1F535} [ORDERS SERVICE] Primer pedido:",o[0])}),Q(o=>(console.error("\u{1F534} [ORDERS SERVICE] Error al obtener historial:",o),console.error("\u{1F534} [ORDERS SERVICE] Error status:",o.status),console.error("\u{1F534} [ORDERS SERVICE] Error message:",o.message),console.error("\u{1F534} [ORDERS SERVICE] Error completo:",o),o.status===404?(console.error("\u{1F534} [ORDERS SERVICE] Error 404: Endpoint GET /api/pedidos no encontrado"),console.error("\u{1F534} [ORDERS SERVICE] Verificar que el endpoint GET /api/pedidos?clienteId=X est\xE9 implementado en el controller")):o.status===500?console.error("\u{1F534} [ORDERS SERVICE] Error 500: Problema interno del servidor"):o.message&&o.message.includes("Http failure during parsing")?(console.error("\u{1F534} [ORDERS SERVICE] Error de parsing JSON: El backend est\xE1 devolviendo HTML o texto en lugar de JSON"),console.error("\u{1F534} [ORDERS SERVICE] Verificar que el endpoint GET /api/pedidos devuelva JSON v\xE1lido")):o.status===200&&console.error("\u{1F534} [ORDERS SERVICE] Status 200 pero con error: Posible problema de formato de respuesta"),console.log("\u{1F7E1} [ORDERS SERVICE] Usando fallback: lista vac\xEDa debido a error del backend"),R([]))))}crearDevolucion(e,o,i){let r=this.pedidos.find(l=>l.id===o);if(!r)throw new Error("Pedido original no encontrado");let s={id:this.nextId++,clienteId:e,fecha:new Date,montoTotal:r.montoTotal,estado:$.ENTREGADO,tipo:Ne.DEVOLUCION,tipoDevolucion:i,items:[]};return this.pedidos.unshift(s),R(s)}aprobarDevolucionApta(e){return console.log("\u{1F535} [ORDERS SERVICE] Aprobando devoluci\xF3n como apta:",e),this.http.post(`${this.API_URL}/devoluciones/${e}/aprobar-apta`,{}).pipe(te(o=>{console.log("\u2705 [ORDERS SERVICE] Devoluci\xF3n aprobada como apta:",o)}),Q(o=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al aprobar devoluci\xF3n como apta:",o),o}))}aprobarDevolucionScrap(e){return console.log("\u{1F535} [ORDERS SERVICE] Aprobando devoluci\xF3n como scrap:",e),this.http.post(`${this.API_URL}/devoluciones/${e}/aprobar-scrap`,{}).pipe(te(o=>{console.log("\u2705 [ORDERS SERVICE] Devoluci\xF3n aprobada como scrap:",o)}),Q(o=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al aprobar devoluci\xF3n como scrap:",o),o}))}cambiarEstadoPedido(e,o){return console.log("\u{1F535} [ORDERS SERVICE] Cambiando estado del pedido",e,"a:",o),o===$.ENTREGADO?this.http.post(`${this.API_URL}/pedidos/${e}/confirmar`,{}).pipe(te(i=>{console.log("\u{1F535} [ORDERS SERVICE] Pedido confirmado:",i)}),Q(i=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al confirmar pedido:",i),i})):o===$.CANCELADO?this.http.post(`${this.API_URL}/pedidos/${e}/cancelar`,{}).pipe(te(i=>{console.log("\u{1F535} [ORDERS SERVICE] Pedido cancelado:",i)}),Q(i=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al cancelar pedido:",i),i})):o===$.PENDIENTE?(console.log("\u{1F7E1} [ORDERS SERVICE] Volviendo a pendiente, usando confirmar por defecto"),this.http.post(`${this.API_URL}/pedidos/${e}/confirmar`,{}).pipe(Q(i=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al cambiar estado:",i),i}))):(console.log("\u{1F7E1} [ORDERS SERVICE] Estado no espec\xEDfico, usando confirmar por defecto"),this.http.post(`${this.API_URL}/pedidos/${e}/confirmar`,{}).pipe(Q(i=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al cambiar estado:",i),i})))}actualizarEstado(e,o){let i=this.pedidos.find(r=>r.id===e);if(!i)throw new Error("Pedido no encontrado");return i.estado=o,R(i)}getAllPedidos(){return R([...this.pedidos])}getPedidoPorId(e){return console.log("\u{1F535} [ORDERS SERVICE] Obteniendo pedido por ID:",e),console.log("\u{1F535} [ORDERS SERVICE] URL completa:",`${this.API_URL}/pedidos/${e}`),this.http.get(`${this.API_URL}/pedidos/${e}`).pipe(te(o=>{console.log("\u{1F535} [ORDERS SERVICE] Pedido obtenido del backend:",o)}),L(o=>this.mapToPedido(o)),Q(o=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al obtener pedido:",o),o.status===404?new Error("Pedido no encontrado"):o}))}getPedidosPorCliente(e){return console.log("\u{1F535} [ORDERS SERVICE] Obteniendo pedidos por cliente:",e),console.log("\u{1F535} [ORDERS SERVICE] URL completa:",`${this.API_URL}/pedidos?clienteId=${e}`),this.http.get(`${this.API_URL}/pedidos?clienteId=${e}`).pipe(te(o=>{console.log("\u{1F535} [ORDERS SERVICE] Pedidos del cliente obtenidos:",o)}),L(o=>o.map(i=>this.mapToPedido(i))),Q(o=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al obtener pedidos del cliente:",o),o.status===404?new Error("Cliente no encontrado"):o}))}consultarDisponibilidadDevolucion(e,o){return console.log("\u{1F535} [ORDERS SERVICE] Consultando disponibilidad - Cliente:",e,"Variante:",o),this.http.get(`${this.API_URL}/devoluciones/disponibilidad?clienteId=${e}&varianteId=${o}`).pipe(te(i=>{console.log("\u{1F535} [ORDERS SERVICE] Disponibilidad consultada:",i)}),Q(i=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al consultar disponibilidad:",i),i}))}crearNotaDevolucion(e,o){return console.log("\u{1F535} [ORDERS SERVICE] Creando nota de devoluci\xF3n para cliente:",e),console.log("\u{1F535} [ORDERS SERVICE] Items:",o),this.http.post(`${this.API_URL}/devoluciones/crear?clienteId=${e}`,{}).pipe(Le(i=>(console.log("\u{1F535} [ORDERS SERVICE] Devoluci\xF3n creada:",i),ye(o).pipe(zt(r=>(console.log("\u{1F535} [ORDERS SERVICE] Agregando item:",r),this.http.post(`${this.API_URL}/devoluciones/${i.id}/items?varianteId=${r.varianteId}&cantidad=${r.cantidad}&motivo=Devoluci\xF3n por solicitud del cliente`,{}))),ds(),L(r=>(console.log("\u{1F535} [ORDERS SERVICE] Respuestas de agregar items:",r),i)),te(()=>{console.log("\u{1F535} [ORDERS SERVICE] Todos los items agregados exitosamente")})))),Q(i=>{throw console.error("\u{1F534} [ORDERS SERVICE] Error al crear nota de devoluci\xF3n:",i),console.error("\u{1F534} [ORDERS SERVICE] Error status:",i.status),console.error("\u{1F534} [ORDERS SERVICE] Error message:",i.message),console.error("\u{1F534} [ORDERS SERVICE] Error body:",i.error),i.error&&typeof i.error=="string"?new Error(i.error):i.error&&i.error.message?new Error(i.error.message):i}))}static{this.\u0275fac=function(o){return new(o||t)(z(Ke))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ze=(()=>{class t{constructor(e,o){this.ordersService=e,this.http=o,this.base="/api/carrito",this.carritoItems=[],this.CART_STORAGE_KEY="cart_items",this.CART_ID_STORAGE_KEY="carrito_id",this.loadCarritoFromStorage()}loadCarritoFromStorage(){if(typeof window<"u"&&window.localStorage)try{let e=localStorage.getItem(this.CART_STORAGE_KEY);e&&(this.carritoItems=JSON.parse(e),console.log("\u{1F535} [CART SERVICE] Carrito cargado desde localStorage:",this.carritoItems));let o=localStorage.getItem(this.CART_ID_STORAGE_KEY);o&&(this.carritoId=Number(o),console.log("\u{1F535} [CART SERVICE] CarritoId cargado desde localStorage:",this.carritoId))}catch(e){console.error("Error al cargar carrito desde localStorage:",e),this.carritoItems=[]}}saveCarritoToStorage(){if(typeof window<"u"&&window.localStorage)try{localStorage.setItem(this.CART_STORAGE_KEY,JSON.stringify(this.carritoItems)),this.carritoId&&localStorage.setItem(this.CART_ID_STORAGE_KEY,String(this.carritoId)),console.log("\u{1F535} [CART SERVICE] Carrito guardado en localStorage:",this.carritoItems)}catch(e){console.error("Error al guardar carrito en localStorage:",e)}}crear(e){return this.carritoId?(console.log("\u{1F535} [CART SERVICE] Carrito ya existe:",this.carritoId),new Y(o=>{o.next(this.carritoId),o.complete()})):new Y(o=>{setTimeout(()=>{this.carritoId=Math.floor(Math.random()*1e3)+1,console.log("\u{1F535} [CART SERVICE] Nuevo carrito creado:",this.carritoId),this.saveCarritoToStorage(),o.next(this.carritoId),o.complete()},300)})}agregarItem(e,o,i){return new Y(r=>{this.http.get(`${Jt}/api/productos`).subscribe({next:s=>{let l=null,u=null;for(let m of s){let v=m.variantes?.find(M=>M.id===o);if(v){l=v,u=m;break}}if(!l||!u){console.error(`Variante ${o} no encontrada`),r.error("Variante no encontrada");return}console.log("\u{1F535} [CART SERVICE] Variante encontrada:",l),console.log("\u{1F535} [CART SERVICE] Producto padre:",u);let f=this.carritoItems.find(m=>m.varianteId===o);if(f)f.cantidad+=i,f.subtotal=f.cantidad*f.precioUnitario;else{let v={id:Math.max(0,...this.carritoItems.map(M=>M.id))+1,varianteId:o,cantidad:i,precioUnitario:l.precio,sku:l.sku,color:l.color,talle:l.talle,productoNombre:u.nombre,subtotal:i*l.precio};this.carritoItems.push(v)}console.log(`Agregando ${i} unidades de variante ${o} al carrito ${e}`),console.log("\u{1F535} [CART SERVICE] Carrito actualizado:",this.carritoItems),this.saveCarritoToStorage(),r.next(),r.complete()},error:s=>{console.error("Error al obtener productos:",s),r.error(s)}})})}convertirAPedido(e){return new Y(o=>{setTimeout(()=>{let i=this.carritoItems.reduce((s,l)=>s+l.subtotal,0),r={id:Math.floor(Math.random()*1e3)+1,clienteId:1,fecha:new Date().toISOString(),estado:"BORRADOR",total:i,detalles:this.carritoItems.map(s=>({varianteId:s.varianteId,cantidad:s.cantidad,precioUnitario:s.precioUnitario,sku:s.sku,color:s.color,talle:s.talle}))};o.next(r),o.complete()},500)})}getCarritoItems(){return this.carritoItems}getTotalCarrito(){return this.carritoItems.reduce((e,o)=>e+o.subtotal,0)}getCantidadItems(){return this.carritoItems.reduce((e,o)=>e+o.cantidad,0)}limpiarCarrito(){this.carritoItems=[],this.saveCarritoToStorage(),console.log("\u{1F535} [CART SERVICE] Carrito limpiado y guardado")}removerItem(e){this.carritoItems=this.carritoItems.filter(o=>o.id!==e),this.saveCarritoToStorage(),console.log("\u{1F535} [CART SERVICE] Item removido del carrito:",e)}actualizarCantidad(e,o){let i=this.carritoItems.find(r=>r.id===e);i&&(o<=0?this.removerItem(e):(i.cantidad=o,i.subtotal=i.cantidad*i.precioUnitario,this.saveCarritoToStorage(),console.log("\u{1F535} [CART SERVICE] Cantidad actualizada para item:",e,"Nueva cantidad:",o)))}getCarritoId(){return this.carritoId}generarPedido(e){if(this.carritoItems.length===0)throw new Error("El carrito est\xE1 vac\xEDo");let o=this.carritoItems.map(i=>({id:i.id,productoId:0,varianteId:i.varianteId,cantidad:i.cantidad,precioUnitario:i.precioUnitario,subtotal:i.subtotal}));return new Y(i=>{this.ordersService.crearPedido(e,o).subscribe(r=>{this.limpiarCarrito(),i.next(r.id),i.complete()})})}getCartItemCount(){return this.carritoItems.reduce((e,o)=>e+o.cantidad,0)}static{this.\u0275fac=function(o){return new(o||t)(z(fn),z(Ke))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function xP(t,n){if(t&1&&(c(0,"span",26),d(1),a()),t&2){let e=h();p(),P(e.cartItemCount)}}function CP(t,n){if(t&1&&(c(0,"option",35),d(1),a()),t&2){let e=n.$implicit;g("value",e.id),p(),Me(" ",e.nombreRazonSocial," (",e.email,") ")}}function bP(t,n){t&1&&(c(0,"div",36),d(1," Cargando usuarios... "),a())}function yP(t,n){if(t&1&&(c(0,"div",37)(1,"strong"),d(2,"Cliente seleccionado:"),a(),d(3),a()),t&2){let e=h(2);p(3),w(" ",e.selectedUser.nombreRazonSocial," ")}}function MP(t,n){if(t&1){let e=S();c(0,"div",27)(1,"div",28)(2,"label",29),d(3,"Seleccionar Cliente:"),a(),c(4,"select",30),F("ngModelChange",function(i){x(e);let r=h();return V(r.selectedUserId,i)||(r.selectedUserId=i),C(i)}),_("change",function(){x(e);let i=h();return C(i.onUserChange())})("ngModelChange",function(){x(e);let i=h();return C(i.onUserChange())}),c(5,"option",31),d(6,"Seleccionar cliente..."),a(),b(7,CP,2,3,"option",32),a(),b(8,bP,2,0,"div",33)(9,yP,4,1,"div",34),a()()}if(t&2){let e=h();p(4),N("ngModel",e.selectedUserId),g("disabled",e.loadingUsers),p(3),g("ngForOf",e.usuarios),p(),g("ngIf",e.loadingUsers),p(),g("ngIf",e.selectedUser)}}function EP(t,n){if(t&1){let e=S();c(0,"div",45)(1,"div",46)(2,"h4"),d(3),a(),c(4,"p"),d(5),a(),c(6,"p"),d(7),a()(),c(8,"div",47)(9,"label",48),d(10,"Cantidad:"),a(),c(11,"input",49),_("input",function(i){let r=x(e).$implicit,s=h(2);return C(s.actualizarCantidad(r.id,i))}),a()(),c(12,"div",50)(13,"span",51),d(14),et(15,"currency"),a(),c(16,"span",52),d(17),et(18,"currency"),a()(),c(19,"div",53)(20,"button",54),_("click",function(){let i=x(e).$implicit,r=h(2);return C(r.eliminarItem(i.id))}),d(21," \u{1F5D1}\uFE0F "),a()()()}if(t&2){let e=n.$implicit;Te("data-item-id",e.id),p(3),P(e.productoNombre),p(2),Me("",e.color," - Talle ",e.talle,""),p(2),w("SKU: ",e.sku,""),p(2),va("for","cantidad-",e.id,""),p(2),va("id","cantidad-",e.id,""),g("value",e.cantidad),p(3),w("",tt(15,12,e.precioUnitario,"ARS")," c/u"),p(3),P(tt(18,15,e.subtotal,"ARS"))}}function wP(t,n){if(t&1){let e=S();c(0,"div",38)(1,"div",2)(2,"h3"),d(3),a()(),c(4,"div",39),b(5,EP,22,18,"div",40),a(),c(6,"div",41)(7,"div",42)(8,"span"),d(9),et(10,"currency"),a()()(),c(11,"div",43)(12,"button",44),_("click",function(){x(e);let i=h();return C(i.generarPedido())}),d(13," Generar Nota de Pedido "),a()()()}if(t&2){let e=h();p(3),w("Items en el carrito (",e.cantidadItems,")"),p(2),g("ngForOf",e.carritoItems),p(4),w("Total: ",tt(10,4,e.totalCarrito,"ARS"),""),p(3),g("disabled",e.isAdmin&&!e.selectedUserId)}}function PP(t,n){t&1&&(c(0,"div",55)(1,"h3"),d(2,"Tu carrito est\xE1 vac\xEDo"),a(),c(3,"p"),d(4,"Agrega productos desde el cat\xE1logo"),a(),c(5,"a",56),d(6,"Ir al Cat\xE1logo"),a()())}function DP(t,n){if(t&1&&(c(0,"div",65)(1,"strong"),d(2,"Email:"),a(),d(3),a()),t&2){let e=h(2).ngIf;p(3),w(" ",e.usuario.email," ")}}function SP(t,n){if(t&1&&(c(0,"div",63)(1,"h4"),d(2,"Informaci\xF3n del Cliente"),a(),c(3,"div",64)(4,"div",65)(5,"strong"),d(6,"Nombre:"),a(),d(7),a(),b(8,DP,4,1,"div",66),c(9,"div",65)(10,"strong"),d(11,"ID Cliente:"),a(),d(12),a()()()),t&2){let e=h().ngIf;p(7),w(" ",e.usuario.nombreRazonSocial," "),p(),g("ngIf",e.usuario.email),p(4),w(" ",e.clienteId," ")}}function OP(t,n){if(t&1&&(c(0,"tr")(1,"td"),d(2),a(),c(3,"td"),d(4),a(),c(5,"td"),d(6),et(7,"currency"),a()()),t&2){let e=n.$implicit;p(2),P(e.sku||e.varianteId),p(2),P(e.cantidad),p(2),P(tt(7,3,e.precioUnitario,"ARS"))}}function IP(t,n){if(t&1){let e=S();c(0,"div",57)(1,"h3"),d(2),a(),b(3,SP,13,3,"div",58),c(4,"table",59)(5,"thead")(6,"tr")(7,"th"),d(8,"Variante"),a(),c(9,"th"),d(10,"Cant"),a(),c(11,"th"),d(12,"P.Unit"),a()()(),c(13,"tbody"),b(14,OP,8,6,"tr",60),a()(),c(15,"div",61),d(16),et(17,"currency"),a(),c(18,"button",62),_("click",function(){x(e);let i=h();return C(i.confirmar())}),d(19," Confirmar pedido "),a()()}if(t&2){let e=n.ngIf;p(2),Me("Pedido #",e.id," (",e.estado,")"),p(),g("ngIf",e.usuario),p(11),g("ngForOf",e.detalles),p(2),w("Total: ",tt(17,6,e.total,"ARS"),""),p(2),g("disabled",e.estado!=="DOCUMENTADO"&&e.estado!=="BORRADOR")}}function TP(t,n){if(t&1){let e=S();c(0,"div",76)(1,"input",77),F("ngModelChange",function(i){x(e);let r=h(2);return V(r.selectedPaymentMethod,i)||(r.selectedPaymentMethod=i),C(i)}),a(),c(2,"label",48),d(3),a()()}if(t&2){let e=n.$implicit,o=h(2);p(),g("id","payment-"+e.value)("value",e.value),N("ngModel",o.selectedPaymentMethod),p(),g("for","payment-"+e.value),p(),P(e.label)}}function kP(t,n){if(t&1){let e=S();c(0,"div",67),_("click",function(){x(e);let i=h();return C(i.cancelarPago())}),c(1,"div",68),_("click",function(i){return x(e),C(i.stopPropagation())}),c(2,"div",69)(3,"h3"),d(4,"Seleccionar M\xE9todo de Pago"),a(),c(5,"button",70),_("click",function(){x(e);let i=h();return C(i.cancelarPago())}),d(6,"\xD7"),a()(),c(7,"div",71)(8,"p"),d(9,"Total a pagar: "),c(10,"strong"),d(11),et(12,"currency"),a()(),c(13,"div",72)(14,"h4"),d(15,"Selecciona un m\xE9todo de pago:"),a(),b(16,TP,4,5,"div",73),a()(),c(17,"div",74)(18,"button",75),_("click",function(){x(e);let i=h();return C(i.cancelarPago())}),d(19,"Cancelar"),a(),c(20,"button",62),_("click",function(){x(e);let i=h();return C(i.confirmarPedidoConPago())}),d(21," Confirmar Pedido "),a()()()()}if(t&2){let e=h();p(11),P(tt(12,3,e.totalCarrito,"ARS")),p(5),g("ngForOf",e.paymentMethods),p(4),g("disabled",!e.selectedPaymentMethod)}}function RP(t,n){if(t&1){let e=S();c(0,"div",88),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.scrollToResult(i))}),c(1,"div",89),d(2),a(),c(3,"div",90)(4,"div",91),d(5),a(),c(6,"div",92),d(7),a()()()}if(t&2){let e=n.$implicit;p(2),P(e.type==="producto"?"\u{1F6CD}\uFE0F":"\u{1F4C4}"),p(3),P(e.title),p(2),P(e.description)}}function AP(t,n){if(t&1&&(c(0,"div",86),b(1,RP,8,3,"div",87),a()),t&2){let e=h(2);p(),g("ngForOf",e.searchResults)}}function NP(t,n){if(t&1&&(c(0,"div",93)(1,"p"),d(2),a()()),t&2){let e=h(2);p(2),w('No se encontraron resultados para "',e.searchTerm,'"')}}function FP(t,n){if(t&1){let e=S();c(0,"div",78),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),c(1,"div",79),_("click",function(i){return x(e),C(i.stopPropagation())}),c(2,"div",80)(3,"h3"),d(4,"Buscar en la p\xE1gina"),a(),c(5,"button",81),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),d(6,"\xD7"),a()(),c(7,"div",82)(8,"input",83),F("ngModelChange",function(i){x(e);let r=h();return V(r.searchTerm,i)||(r.searchTerm=i),C(i)}),_("input",function(){x(e);let i=h();return C(i.performSearch())}),a()(),b(9,AP,2,1,"div",84)(10,NP,3,1,"div",85),a()()}if(t&2){let e=h();p(8),N("ngModel",e.searchTerm),p(),g("ngIf",e.searchResults.length>0),p(),g("ngIf",e.searchTerm&&e.searchResults.length===0)}}var $0=(()=>{class t{constructor(e,o,i,r,s){this.cart=e,this.orders=o,this.authService=i,this.router=r,this.http=s,this.carritoItems=[],this.totalCarrito=0,this.cantidadItems=0,this.cartItemCount=0,this.showPaymentModal=!1,this.selectedPaymentMethod="",this.paymentMethods=[{value:"efectivo",label:"Efectivo"},{value:"transferencia",label:"Transferencia"},{value:"cheque",label:"Cheque"},{value:"mercadopago",label:"MercadoPago"}],this.showSearchModal=!1,this.searchTerm="",this.searchResults=[],this.isAdmin=!1,this.usuarios=[],this.selectedUserId=null,this.selectedUser=null,this.loadingUsers=!1,this.API_URL=Mt}ngOnInit(){this.carritoId=this.cart.getCarritoId(),this.loadCarritoItems(),this.updateCartCount(),this.isAdmin=this.authService.isAdmin(),this.isAdmin&&this.loadUsuarios()}loadCarritoItems(){this.carritoItems=this.cart.getCarritoItems(),this.totalCarrito=this.cart.getTotalCarrito(),this.cantidadItems=this.cart.getCantidadItems()}convertir(){this.carritoId&&this.cart.convertirAPedido(this.carritoId).subscribe(e=>this.pedido=e)}confirmar(){this.pedido&&console.log("Confirmar pedido:",this.pedido.id)}logout(){this.authService.logout(),this.router.navigate(["/login"])}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}generarPedido(){if(this.carritoItems.length===0){alert("El carrito est\xE1 vac\xEDo");return}if(this.isAdmin&&!this.selectedUserId){alert("Por favor selecciona un cliente para generar el pedido");return}this.showPaymentModal=!0}confirmarPedidoConPago(){if(this.selectedPaymentMethod==="mercadopago"){this.procesarMercadoPago();return}if(!this.selectedPaymentMethod){alert("Por favor selecciona un m\xE9todo de pago");return}let e,o;if(this.isAdmin)if(this.selectedUser)e=this.selectedUser.id,o={nombreRazonSocial:this.selectedUser.nombreRazonSocial,email:this.selectedUser.email},console.log("\u{1F535} [CART] Admin - Usando cliente seleccionado:",this.selectedUser);else{let s=this.authService.getCurrentUser();if(!s?.id){alert("Error: No se pudo identificar al usuario");return}e=s.id,o={nombreRazonSocial:s.nombreRazonSocial,email:s.email},console.log("\u{1F535} [CART] Admin - Usando admin actual:",s)}else{let s=this.authService.getCurrentUser();if(!s?.id){alert("Error: No se pudo identificar al cliente");return}e=s.id,o={nombreRazonSocial:s.nombreRazonSocial,email:s.email},console.log("\u{1F535} [CART] Cliente - Usando usuario actual:",s)}console.log("\u{1F535} [CART] ===== DEBUGGING PEDIDO ====="),console.log("\u{1F535} [CART] M\xE9todo de pago:",this.selectedPaymentMethod),console.log("\u{1F535} [CART] Es admin?",this.isAdmin),console.log("\u{1F535} [CART] selectedUserId:",this.selectedUserId,"tipo:",typeof this.selectedUserId),console.log("\u{1F535} [CART] selectedUser:",this.selectedUser),console.log("\u{1F535} [CART] Cliente ID final:",e),console.log("\u{1F535} [CART] Usuario info final:",o),console.log("\u{1F535} [CART] ================================");let i=this.carritoItems.map(s=>({id:s.id,productoId:0,varianteId:s.varianteId,cantidad:s.cantidad,precioUnitario:s.precioUnitario,subtotal:s.subtotal})),r=this.getPaymentMethodLabel();this.orders.crearPedido(e,i,this.selectedPaymentMethod,o).subscribe({next:s=>{console.log("\u{1F535} [CART] Pedido creado exitosamente:",s),console.log("\u{1F535} [CART] ID del pedido:",s.id,"es positivo?",s.id>0),s.id&&s.id>0?(console.log("\u{1F535} [CART] Procesando pedido REAL del backend"),this.cart.limpiarCarrito(),this.loadCarritoItems(),this.updateCartCount(),this.showPaymentModal=!1,this.selectedPaymentMethod="",alert(`\u2705 Pedido generado exitosamente en el sistema.
N\xFAmero de pedido: ${s.id}
M\xE9todo de pago: ${r}
Total: $${s.montoTotal.toLocaleString()}`),this.router.navigate(["/orders-history"])):(console.log("\u{1F7E1} [CART] Pedido creado con datos mock debido a error del backend"),console.log("\u{1F7E1} [CART] ID negativo detectado, no limpiando carrito"),console.log("\u{1F7E1} [CART] Mostrando alert al usuario..."),setTimeout(()=>{alert("\u26A0\uFE0F Error del servidor al crear el pedido. Se utilizaron datos temporales. Por favor, int\xE9ntalo de nuevo m\xE1s tarde.")},100),this.showPaymentModal=!1,this.selectedPaymentMethod="")},error:s=>{console.error("\u{1F534} [CART] Error al generar pedido:",s);let l="Error al generar el pedido.";s.status===500?l="Error interno del servidor. Por favor, verifica que el backend est\xE9 funcionando correctamente y int\xE9ntalo de nuevo.":s.status===404?l="Endpoint no encontrado. Verifica la configuraci\xF3n del servidor.":l=`Error al generar el pedido: ${s.message}`,alert(l),this.showPaymentModal=!1,this.selectedPaymentMethod=""}})}cancelarPago(){this.showPaymentModal=!1,this.selectedPaymentMethod=""}getPaymentMethodLabel(){let e=this.paymentMethods.find(o=>o.value===this.selectedPaymentMethod);return e?e.label:this.selectedPaymentMethod}procesarMercadoPago(){let e=this.authService.getCurrentUser();if(!e){alert("Debes iniciar sesi\xF3n para realizar un pedido");return}let o=this.isAdmin&&this.selectedUserId?this.selectedUserId:e.id,i={nombreRazonSocial:e.nombreRazonSocial,email:e.email},r=this.carritoItems.map(s=>({id:s.id,productoId:0,varianteId:s.varianteId,cantidad:s.cantidad,precioUnitario:s.precioUnitario,subtotal:s.subtotal}));this.orders.crearPedido(o,r,"mercadopago",i).subscribe({next:s=>{console.log("\u{1F535} [CART] Pedido creado para MercadoPago:",s),s.id&&s.id>0?this.crearPreferenciaMercadoPago(s.id):(alert("Error al crear el pedido. Por favor, intenta nuevamente."),this.showPaymentModal=!1,this.selectedPaymentMethod="")},error:s=>{console.error("\u{1F534} [CART] Error al crear pedido para MercadoPago:",s),alert("Error al crear el pedido. Por favor, intenta nuevamente."),this.showPaymentModal=!1,this.selectedPaymentMethod=""}})}crearPreferenciaMercadoPago(e){let o=this.authService.getToken(),i=window.location.origin,r=new dn().set("frontendUrl",i),s=new dt({Authorization:`Bearer ${o}`,"Content-Type":"application/json"});this.http.post(`${this.API_URL}/mercadopago/crear-preferencia/${e}`,{},{headers:s,params:r}).subscribe({next:l=>{if(console.log("\u{1F535} [MERCADOPAGO] Preferencia creada:",l),l.success&&l.initPoint){this.cart.limpiarCarrito(),this.loadCarritoItems(),this.updateCartCount(),this.showPaymentModal=!1,this.selectedPaymentMethod="";let u=`${i}/orders-history`,f=i.startsWith("https://")?`\u{1F535} Ser\xE1s redirigido a MercadoPago para completar el pago.

Una vez aprobado el pago volver\xE1s autom\xE1ticamente a la aplicaci\xF3n.

Podr\xE1s revisar el estado en tu historial de pedidos.`:`\u{1F535} Ser\xE1s redirigido a MercadoPago para completar el pago.

\u26A0\uFE0F IMPORTANTE: Despu\xE9s de completar el pago, regresa manualmente a:

${u}

All\xED se actualizar\xE1 el estado de tu pedido.`;if(confirm(f)){let v=l.initPoint||l.sandboxInitPoint;console.log("\u{1F535} [MERCADOPAGO] Redirigiendo a:",v),window.location.href=v}else alert("Puedes volver a intentar el pago desde tu historial de pedidos."),this.router.navigate(["/orders-history"])}else alert("Error al crear la preferencia de pago. Por favor, intenta nuevamente.")},error:l=>{console.error("\u{1F534} [MERCADOPAGO] Error al crear preferencia:",l);let u="Error al procesar el pago con MercadoPago.";l.error?.error&&(u=l.error.error),alert(u),this.showPaymentModal=!1,this.selectedPaymentMethod=""}})}updateCartCount(){this.cartItemCount=this.cart.getCantidadItems()}eliminarItem(e){confirm("\xBFEst\xE1s seguro de que quieres eliminar este producto del carrito?")&&(this.cart.removerItem(e),this.loadCarritoItems(),this.updateCartCount())}actualizarCantidad(e,o){let i=o.target.value.trim();if(i==="")return;let r=parseInt(i,10);if(isNaN(r)||r<1){o.target.value=this.carritoItems.find(s=>s.id===e)?.cantidad||1;return}r===0?this.eliminarItem(e):(this.cart.actualizarCantidad(e,r),this.loadCarritoItems(),this.updateCartCount())}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],this.carritoItems.forEach(i=>{(i.productoNombre.toLowerCase().includes(e)||i.sku.toLowerCase().includes(e)||i.color.toLowerCase().includes(e)||i.talle.toLowerCase().includes(e))&&this.searchResults.push({type:"item",title:i.productoNombre,description:`${i.color} - Talle ${i.talle} - SKU: ${i.sku}`,data:i})}),document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p").forEach(i=>{let r=i.textContent?.toLowerCase()||"";r.includes(e)&&r.length>0&&this.searchResults.push({type:"elemento",title:i.textContent?.trim()||"",description:"Elemento encontrado en la p\xE1gina",element:i})})}scrollToResult(e){if(this.closeSearchModal(),e.type==="item"){let o=document.querySelector(`[data-item-id="${e.data.id}"]`);o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.classList.add("search-highlight"),setTimeout(()=>{o.classList.remove("search-highlight")},2e3))}else e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}loadUsuarios(){this.loadingUsers=!0,console.log("\u{1F535} [CART] Cargando usuarios desde la base de datos"),this.authService.getUsuarios().subscribe({next:e=>{this.usuarios=e.filter(o=>o.tipoUsuario==="CLIENTE"||o.tipoUsuario==="ADMIN"),this.loadingUsers=!1,console.log("\u{1F535} [CART] Usuarios cargados desde BD:",this.usuarios)},error:e=>{console.error("\u{1F534} [CART] Error al cargar usuarios:",e),this.loadingUsers=!1,alert("Error al cargar la lista de usuarios. Por favor, int\xE9ntalo de nuevo.")}})}onUserChange(){if(console.log("\u{1F535} [CART] onUserChange llamado con selectedUserId:",this.selectedUserId,"tipo:",typeof this.selectedUserId),this.selectedUserId){let e=typeof this.selectedUserId=="string"?parseInt(this.selectedUserId,10):this.selectedUserId;this.selectedUser=this.usuarios.find(o=>o.id===e)||null,console.log("\u{1F535} [CART] Usuario encontrado:",this.selectedUser),console.log("\u{1F535} [CART] Lista de usuarios disponible:",this.usuarios.map(o=>({id:o.id,nombre:o.nombreRazonSocial})))}else this.selectedUser=null,console.log("\u{1F535} [CART] No hay usuario seleccionado")}static{this.\u0275fac=function(o){return new(o||t)(E(ze),E(fn),E(fe),E(se),E(Ke))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-cart-page"]],standalone:!0,features:[le],decls:39,vars:7,consts:[["emptyCart",""],[1,"cart-container"],[1,"cart-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon","active"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],["class","user-selector-header",4,"ngIf"],[1,"cart-content"],["class","cart-items",4,"ngIf","ngIfElse"],["class","pedido-section",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"user-selector-header"],[1,"user-selector-content"],[1,"user-selector-label"],[1,"user-select",3,"ngModelChange","change","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","loading-indicator",4,"ngIf"],["class","selected-user-info",4,"ngIf"],[3,"value"],[1,"loading-indicator"],[1,"selected-user-info"],[1,"cart-items"],[1,"items-list"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-total"],[1,"total-line"],[1,"cart-actions"],[1,"btn-primary",3,"click","disabled"],[1,"cart-item"],[1,"item-info"],[1,"item-quantity"],[3,"for"],["type","number","min","1","max","999",1,"quantity-input",3,"input","id","value"],[1,"item-price"],[1,"unit-price"],[1,"subtotal"],[1,"item-actions"],["title","Eliminar del carrito",1,"btn-remove",3,"click"],[1,"empty-cart"],["routerLink","/catalog",1,"btn-primary"],[1,"pedido-section"],["class","usuario-info",4,"ngIf"],[1,"pedido-table"],[4,"ngFor","ngForOf"],[1,"pedido-total"],[1,"btn-confirm",3,"click","disabled"],[1,"usuario-info"],[1,"usuario-details"],[1,"usuario-item"],["class","usuario-item",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"payment-methods"],["class","payment-option",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn-cancel",3,"click"],[1,"payment-option"],["type","radio","name","paymentMethod",3,"ngModelChange","id","value","ngModel"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(o,i){if(o&1){let r=S();c(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),_("click",function(){return x(r),C(i.goToCatalog())}),c(4,"div",5),H(5,"img",6),a(),c(6,"span"),d(7,"HRK"),a()(),c(8,"nav",7)(9,"a",8),_("click",function(){return x(r),C(i.goToCatalog())}),d(10,"SHOP"),a(),c(11,"a",9),_("click",function(){return x(r),C(i.goToCatalog())}),d(12,"SALE"),a(),c(13,"a",10),_("click",function(){return x(r),C(i.goToInfo())}),d(14,"info"),a()()(),c(15,"div",11)(16,"button",12),d(17," \u{1F6D2} "),b(18,xP,2,1,"span",13),a(),c(19,"button",14),_("click",function(){return x(r),C(i.openSearchModal())}),d(20," \u{1F50D} "),a(),c(21,"button",15),_("click",function(){return x(r),C(i.goToHistory())}),d(22," \u{1F4CB} "),a(),c(23,"button",16),_("click",function(){return x(r),C(i.goToProfile())}),H(24,"img",17),c(25,"span",18),d(26,"\u{1F464}"),a()(),c(27,"button",19),_("click",function(){return x(r),C(i.logout())}),d(28," Cerrar Sesi\xF3n "),a()()(),b(29,MP,10,5,"div",20),c(30,"div",21)(31,"h2"),d(32,"Carrito de Compras"),a(),b(33,wP,14,7,"div",22)(34,PP,7,0,"ng-template",null,0,xa)(36,IP,20,9,"div",23),a(),b(37,kP,22,6,"div",24)(38,FP,11,3,"div",25),a()}if(o&2){let r=Ye(35);p(18),g("ngIf",i.cartItemCount>0),p(11),g("ngIf",i.isAdmin),p(4),g("ngIf",i.carritoItems.length>0)("ngIfElse",r),p(3),g("ngIf",i.pedido),p(),g("ngIf",i.showPaymentModal),p(),g("ngIf",i.showSearchModal)}},dependencies:[_e,ke,im,Ci,ve,Lt,jt,we,Et,Bu,Pe,be],styles:[".cart-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.cart-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease;transform:rotate(0)}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(0)}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;min-width:20px;border:2px solid black;box-shadow:0 2px 4px #0000004d}.icon-btn.active[_ngcontent-%COMP%]{background:#fff3}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.history-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;padding:8px;border-radius:4px;transition:background-color .3s}.history-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.icon-btn.user-icon[_ngcontent-%COMP%]{background:transparent!important;border:none!important;cursor:pointer;padding:0!important;border-radius:6px;transition:all .3s;display:flex;align-items:center;justify-content:center;width:47.5px;height:47.5px}.user-icon[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.05)}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.cart-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.cart-items[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a;margin-bottom:20px}.cart-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#fff}.items-list[_ngcontent-%COMP%]{margin-bottom:20px}.cart-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr auto;gap:15px;align-items:center;padding:15px;border-bottom:1px solid #e1e5e9}.cart-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0;color:#666;font-size:14px}.item-quantity[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;align-items:center}.item-quantity[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#667eea;font-size:12px;text-transform:uppercase}.quantity-input[_ngcontent-%COMP%]{width:60px;padding:6px 8px;border:1px solid #e1e5e9;border-radius:4px;text-align:center;font-size:14px;font-weight:500}.quantity-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea33}.item-price[_ngcontent-%COMP%]{text-align:right}.item-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.btn-remove[_ngcontent-%COMP%]{background:transparent;color:#666;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:16px;transition:all .3s ease}.btn-remove[_ngcontent-%COMP%]:hover{background:#ff44441a;color:#f44;transform:scale(1.1)}.btn-remove[_ngcontent-%COMP%]:active{transform:scale(.95)}.unit-price[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666}.subtotal[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:16px}.cart-total[_ngcontent-%COMP%]{border-top:2px solid #e1e5e9;padding-top:15px}.total-line[_ngcontent-%COMP%]{text-align:right;font-size:20px;font-weight:600;color:#333}.cart-actions[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s;text-decoration:none;display:inline-block}.btn-primary[_ngcontent-%COMP%]:hover{background:#5a6fd8;transform:translateY(-2px)}.empty-cart[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a}.empty-cart[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:10px}.empty-cart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.pedido-section[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:20px;margin-top:20px}.usuario-info[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:15px;margin-bottom:20px;border-left:4px solid #667eea}.usuario-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:#333;font-size:16px;font-weight:600}.usuario-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.usuario-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#555}.usuario-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;font-weight:600;min-width:80px}.pedido-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:15px 0}.pedido-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .pedido-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #e1e5e9}.pedido-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600}.pedido-total[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin:15px 0}.btn-confirm[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-weight:500}.btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:#218838}.btn-confirm[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}@media (max-width: 768px){.cart-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px;padding:15px}.header-left[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:10px}.header-right[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:8px}.main-nav[_ngcontent-%COMP%]{justify-content:center;gap:10px}.cart-content[_ngcontent-%COMP%]{padding:10px}.cart-items[_ngcontent-%COMP%]{gap:20px}.cart-item[_ngcontent-%COMP%]{padding:15px;grid-template-columns:1fr;gap:10px;text-align:center}.item-quantity[_ngcontent-%COMP%]{align-items:center}.quantity-input[_ngcontent-%COMP%]{width:80px}.btn-remove[_ngcontent-%COMP%]{width:40px;height:40px;font-size:16px}}@media (max-width: 480px){.cart-header[_ngcontent-%COMP%]{margin:5px;padding:10px}.header-left[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:8px}.nav-item[_ngcontent-%COMP%]{font-size:12px}.icon-btn[_ngcontent-%COMP%]{font-size:14px;padding:4px}.logout-btn[_ngcontent-%COMP%]{font-size:11px;padding:6px 8px}.cart-content[_ngcontent-%COMP%]{padding:5px}.cart-item[_ngcontent-%COMP%]{padding:10px}.item-details[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:10px}.quantity-controls[_ngcontent-%COMP%]{justify-content:center}.cart-summary[_ngcontent-%COMP%]{padding:15px}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 30px #0000004d}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 25px;border-bottom:1px solid #e1e5e9}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:20px}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.modal-close[_ngcontent-%COMP%]:hover{background:#f8f9fa}.modal-body[_ngcontent-%COMP%]{padding:25px}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;font-size:16px;color:#333}.modal-body[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#667eea}.payment-methods[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:#333;font-size:16px}.payment-option[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px;padding:12px;border:2px solid #e1e5e9;border-radius:8px;transition:all .3s;cursor:pointer}.payment-option[_ngcontent-%COMP%]:hover{border-color:#667eea;background:#f8f9ff}.payment-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked{accent-color:#667eea}.payment-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin:0 12px 0 0;width:18px;height:18px;cursor:pointer}.payment-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#667eea;font-weight:600}.payment-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;cursor:pointer;font-size:16px;color:#333;font-weight:500}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px 25px;border-top:1px solid #e1e5e9;gap:15px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:12px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s;border:none;font-size:16px}.btn-cancel[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-cancel[_ngcontent-%COMP%]:hover{background:#5a6268}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{background:#667eea;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6fd8}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}@media (max-width: 480px){.modal-content[_ngcontent-%COMP%]{width:95%;margin:20px}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:15px 20px}.modal-footer[_ngcontent-%COMP%]{flex-direction:column}}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}.user-selector-header[_ngcontent-%COMP%]{background:#f8f9fa;border-bottom:1px solid #dee2e6;padding:15px 25px;margin:10px;border-radius:8px 8px 0 0;display:flex;align-items:center;justify-content:flex-start;gap:15px}.user-selector-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex-wrap:wrap}.user-selector-label[_ngcontent-%COMP%]{font-weight:600;color:#495057;margin:0;white-space:nowrap}.user-select[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #ced4da;border-radius:6px;font-size:14px;background:#fff;min-width:250px;transition:all .3s ease}.user-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.user-select[_ngcontent-%COMP%]:disabled{background:#e9ecef;color:#6c757d;cursor:not-allowed}.loading-indicator[_ngcontent-%COMP%]{color:#6c757d;font-style:italic;font-size:12px;white-space:nowrap}.selected-user-info[_ngcontent-%COMP%]{background:#d4edda;border:1px solid #c3e6cb;border-radius:4px;padding:6px 10px;color:#155724;font-size:12px;white-space:nowrap}"]})}}return t})();function VP(t,n){t&1&&(c(0,"div",24),d(1," Email es requerido y debe ser v\xE1lido "),a())}function LP(t,n){t&1&&(c(0,"div",24),d(1," Contrase\xF1a es requerida "),a())}function jP(t,n){if(t&1&&(c(0,"div",25),d(1),a()),t&2){let e=h();p(),w(" ",e.error," ")}}function UP(t,n){t&1&&(c(0,"div",26),d(1," Iniciando sesi\xF3n... "),a())}function zP(t,n){if(t&1&&(c(0,"div",35),d(1),a()),t&2){let e=h(2);B("error",e.mensajeRecuperacion.includes("Error")),p(),w(" ",e.mensajeRecuperacion," ")}}function $P(t,n){t&1&&(c(0,"span"),d(1,"Enviar Contrase\xF1a"),a())}function BP(t,n){t&1&&(c(0,"span"),d(1,"Enviando..."),a())}function HP(t,n){if(t&1){let e=S();c(0,"div",27)(1,"h3"),d(2,"Recuperar Contrase\xF1a"),a(),c(3,"p"),d(4,"Ingresa tu email y te enviaremos tu contrase\xF1a por correo electr\xF3nico."),a(),c(5,"div",11)(6,"label",28),d(7,"Email:"),a(),c(8,"input",29),F("ngModelChange",function(i){x(e);let r=h();return V(r.emailRecuperacion,i)||(r.emailRecuperacion=i),C(i)}),a()(),b(9,zP,2,3,"div",30),c(10,"div",31)(11,"button",32),_("click",function(){x(e);let i=h();return C(i.solicitarRecuperacion())}),b(12,$P,2,0,"span",33)(13,BP,2,0,"span",33),a(),c(14,"button",34),_("click",function(){x(e);let i=h();return C(i.toggleRecuperacion())}),d(15," Cancelar "),a()()()}if(t&2){let e=h();p(8),N("ngModel",e.emailRecuperacion),g("disabled",e.recuperando),p(),g("ngIf",e.mensajeRecuperacion),p(2),g("disabled",!e.emailRecuperacion||e.recuperando),p(),g("ngIf",!e.recuperando),p(),g("ngIf",e.recuperando),p(),g("disabled",e.recuperando)}}var B0=(()=>{class t{constructor(e,o){this.authService=e,this.router=o,this.credentials={email:"",password:""},this.loading=!1,this.error="",this.mostrarRecuperacion=!1,this.emailRecuperacion="",this.recuperando=!1,this.mensajeRecuperacion=""}onSubmit(){this.loading||(this.loading=!0,this.error="",this.authService.login(this.credentials).subscribe({next:e=>{this.loading=!1,this.router.navigate(["/catalog"])},error:e=>{this.loading=!1,this.error=e.message||"Error al iniciar sesi\xF3n",this.showErrorMessage(),this.clearForm(),console.log("Login error:",e)}}))}showErrorMessage(){alert("Datos ingresados err\xF3neos. Por favor, verifica tu email y contrase\xF1a.")}clearForm(){this.credentials={email:"",password:""}}toggleRecuperacion(){this.mostrarRecuperacion=!this.mostrarRecuperacion,this.emailRecuperacion="",this.mensajeRecuperacion=""}solicitarRecuperacion(){if(!this.emailRecuperacion||!this.emailRecuperacion.includes("@")){alert("Por favor ingresa un email v\xE1lido");return}this.recuperando=!0,this.mensajeRecuperacion="",this.authService.recuperarContrase\u00F1a(this.emailRecuperacion).subscribe({next:e=>{this.recuperando=!1,this.mensajeRecuperacion=e.message||"Se ha enviado un email con tu contrase\xF1a",alert(this.mensajeRecuperacion),this.mostrarRecuperacion=!1,this.emailRecuperacion=""},error:e=>{this.recuperando=!1,this.mensajeRecuperacion=e.message||"Error al solicitar recuperaci\xF3n de contrase\xF1a",alert(this.mensajeRecuperacion)}})}static{this.\u0275fac=function(o){return new(o||t)(E(fe),E(se))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-login-page"]],standalone:!0,features:[le],decls:37,vars:12,consts:[["loginForm","ngForm"],["email","ngModel"],["password","ngModel"],[1,"login-container"],[1,"login-header"],[1,"logo"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"login-title"],[1,"login-card"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["class","loading",4,"ngIf"],["type","submit",1,"btn",3,"disabled"],[1,"login-footer"],["routerLink","/register"],["href","#",1,"forgot-password-link",3,"click"],["class","recuperacion-section",4,"ngIf"],[1,"error"],[1,"error-message"],[1,"loading"],[1,"recuperacion-section"],["for","emailRecuperacion"],["type","email","id","emailRecuperacion","name","emailRecuperacion","required","","email","","placeholder","tu-email@ejemplo.com",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","mensaje-recuperacion",3,"error",4,"ngIf"],[1,"recuperacion-actions"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"mensaje-recuperacion"]],template:function(o,i){if(o&1){let r=S();c(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),H(4,"img",7),a(),c(5,"span"),d(6,"HRK"),a()(),c(7,"h1",8),d(8,"Iniciar Sesi\xF3n"),a()(),c(9,"div",9)(10,"form",10,0),_("ngSubmit",function(){return x(r),C(i.onSubmit())}),c(12,"div",11)(13,"label",12),d(14,"Email:"),a(),c(15,"input",13,1),F("ngModelChange",function(l){return x(r),V(i.credentials.email,l)||(i.credentials.email=l),C(l)}),a(),b(17,VP,2,0,"div",14),a(),c(18,"div",11)(19,"label",15),d(20,"Contrase\xF1a:"),a(),c(21,"input",16,2),F("ngModelChange",function(l){return x(r),V(i.credentials.password,l)||(i.credentials.password=l),C(l)}),a(),b(23,LP,2,0,"div",14),a(),b(24,jP,2,1,"div",17)(25,UP,2,0,"div",18),c(26,"button",19),d(27," Iniciar Sesi\xF3n "),a()(),c(28,"div",20)(29,"p"),d(30,"\xBFNo tienes cuenta? "),c(31,"a",21),d(32,"Reg\xEDstrate aqu\xED"),a()(),c(33,"p")(34,"a",22),_("click",function(l){return x(r),l.preventDefault(),C(i.toggleRecuperacion())}),d(35," \xBFOlvidaste tu contrase\xF1a? "),a()()(),b(36,HP,16,7,"div",23),a()()}if(o&2){let r=Ye(11),s=Ye(16),l=Ye(22);p(15),N("ngModel",i.credentials.email),p(2),g("ngIf",s.invalid&&s.touched),p(4),N("ngModel",i.credentials.password),p(2),g("ngIf",l.invalid&&l.touched),p(),g("ngIf",i.error),p(),g("ngIf",i.loading),p(),B("btn-primary",r.invalid||i.loading)("btn-success",r.valid&&!i.loading),g("disabled",r.invalid||i.loading),p(10),g("ngIf",i.mostrarRecuperacion)}},dependencies:[ge,_e,ve,ro,we,Pe,io,Xt,Tr,be,Fn,Ci],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;background:#fff;padding:0}.login-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:15px 20px;display:flex;align-items:center;justify-content:space-between;position:relative}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:8px}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 2px 8px #0000004d;border:2px solid white}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.login-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin:0;position:absolute;left:50%;transform:translate(-50%);color:#fff}.login-card[_ngcontent-%COMP%]{background:#fff;padding:30px 40px 20px;width:100%;max-width:400px;margin:0 auto;flex:1;display:flex;flex-direction:column;justify-content:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-weight:500;color:#333;font-size:14px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #e1e5e9;border-radius:6px;font-size:14px;transition:border-color .3s;box-sizing:border-box;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#333}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]{background:#f5f5f5;color:#333;border:1px solid #e1e5e9}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e9ecef}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.btn-success[_ngcontent-%COMP%]{background:#87ceeb;color:#fff;border:1px solid #87CEEB}.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:#7bb3d9}.error[_ngcontent-%COMP%]{color:#e74c3c;font-size:14px;margin-top:5px}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:10px;border-radius:5px;margin-bottom:20px;border:1px solid #f5c6cb}.loading[_ngcontent-%COMP%]{text-align:center;color:#667eea;margin-bottom:20px}.login-footer[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.login-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:underline}.login-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.forgot-password-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:.9em}.forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.recuperacion-section[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;border-top:2px solid #e0e0e0;background-color:#f9f9f9;border-radius:8px}.recuperacion-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem;color:#333;font-size:1.2em}.recuperacion-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#666;font-size:.95em}.mensaje-recuperacion[_ngcontent-%COMP%]{margin:1rem 0;padding:.75rem;border-radius:4px;background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.mensaje-recuperacion.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-color:#f5c6cb}.recuperacion-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.recuperacion-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:4px;cursor:pointer;font-size:1em;transition:background-color .3s}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#5a6268}.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:10px}.login-header[_ngcontent-%COMP%]{padding:15px;margin:5px}.login-card[_ngcontent-%COMP%]{padding:20px;margin:10px 5px}.logo[_ngcontent-%COMP%]{font-size:16px}.login-title[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%]{padding:10px;font-size:14px}.btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:14px}}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:5px}.login-header[_ngcontent-%COMP%]{padding:10px;margin:2px;flex-direction:column;text-align:center;gap:10px}.login-card[_ngcontent-%COMP%]{padding:15px;margin:5px 2px}.logo[_ngcontent-%COMP%]{font-size:14px}.login-title[_ngcontent-%COMP%]{font-size:18px}.form-control[_ngcontent-%COMP%]{padding:8px;font-size:13px}.btn[_ngcontent-%COMP%]{padding:10px 16px;font-size:13px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px}}"]})}}return t})();function GP(t,n){t&1&&(c(0,"div",31),d(1," Nombre es requerido (m\xEDnimo 2 caracteres) "),a())}function WP(t,n){t&1&&(c(0,"div",31),d(1," Email es requerido y debe ser v\xE1lido "),a())}function qP(t,n){t&1&&(c(0,"div",31),d(1," El CUIT debe tener exactamente 11 d\xEDgitos num\xE9ricos (00000000000 a 99999999999) "),a())}function YP(t,n){t&1&&(c(0,"div",31),d(1," El CUIT es requerido "),a())}function ZP(t,n){t&1&&(c(0,"div",32),d(1," \u2713 CUIT v\xE1lido "),a())}function KP(t,n){t&1&&(c(0,"div",31),d(1," Contrase\xF1a es requerida (m\xEDnimo 6 caracteres) "),a())}function QP(t,n){t&1&&(c(0,"div",31),d(1," Las contrase\xF1as no coinciden "),a())}function JP(t,n){t&1&&(c(0,"div",32),d(1," \u2713 Las contrase\xF1as coinciden "),a())}function XP(t,n){if(t&1&&(c(0,"div",33),d(1),a()),t&2){let e=h();p(),w(" ",e.error," ")}}function eD(t,n){t&1&&(c(0,"div",34),d(1," Registrando usuario... "),a())}var H0=(()=>{class t{constructor(e,o){this.authService=e,this.router=o,this.userData={nombreRazonSocial:"",cuit:"",email:"",password:""},this.cuitFormatted="",this.password2="",this.loading=!1,this.error="",this.passwordsMatch=!1,this.cuitValid=!1}onPasswordChange(){this.passwordsMatch=this.userData.password===this.password2&&this.userData.password.length>=6&&this.password2.length>=6}onCuitChange(e){let o=e.target.value;if(o=o.replace(/\D/g,""),o.length>11&&(o=o.substring(0,11)),o.length>0){let i="";o.length>=1&&(i+=o.substring(0,Math.min(2,o.length))),o.length>2&&(i+="-",i+=o.substring(2,Math.min(10,o.length))),o.length>10&&(i+="-",i+=o.substring(10,Math.min(11,o.length))),this.cuitFormatted=i}else this.cuitFormatted="";this.cuitValid=o.length===11&&/^\d{11}$/.test(o),this.cuitValid?this.userData.cuit=this.cuitFormatted:this.userData.cuit=o}onSubmit(){if(!this.loading){if(!this.cuitValid){this.error="El CUIT debe tener exactamente 11 d\xEDgitos (formato: 00000000000 a 99999999999)",this.showErrorMessage("El CUIT debe tener exactamente 11 d\xEDgitos num\xE9ricos.");return}if(this.userData.password!==this.password2){this.error="Las contrase\xF1as no coinciden",this.showErrorMessage("Las contrase\xF1as no coinciden. Por favor, verifica que ambas contrase\xF1as sean iguales.");return}this.loading=!0,this.error="",this.authService.register(this.userData).subscribe({next:e=>{this.loading=!1,this.authService.login({email:this.userData.email,password:this.userData.password}).subscribe({next:o=>{this.router.navigate(["/catalog"])},error:o=>{this.error="Usuario creado pero error al iniciar sesi\xF3n",this.showErrorMessage("Usuario creado pero error al iniciar sesi\xF3n"),this.clearForm(),console.log("Auto-login error:",o)}})},error:e=>{this.loading=!1,this.error=e.message||"Error al registrar usuario",this.showErrorMessage("Error al registrar usuario. Por favor, verifica los datos ingresados."),this.clearForm(),console.log("Register error:",e)}})}}showErrorMessage(e){alert(e)}clearForm(){this.userData={nombreRazonSocial:"",cuit:"",email:"",password:""},this.cuitFormatted="",this.password2="",this.passwordsMatch=!1,this.cuitValid=!1}static{this.\u0275fac=function(o){return new(o||t)(E(fe),E(se))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-register-page"]],standalone:!0,features:[le],decls:53,vars:20,consts:[["registerForm","ngForm"],["nombreRazonSocial","ngModel"],["email","ngModel"],["cuit","ngModel"],["password","ngModel"],[1,"register-container"],[1,"register-header"],[1,"logo"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"register-title"],[1,"register-card"],[3,"ngSubmit"],[1,"form-group"],["for","nombreRazonSocial"],["type","text","id","nombreRazonSocial","name","nombreRazonSocial","required","","minlength","2","placeholder","Ingresa tu nombre de usuario",1,"form-control",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","email"],["type","email","id","email","name","email","required","","email","","placeholder","Ingresa tu correo electr\xF3nico",1,"form-control",3,"ngModelChange","ngModel"],["for","cuit"],["type","text","id","cuit","name","cuit","placeholder","xx-xxxxxxxx-x","maxlength","13","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["class","success",4,"ngIf"],["for","password"],["type","password","id","password","name","password","required","","minlength","6","placeholder","Ingresa tu contrase\xF1a",1,"form-control",3,"ngModelChange","input","ngModel"],["for","password2"],["type","password","id","password2","name","password2","placeholder","Confirma tu contrase\xF1a",1,"form-control",3,"ngModelChange","input","ngModel"],["class","error-message",4,"ngIf"],["class","loading",4,"ngIf"],["type","submit",1,"btn",3,"disabled"],[1,"register-footer"],["routerLink","/login"],[1,"error"],[1,"success"],[1,"error-message"],[1,"loading"]],template:function(o,i){if(o&1){let r=S();c(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),H(4,"img",9),a(),c(5,"span"),d(6,"HRK"),a()(),c(7,"h1",10),d(8,"Create Account"),a()(),c(9,"div",11)(10,"form",12,0),_("ngSubmit",function(){return x(r),C(i.onSubmit())}),c(12,"div",13)(13,"label",14),d(14,"Nombre de usuario/razon social:"),a(),c(15,"input",15,1),F("ngModelChange",function(l){return x(r),V(i.userData.nombreRazonSocial,l)||(i.userData.nombreRazonSocial=l),C(l)}),a(),b(17,GP,2,0,"div",16),a(),c(18,"div",13)(19,"label",17),d(20,"Mail:"),a(),c(21,"input",18,2),F("ngModelChange",function(l){return x(r),V(i.userData.email,l)||(i.userData.email=l),C(l)}),a(),b(23,WP,2,0,"div",16),a(),c(24,"div",13)(25,"label",19),d(26,"CUIT:"),a(),c(27,"input",20,3),F("ngModelChange",function(l){return x(r),V(i.cuitFormatted,l)||(i.cuitFormatted=l),C(l)}),_("input",function(l){return x(r),C(i.onCuitChange(l))}),a(),b(29,qP,2,0,"div",16)(30,YP,2,0,"div",16)(31,ZP,2,0,"div",21),a(),c(32,"div",13)(33,"label",22),d(34,"Contrase\xF1a:"),a(),c(35,"input",23,4),F("ngModelChange",function(l){return x(r),V(i.userData.password,l)||(i.userData.password=l),C(l)}),_("input",function(){return x(r),C(i.onPasswordChange())}),a(),b(37,KP,2,0,"div",16),a(),c(38,"div",13)(39,"label",24),d(40,"Repetir Contrase\xF1a:"),a(),c(41,"input",25),F("ngModelChange",function(l){return x(r),V(i.password2,l)||(i.password2=l),C(l)}),_("input",function(){return x(r),C(i.onPasswordChange())}),a(),b(42,QP,2,0,"div",16)(43,JP,2,0,"div",21),a(),b(44,XP,2,1,"div",26)(45,eD,2,0,"div",27),c(46,"button",28),d(47," Sign Up "),a()(),c(48,"div",29)(49,"p"),d(50,"\xBFYa tenes cuenta? "),c(51,"a",30),d(52,"Iniciar sesion"),a()()()()()}if(o&2){let r=Ye(11),s=Ye(16),l=Ye(22),u=Ye(28),f=Ye(36);p(15),N("ngModel",i.userData.nombreRazonSocial),p(2),g("ngIf",s.invalid&&s.touched),p(4),N("ngModel",i.userData.email),p(2),g("ngIf",l.invalid&&l.touched),p(4),N("ngModel",i.cuitFormatted),p(2),g("ngIf",u.touched&&!i.cuitValid&&i.cuitFormatted.length>0),p(),g("ngIf",u.touched&&i.cuitFormatted===""),p(),g("ngIf",i.cuitValid),p(4),N("ngModel",i.userData.password),p(2),g("ngIf",f.invalid&&f.touched),p(4),N("ngModel",i.password2),p(),g("ngIf",i.password2&&i.userData.password&&!i.passwordsMatch),p(),g("ngIf",i.passwordsMatch&&i.password2),p(),g("ngIf",i.error),p(),g("ngIf",i.loading),p(),B("btn-primary",r.invalid||!i.passwordsMatch||!i.cuitValid||i.loading)("btn-success",r.valid&&i.passwordsMatch&&i.cuitValid&&!i.loading),g("disabled",r.invalid||!i.passwordsMatch||!i.cuitValid||i.loading)}},dependencies:[ge,_e,ve,ro,we,Pe,io,Xt,Hu,Gu,Tr,be,Fn,Ci],styles:[".register-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;background:#fff;padding:0}.register-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:15px 20px;display:flex;align-items:center;justify-content:space-between;position:relative}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:8px}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 2px 8px #0000004d;border:2px solid white}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.register-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin:0;position:absolute;left:50%;transform:translate(-50%);color:#fff}.register-card[_ngcontent-%COMP%]{background:#fff;padding:30px 40px 20px;width:100%;max-width:400px;margin:0 auto;flex:1;display:flex;flex-direction:column;justify-content:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-weight:500;color:#333;font-size:14px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #e1e5e9;border-radius:6px;font-size:14px;transition:border-color .3s;box-sizing:border-box;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#333}.additional-fields[_ngcontent-%COMP%]{background:#f8f9fa;padding:20px;border-radius:5px;margin:20px 0;border-left:4px solid #667eea}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]{background:#f5f5f5;color:#333;border:1px solid #e1e5e9}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e9ecef}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.btn-success[_ngcontent-%COMP%]{background:#87ceeb;color:#fff;border:1px solid #87CEEB}.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:#7bb3d9}.error[_ngcontent-%COMP%]{color:#e74c3c;font-size:14px;margin-top:5px}.success[_ngcontent-%COMP%]{color:#28a745;font-size:14px;margin-top:5px;font-weight:500}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:10px;border-radius:5px;margin-bottom:20px;border:1px solid #f5c6cb}.loading[_ngcontent-%COMP%]{text-align:center;color:#667eea;margin-bottom:20px}.register-footer[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.register-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:underline}.register-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}@media (max-width: 768px){.register-container[_ngcontent-%COMP%]{padding:10px}.register-header[_ngcontent-%COMP%]{padding:15px;margin:5px}.register-card[_ngcontent-%COMP%]{padding:20px;margin:10px 5px}.logo[_ngcontent-%COMP%]{font-size:16px}.register-title[_ngcontent-%COMP%]{font-size:20px}.form-control[_ngcontent-%COMP%]{padding:10px;font-size:14px}.btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:14px}}@media (max-width: 480px){.register-container[_ngcontent-%COMP%]{padding:5px}.register-header[_ngcontent-%COMP%]{padding:10px;margin:2px;flex-direction:column;text-align:center;gap:10px}.register-card[_ngcontent-%COMP%]{padding:15px;margin:5px 2px}.logo[_ngcontent-%COMP%]{font-size:14px}.register-title[_ngcontent-%COMP%]{font-size:18px}.form-control[_ngcontent-%COMP%]{padding:8px;font-size:13px}.btn[_ngcontent-%COMP%]{padding:10px 16px;font-size:13px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px}}"]})}}return t})();function tD(t,n){t&1&&(c(0,"div",13),d(1," Cargando clientes... "),a())}function nD(t,n){if(t&1&&(c(0,"div",14),d(1),a()),t&2){let e=h();p(),w(" ",e.error," ")}}function oD(t,n){if(t&1&&(c(0,"div",24)(1,"span",25),d(2),a()()),t&2){let e=h().$implicit;p(2),w("\u{1F4DE} ",e.telefono,"")}}function iD(t,n){if(t&1&&(c(0,"div",24)(1,"span",25),d(2),a()()),t&2){let e=h().$implicit;p(2),w("\u{1F4CD} ",e.direccion,"")}}function rD(t,n){if(t&1){let e=S();c(0,"div",18),_("click",function(){let i=x(e).$implicit,r=h(2);return C(r.selectClient(i))}),c(1,"div",19)(2,"h3"),d(3),a(),c(4,"p",20),d(5),a(),b(6,oD,3,1,"div",21)(7,iD,3,1,"div",21),a(),c(8,"div",22)(9,"span",23),d(10),a()()()}if(t&2){let e=n.$implicit,o=h(2);B("selected",(o.selectedClient==null?null:o.selectedClient.id)===e.id),p(3),P(e.nombre),p(2),P(e.email),p(),g("ngIf",e.telefono),p(),g("ngIf",e.direccion),p(2),B("active",e.activo),p(),w(" ",e.activo?"Activo":"Inactivo"," ")}}function sD(t,n){t&1&&(c(0,"div",26)(1,"p"),d(2,"No se encontraron clientes que coincidan con la b\xFAsqueda"),a()())}function aD(t,n){if(t&1&&(c(0,"div",15),b(1,rD,11,9,"div",16)(2,sD,3,0,"div",17),a()),t&2){let e=h();p(),g("ngForOf",e.filteredClients),p(),g("ngIf",e.filteredClients.length===0)}}var G0=(()=>{class t{constructor(e,o){this.authService=e,this.router=o,this.clientes=[],this.filteredClients=[],this.selectedClient=null,this.searchTerm="",this.loading=!1,this.error=""}ngOnInit(){this.loadClients()}loadClients(){this.loading=!0,this.error="",this.authService.getClientes().subscribe({next:e=>{this.clientes=e,this.filteredClients=e,this.loading=!1},error:e=>{this.error="Error al cargar la lista de clientes",this.loading=!1}})}filterClients(){if(!this.searchTerm.trim()){this.filteredClients=this.clientes;return}let e=this.searchTerm.toLowerCase();this.filteredClients=this.clientes.filter(o=>o.nombre.toLowerCase().includes(e)||o.email.toLowerCase().includes(e))}selectClient(e){this.selectedClient=e}continueWithSelectedClient(){this.selectedClient&&(this.authService.selectClient(this.selectedClient),this.router.navigate(["/catalog"]))}continueAsClient(){this.authService.clearSelectedClient(),this.router.navigate(["/catalog"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(o){return new(o||t)(E(fe),E(se))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-select-client-page"]],standalone:!0,features:[le],decls:19,vars:6,consts:[[1,"select-client-container"],[1,"select-client-card"],[1,"subtitle"],[1,"search-section"],["type","text","placeholder","Buscar cliente por nombre o email...",1,"search-input",3,"ngModelChange","input","ngModel"],["class","loading",4,"ngIf"],["class","error-message",4,"ngIf"],["class","clients-list",4,"ngIf"],[1,"actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"footer-actions"],[1,"btn","btn-outline",3,"click"],[1,"loading"],[1,"error-message"],[1,"clients-list"],["class","client-card",3,"selected","click",4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],[1,"client-card",3,"click"],[1,"client-info"],[1,"client-email"],["class","client-details",4,"ngIf"],[1,"client-status"],[1,"status-badge"],[1,"client-details"],[1,"detail-item"],[1,"no-results"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"div",1)(2,"h2"),d(3,"Seleccionar Cliente"),a(),c(4,"p",2),d(5,"Como vendedor, selecciona el cliente para el cual realizar\xE1s el pedido"),a(),c(6,"div",3)(7,"input",4),F("ngModelChange",function(s){return V(i.searchTerm,s)||(i.searchTerm=s),s}),_("input",function(){return i.filterClients()}),a()(),b(8,tD,2,0,"div",5)(9,nD,2,1,"div",6)(10,aD,3,2,"div",7),c(11,"div",8)(12,"button",9),_("click",function(){return i.continueWithSelectedClient()}),d(13),a(),c(14,"button",10),_("click",function(){return i.continueAsClient()}),d(15," Continuar como Cliente Directo "),a()(),c(16,"div",11)(17,"button",12),_("click",function(){return i.logout()}),d(18," Cerrar Sesi\xF3n "),a()()()()),o&2&&(p(7),N("ngModel",i.searchTerm),p(),g("ngIf",i.loading),p(),g("ngIf",i.error),p(),g("ngIf",!i.loading&&!i.error),p(2),g("disabled",!i.selectedClient),p(),w(" Continuar con ",(i.selectedClient==null?null:i.selectedClient.nombre)||"Cliente Seleccionado"," "))},dependencies:[ge,ke,_e,ve,we,Pe,be],styles:[".select-client-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.select-client-card[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:10px;box-shadow:0 15px 35px #0000001a;width:100%;max-width:800px}.subtitle[_ngcontent-%COMP%]{color:#666;margin-bottom:30px;font-size:16px}.search-section[_ngcontent-%COMP%]{margin-bottom:30px}.search-input[_ngcontent-%COMP%]{width:100%;padding:15px;border:2px solid #e1e5e9;border-radius:8px;font-size:16px;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.clients-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;border:1px solid #e1e5e9;border-radius:8px}.client-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #e1e5e9;cursor:pointer;transition:background-color .3s}.client-card[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.client-card.selected[_ngcontent-%COMP%]{background-color:#e3f2fd;border-left:4px solid #667eea}.client-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:18px}.client-email[_ngcontent-%COMP%]{margin:0 0 10px;color:#666;font-size:14px}.client-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px}.detail-item[_ngcontent-%COMP%]{font-size:12px;color:#888}.client-status[_ngcontent-%COMP%]{display:flex;align-items:center}.status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500;background-color:#f5f5f5;color:#666}.status-badge.active[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.no-results[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.actions[_ngcontent-%COMP%]{margin-top:30px;display:flex;gap:15px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:5px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s;flex:1;min-width:200px}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6fd8}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn-outline[_ngcontent-%COMP%]{background:transparent;color:#667eea;border:2px solid #667eea}.btn-outline[_ngcontent-%COMP%]:hover{background:#667eea;color:#fff}.footer-actions[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.loading[_ngcontent-%COMP%]{text-align:center;color:#667eea;padding:40px}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:15px;border-radius:5px;margin-bottom:20px;border:1px solid #f5c6cb}@media (max-width: 768px){.actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{min-width:auto}}"]})}}return t})();var hn=function(t){return t.REMERA="remera",t.MUSCULOSA="musculosa",t.PANTALON="pantalon",t.SHORT="short",t.CARDIGAN="cardigan",t.RUANA="ruana",t.SWEATER="sweater",t.BUFANDA="bufanda",t.GORRO="gorro",t.TAPADO="tapado",t.CAPA="capa",t.SACO="saco",t.BLUSA="blusa",t.MONO="mono",t.VESTIDO="vestido",t.BUZO="buzo",t.MITONES="mitones",t.CAMPERA="campera",t.TOP="top",t.CHALECO="chaleco",t}(hn||{}),Z4=Object.values(hn);var so=(()=>{class t{constructor(e){this.http=e,this.BASE_URL=Jt,this.API_URL=`${Mt}`}normalizeImageUrl(e){if(console.log("\u{1F50D} [FRONTEND] Normalizando URL:",e),e.startsWith("http")){console.log("\u{1F50D} [FRONTEND] URL completa detectada:",e);try{let o=new URL(e);if(o.hostname==="localhost"||o.hostname==="127.0.0.1"||o.hostname.endsWith(".local")){let r=o.pathname.startsWith("/uploads/")?o.pathname:`/uploads/${o.pathname.replace(/^\//,"")}`,s=`${Jt}${r}`;return console.log("\u{1F50D} [FRONTEND] URL localhost detectada, reconstruyendo hacia el backend actual:",s),s}}catch(o){console.warn("\u{1F7E1} [FRONTEND] No se pudo parsear la URL completa, se usa tal cual:",o)}return e}if(e.startsWith("/images/categories/"))return console.log("\u{1F50D} [FRONTEND] Imagen por defecto del frontend:",e),e;if(!e.includes("/")&&!e.includes(".")){let o=`/images/categories/${e.toLowerCase()}.jpg`;return console.log("\u{1F50D} [FRONTEND] Categor\xEDa detectada, construyendo ruta:",o),console.log("\u{1F50D} [FRONTEND] URL original:",e,"\u2192 URL construida:",o),o}if(e.startsWith("/uploads/")||e.startsWith("uploads/")){let o=e.startsWith("/")?e:`/${e}`,i=`${Jt}${o}`;return console.log("\u{1F50D} [FRONTEND] Imagen subida, usando URL directa al backend:",i),i}if(!e.includes("/")&&e.length>0&&!e.includes(".")){let o=`/uploads/${e}`,i=`${Jt}${o}`;return console.log("\u{1F50D} [FRONTEND] Solo nombre de archivo, construyendo ruta directa:",i),i}if(!e.includes("/")&&e.includes(".")&&e.length>0){let o=`/uploads/${e}`,i=`${Jt}${o}`;return console.log("\u{1F50D} [FRONTEND] Filename directo del backend, usando URL directa:",i),i}return console.log("\u{1F50D} [FRONTEND] URL sin cambios:",e),e}uploadImage(e){let o=new FormData;o.append("file",e);let i=`${Jt}/uploads`;return console.log("\u{1F535} [FRONTEND] Subiendo imagen:",e.name,"Tama\xF1o:",e.size),console.log("\u{1F535} [FRONTEND] URL de subida (URL directa):",i),this.http.post(i,o,{headers:{},responseType:"text"}).pipe(te(r=>{if(console.log("\u{1F535} [FRONTEND] \u2705 Respuesta recibida del servidor:"),console.log("\u{1F535} [FRONTEND] Tipo:",typeof r),console.log("\u{1F535} [FRONTEND] Longitud:",r?r.length:0),console.log("\u{1F535} [FRONTEND] Primeros 100 caracteres:",r?r.substring(0,100):"null"),typeof r=="string"&&r.trim().startsWith("<!DOCTYPE"))throw console.error("\u{1F534} [FRONTEND] \u274C La respuesta parece ser HTML en lugar del filename esperado"),console.error("\u{1F534} [FRONTEND] Esto indica que el endpoint /uploads no est\xE1 funcionando correctamente"),console.error(`\u{1F534} [FRONTEND] El proxy podr\xEDa no estar redirigiendo correctamente a ${Jt}`),new Error("El servidor devolvi\xF3 HTML en lugar del filename del archivo");if(typeof r=="string"&&r.length>0&&!r.includes("<")&&!r.includes("/>"))console.log("\u{1F535} [FRONTEND] \u2705 Respuesta v\xE1lida recibida:",r);else throw console.error("\u{1F534} [FRONTEND] \u274C Respuesta inv\xE1lida:",r),new Error("Respuesta del servidor no es v\xE1lida")}),Q(r=>{throw console.error("\u{1F534} [FRONTEND] \u274C Error al subir imagen:"),console.error("\u{1F534} [FRONTEND] Status:",r.status),console.error("\u{1F534} [FRONTEND] StatusText:",r.statusText),console.error("\u{1F534} [FRONTEND] URL:",r.url),console.error("\u{1F534} [FRONTEND] Error completo:",r),r.status===0||r.status===404?(console.error("\u{1F534} [FRONTEND] Posible problema de proxy o CORS"),new Error("No se puede conectar con el servidor de archivos. Verificar configuraci\xF3n del proxy.")):r}))}list(e=!1){console.log("\u{1F535} [FRONTEND] Obteniendo productos desde la API... (incluirOcultos:",e,")");let o=`${this.API_URL}/productos${e?"?incluirOcultos=true":""}`;return this.http.get(o).pipe(te(i=>{console.log("\u{1F535} [FRONTEND] Productos recibidos:",i.length,"productos"),i.forEach((r,s)=>{let l=r.imagenUrl;r.imagenUrl=this.normalizeImageUrl(r.imagenUrl),console.log(`\u{1F535} [FRONTEND] Producto ${s+1}: ${r.nombre} (oculto: ${r.oculto})`),console.log(`  - URL original: ${l}`),console.log(`  - URL normalizada: ${r.imagenUrl}`)})}),Q(i=>(console.error("\u{1F534} [FRONTEND] Error al obtener productos:",i),console.log("\u{1F7E1} [FRONTEND] Usando datos mock como fallback"),this.getMockProducts())))}getById(e){return console.log("\u{1F535} [FRONTEND] Obteniendo producto por ID:",e),this.http.get(`${this.API_URL}/productos/${e}`).pipe(te(o=>{o.imagenUrl=this.normalizeImageUrl(o.imagenUrl),console.log("\u{1F535} [FRONTEND] Producto obtenido:",o.nombre,"(oculto:",o.oculto,")")}),Q(o=>{throw console.error("\u{1F534} [FRONTEND] Error al obtener producto:",o),o}))}createProduct(e){if(console.log("\u{1F535} [FRONTEND] Datos enviados:",e),console.log("\u{1F535} [FRONTEND] \u{1F50D} DETALLES DE LA IMAGEN RECIBIDA:",{imagen:e.imagen,tipo:typeof e.imagen,esFile:e.imagen instanceof File,nombre:e.imagen?.name,tama\u00F1o:e.imagen?.size,constructor:e.imagen?.constructor?.name}),!e.tipo||!e.categoria)throw console.error("\u{1F534} [FRONTEND] Error: Tipo o categor\xEDa vac\xEDos",{tipo:e.tipo,categoria:e.categoria}),new Error("Tipo y categor\xEDa son obligatorios");let o={nombre:e.nombre,tipo:e.tipo,categoria:e.categoria,sku:e.sku,colores:e.colores||[],talles:e.talles||[],precio:e.precio,descripcion:e.descripcion||""};if(e.stockPorVariante!=null&&Object.keys(e.stockPorVariante).length>0){o.stockPorVariante=e.stockPorVariante;let i=0;Object.values(e.stockPorVariante).forEach(r=>{i+=r||0}),o.stock=i,console.log("\u{1F535} [FRONTEND] Stock individual detectado, suma calculada:",i)}else e.stock!=null&&(o.stock=e.stock);return console.log("\u{1F535} [FRONTEND] Verificando imagen:",{imagen:e.imagen,esFile:e.imagen instanceof File,nombre:e.imagen?.name}),e.imagen&&e.imagen instanceof File?(console.log("\u{1F535} [FRONTEND] Subiendo imagen personalizada:",e.imagen.name),this.uploadImage(e.imagen).pipe(Le(i=>{if(console.log("\u{1F535} [FRONTEND] \u{1F389} ENTRANDO AL switchMap - Imagen subida exitosamente, URL:",i),console.log("\u{1F535} [FRONTEND] Tipo de imageUrl recibido:",typeof i),console.log("\u{1F535} [FRONTEND] Contenido completo de imageUrl:",JSON.stringify(i)),typeof i=="string"&&(i.includes("<!DOCTYPE html>")||i.includes("<!DOCTYPE")))return console.error("\u{1F534} [FRONTEND] \u274C El backend devolvi\xF3 HTML en lugar del filename. El endpoint /uploads no funciona correctamente."),console.error("\u{1F534} [FRONTEND] Esto puede deberse a:"),console.error("\u{1F534} [FRONTEND] 1. El backend no est\xE1 ejecut\xE1ndose en localhost:8081"),console.error("\u{1F534} [FRONTEND] 2. El endpoint /uploads no est\xE1 configurado correctamente"),console.error("\u{1F534} [FRONTEND] 3. Problema de CORS o proxy"),console.error("\u{1F534} [FRONTEND] Continuando sin imagen personalizada..."),console.log("\u{1F7E1} [FRONTEND] Creando producto sin imagen personalizada debido a error en upload"),this.http.post(`${this.API_URL}/productos`,o);let r=this.normalizeImageUrl(i);console.log("\u{1F535} [FRONTEND] URL normalizada:",r);let s=J(I({},o),{imagenUrl:r});return console.log("\u{1F535} [FRONTEND] \u{1F4E4} Request CON imagen al backend:",s),console.log("\u{1F535} [FRONTEND] \u2705 imagenUrl que se env\xEDa al backend:",s.imagenUrl),console.log("\u{1F535} [FRONTEND] \u{1F50D} STOCK EN REQUEST:",s.stock),console.log("\u{1F535} [FRONTEND] \u{1F50D} STOCK POR VARIANTE EN REQUEST:",s.stockPorVariante),console.log("\u{1F535} [FRONTEND] \u{1F50D} TIPO DE STOCK POR VARIANTE:",typeof s.stockPorVariante),console.log("\u{1F535} [FRONTEND] \u{1F50D} JSON STRINGIFY:",JSON.stringify(s.stockPorVariante)),this.http.post(`${this.API_URL}/productos`,s)}),Q(i=>(console.error("\u{1F534} [FRONTEND] Error en subida de imagen:",i),console.error("\u{1F534} [FRONTEND] Detalles del error:",{status:i.status,statusText:i.statusText,error:i.error,message:i.message}),console.log("\u{1F7E1} [FRONTEND] Fallback: creando producto sin imagen personalizada debido a error en upload"),console.log("\u{1F535} [FRONTEND] Request sin imagen:",o),i.message&&i.message.includes("HTML")&&(console.log("\u{1F7E1} [FRONTEND] El problema es que el endpoint /uploads est\xE1 devolviendo HTML en lugar de procesar el archivo"),console.log("\u{1F7E1} [FRONTEND] Esto generalmente se debe a problemas de configuraci\xF3n del proxy o CORS en el backend")),this.http.post(`${this.API_URL}/productos`,o))))):(console.log("\u{1F535} [FRONTEND] No hay imagen personalizada, el backend usar\xE1 imagen por defecto"),console.log("\u{1F535} [FRONTEND] Request sin imagen:",o),this.http.post(`${this.API_URL}/productos`,o))}updateProduct(e,o,i=!1){if(console.log("\u{1F535} [FRONTEND] Actualizando producto ID:",e),console.log("\u{1F535} [FRONTEND] Datos a actualizar:",o),console.log("\u{1F535} [FRONTEND] Confirmar variantes con pedidos:",i),!o.tipo||!o.categoria)throw console.error("\u{1F534} [FRONTEND] Error: Tipo o categor\xEDa vac\xEDos",{tipo:o.tipo,categoria:o.categoria}),new Error("Tipo y categor\xEDa son obligatorios");let r={nombre:o.nombre,tipo:o.tipo,categoria:o.categoria,sku:o.sku,descripcion:o.descripcion||"",stockPorVariante:o.stockPorVariante,oculto:o.oculto!==void 0?o.oculto:!1};return console.log("\u{1F535} [FRONTEND] Request base incluye oculto:",r.oculto),o.colores&&Array.isArray(o.colores)&&o.colores.length>0?r.colores=o.colores:console.log("\u{1F535} [FRONTEND] No se env\xEDan colores (vac\xEDo o no modificado)"),o.talles&&Array.isArray(o.talles)&&o.talles.length>0?r.talles=o.talles:console.log("\u{1F535} [FRONTEND] No se env\xEDan talles (vac\xEDo o no modificado)"),o.precio!=null&&o.precio>0&&(r.precio=o.precio),o.stock!=null&&o.stock>=0&&(r.stock=o.stock),console.log("\u{1F535} [FRONTEND] Verificando imagen:",{imagen:o.imagen,esFile:o.imagen instanceof File,nombre:o.imagen?.name}),o.imagen&&o.imagen instanceof File?(console.log("\u{1F535} [FRONTEND] Subiendo nueva imagen personalizada:",o.imagen.name),this.uploadImage(o.imagen).pipe(Le(s=>{if(console.log("\u{1F535} [FRONTEND] \u{1F389} Imagen subida exitosamente, URL:",s),typeof s=="string"&&(s.includes("<!DOCTYPE html>")||s.includes("<!DOCTYPE")))return console.error("\u{1F534} [FRONTEND] \u274C El backend devolvi\xF3 HTML en lugar del filename."),console.log("\u{1F7E1} [FRONTEND] Actualizando producto sin nueva imagen personalizada..."),this.http.put(`${this.API_URL}/productos/${e}?confirmarVariantesConPedidos=${i}`,r);let l=this.normalizeImageUrl(s);console.log("\u{1F535} [FRONTEND] URL normalizada:",l);let u=J(I({},r),{imagenUrl:l});return console.log("\u{1F535} [FRONTEND] \u{1F4E4} Request CON nueva imagen al backend:",u),console.log("\u{1F535} [FRONTEND] Request incluye oculto:",u.oculto),this.http.put(`${this.API_URL}/productos/${e}?confirmarVariantesConPedidos=${i}`,u)}),Q(s=>(console.error("\u{1F534} [FRONTEND] Error en subida de imagen:",s),console.log("\u{1F7E1} [FRONTEND] Fallback: actualizando producto sin nueva imagen personalizada"),this.http.put(`${this.API_URL}/productos/${e}?confirmarVariantesConPedidos=${i}`,r))))):(console.log("\u{1F535} [FRONTEND] No hay imagen nueva, actualizando solo datos del producto"),console.log("\u{1F535} [FRONTEND] Request base (sin imagen) incluye oculto:",r.oculto),this.http.put(`${this.API_URL}/productos/${e}?confirmarVariantesConPedidos=${i}`,r))}verificarVariantesConPedidos(e){return console.log("\u{1F535} [FRONTEND] Verificando variantes con pedidos para producto ID:",e),this.http.get(`${this.API_URL}/productos/${e}/verificar-pedidos`)}getMockProducts(){let e=[{id:1,nombre:"Remera B\xE1sica Tejida",descripcion:"Remera de algod\xF3n 100% tejida",tipo:"ROPA",imagenUrl:"/images/categories/remera.jpg",categoria:hn.REMERA,variantes:[{id:1,sku:"REM-S-B",color:"Blanco",talle:"S",precio:1500,stockDisponible:50},{id:2,sku:"REM-M-B",color:"Blanco",talle:"M",precio:1500,stockDisponible:30},{id:3,sku:"REM-L-B",color:"Blanco",talle:"L",precio:1500,stockDisponible:25},{id:4,sku:"REM-S-A",color:"Azul",talle:"S",precio:1500,stockDisponible:40},{id:5,sku:"REM-M-A",color:"Azul",talle:"M",precio:1500,stockDisponible:35},{id:6,sku:"REM-L-A",color:"Azul",talle:"L",precio:1500,stockDisponible:20}]},{id:2,nombre:"Hoodie Sirio Tinto",descripcion:"Hoodie con capucha y bolsillo delantero",tipo:"ROPA",imagenUrl:"/images/categories/buzo.jpg",categoria:hn.BUZO,variantes:[{id:7,sku:"HOO-S-N",color:"Negro",talle:"S",precio:3500,stockDisponible:15},{id:8,sku:"HOO-M-N",color:"Negro",talle:"M",precio:3500,stockDisponible:20},{id:9,sku:"HOO-L-N",color:"Negro",talle:"L",precio:3500,stockDisponible:18},{id:10,sku:"HOO-S-M",color:"Marr\xF3n",talle:"S",precio:3500,stockDisponible:12},{id:11,sku:"HOO-M-M",color:"Marr\xF3n",talle:"M",precio:3500,stockDisponible:16},{id:12,sku:"HOO-L-M",color:"Marr\xF3n",talle:"L",precio:3500,stockDisponible:14}]},{id:3,nombre:"Campera Sherpa Teddy",descripcion:"Campera de sherpa con cierre",tipo:"ROPA",imagenUrl:"/images/categories/campera.jpg",categoria:hn.CAMPERA,variantes:[{id:13,sku:"CAM-S-N",color:"Negro",talle:"S",precio:4500,stockDisponible:8},{id:14,sku:"CAM-M-N",color:"Negro",talle:"M",precio:4500,stockDisponible:10},{id:15,sku:"CAM-L-N",color:"Negro",talle:"L",precio:4500,stockDisponible:12},{id:16,sku:"CAM-S-M",color:"Marr\xF3n",talle:"S",precio:4500,stockDisponible:6},{id:17,sku:"CAM-M-M",color:"Marr\xF3n",talle:"M",precio:4500,stockDisponible:9},{id:18,sku:"CAM-L-M",color:"Marr\xF3n",talle:"L",precio:4500,stockDisponible:11}]},{id:4,nombre:"Chaleco Wendbarr Reversible",descripcion:"Chaleco reversible sin mangas",tipo:"ROPA",imagenUrl:"/images/categories/blazer.jpg",categoria:hn.CHALECO,variantes:[{id:19,sku:"CHA-S-N",color:"Negro",talle:"S",precio:2800,stockDisponible:15},{id:20,sku:"CHA-M-N",color:"Negro",talle:"M",precio:2800,stockDisponible:18},{id:21,sku:"CHA-L-N",color:"Negro",talle:"L",precio:2800,stockDisponible:12},{id:22,sku:"CHA-S-K",color:"Khaki",talle:"S",precio:2800,stockDisponible:10},{id:23,sku:"CHA-M-K",color:"Khaki",talle:"M",precio:2800,stockDisponible:14},{id:24,sku:"CHA-L-K",color:"Khaki",talle:"L",precio:2800,stockDisponible:8}]},{id:5,nombre:"Pantal\xF3n Cargo Verde",descripcion:"Pantal\xF3n cargo con bolsillos laterales",tipo:"ROPA",imagenUrl:"/images/categories/pantalon.jpg",categoria:hn.PANTALON,variantes:[{id:25,sku:"PAN-S-V",color:"Verde",talle:"S",precio:3200,stockDisponible:8},{id:26,sku:"PAN-M-V",color:"Verde",talle:"M",precio:3200,stockDisponible:10},{id:27,sku:"PAN-L-V",color:"Verde",talle:"L",precio:3200,stockDisponible:12},{id:28,sku:"PAN-S-K",color:"Khaki",talle:"S",precio:3200,stockDisponible:6},{id:29,sku:"PAN-M-K",color:"Khaki",talle:"M",precio:3200,stockDisponible:9},{id:30,sku:"PAN-L-K",color:"Khaki",talle:"L",precio:3200,stockDisponible:11}]},{id:6,nombre:"Short Deportivo Negro",descripcion:"Short c\xF3modo para deporte",tipo:"ROPA",imagenUrl:"/images/categories/short.jpg",categoria:hn.SHORT,variantes:[{id:31,sku:"SHO-S-N",color:"Negro",talle:"S",precio:1800,stockDisponible:15},{id:32,sku:"SHO-M-N",color:"Negro",talle:"M",precio:1800,stockDisponible:18},{id:33,sku:"SHO-L-N",color:"Negro",talle:"L",precio:1800,stockDisponible:12},{id:34,sku:"SHO-S-A",color:"Azul",talle:"S",precio:1800,stockDisponible:10},{id:35,sku:"SHO-M-A",color:"Azul",talle:"M",precio:1800,stockDisponible:14},{id:36,sku:"SHO-L-A",color:"Azul",talle:"L",precio:1800,stockDisponible:8}]},{id:7,nombre:"Sweater de Lana",descripcion:"Sweater c\xE1lido de lana natural",tipo:"ROPA",imagenUrl:"/images/categories/sweater.jpg",categoria:hn.SWEATER,variantes:[{id:37,sku:"SWE-S-G",color:"Gris",talle:"S",precio:4200,stockDisponible:5},{id:38,sku:"SWE-M-G",color:"Gris",talle:"M",precio:4200,stockDisponible:7},{id:39,sku:"SWE-L-G",color:"Gris",talle:"L",precio:4200,stockDisponible:6},{id:40,sku:"SWE-S-B",color:"Beige",talle:"S",precio:4200,stockDisponible:4},{id:41,sku:"SWE-M-B",color:"Beige",talle:"M",precio:4200,stockDisponible:8},{id:42,sku:"SWE-L-B",color:"Beige",talle:"L",precio:4200,stockDisponible:5}]}];return new Y(o=>{setTimeout(()=>{o.next(e),o.complete()},500)})}static{this.\u0275fac=function(o){return new(o||t)(z(Ke))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function cD(t,n){if(t&1&&(c(0,"span",31),d(1),a()),t&2){let e=h();p(),P(e.cartItemCount)}}function lD(t,n){if(t&1){let e=S();c(0,"div",32)(1,"button",33),_("click",function(){x(e);let i=h();return C(i.goToAddProduct())}),d(2," \u2795 Agregar Producto "),a()()}}function dD(t,n){if(t&1){let e=S();c(0,"button",34),_("click",function(){x(e);let i=h();return C(i.previousSlide())}),d(1," \u2039 "),a()}if(t&2){let e=h();g("disabled",e.currentSlide===0)}}function uD(t,n){t&1&&(c(0,"span",43),d(1,"(Oculto)"),a())}function pD(t,n){if(t&1){let e=S();c(0,"div",35),_("click",function(){let i=x(e).$implicit,r=h();return C(r.selectProduct(i))}),c(1,"div",36)(2,"div",37),H(3,"img",38),a(),c(4,"div",39)(5,"h3"),d(6),b(7,uD,2,0,"span",40),a(),c(8,"div",41),d(9),a(),c(10,"button",42),_("click",function(){let i=x(e).$implicit,r=h();return C(r.selectProduct(i))}),d(11," COMPRAR "),a()()()()}if(t&2){let e=n.$implicit,o=h();at("flex","0 0 calc(100% / "+o.itemsPerView+")"),B("selected",(o.selectedProduct==null?null:o.selectedProduct.id)===e.id)("producto-oculto",e.oculto&&o.authService.isAdmin()),Te("data-product-id",e.id),p(),B("oculto",e.oculto&&o.authService.isAdmin()),p(2),g("src",e.imagenUrl,Jn)("alt",e.nombre),p(3),w(" ",e.nombre," "),p(),g("ngIf",e.oculto&&o.authService.isAdmin()),p(2),w(" Precio: $",o.getMinPrice(e)," "),p(),B("selected-btn",(o.selectedProduct==null?null:o.selectedProduct.id)===e.id)}}function fD(t,n){if(t&1){let e=S();c(0,"button",44),_("click",function(){x(e);let i=h();return C(i.nextSlide())}),d(1," \u203A "),a()}if(t&2){let e=h();g("disabled",e.currentSlide>=e.maxSlide)}}function gD(t,n){if(t&1){let e=S();c(0,"button",59),_("click",function(){x(e);let i=h(2);return C(i.goToEditProduct(i.selectedProduct.id))}),d(1," \u270F\uFE0F Modificar Producto "),a()}}function hD(t,n){if(t&1&&(c(0,"div",60),d(1),a()),t&2){let e=n.$implicit;p(),P(e)}}function mD(t,n){if(t&1){let e=S();c(0,"div",64)(1,"input",65),_("input",function(i){let r=x(e).$implicit,s=h().$implicit,l=h(2);return C(l.updateQuantity(s,r,i))}),a()()}if(t&2){let e=n.$implicit,o=h().$implicit,i=h(2);p(),g("value",i.getQuantity(o,e))("max",i.getStock(o,e))}}function _D(t,n){if(t&1&&(c(0,"div",61)(1,"div",62),d(2),a(),b(3,mD,2,2,"div",63),a()),t&2){let e=n.$implicit,o=h(2);p(2),P(e),p(),g("ngForOf",o.getTalles())}}function vD(t,n){if(t&1){let e=S();c(0,"div",45)(1,"div",46)(2,"div",47),H(3,"img",38),b(4,gD,2,0,"button",48),a(),c(5,"div",49)(6,"h2"),d(7),a(),c(8,"p",50),d(9),a(),c(10,"div",51)(11,"div",52)(12,"div",53),d(13,"SKU"),a(),b(14,hD,2,1,"div",54),a(),b(15,_D,4,2,"div",55),a(),c(16,"div",56)(17,"div",57),d(18),a(),c(19,"button",58),_("click",function(){x(e);let i=h();return C(i.addToCart())}),d(20," AGREGAR AL PEDIDO "),a()()()()()}if(t&2){let e=h();p(3),g("src",e.selectedProduct.imagenUrl,Jn)("alt",e.selectedProduct.nombre),p(),g("ngIf",e.isAdmin()),p(3),P(e.selectedProduct.nombre),p(2),P(e.selectedProduct.descripcion),p(5),g("ngForOf",e.getTalles()),p(),g("ngForOf",e.getColores()),p(3),w(" Precio: $",e.getMinPrice(e.selectedProduct)," "),p(),g("disabled",!e.hasSelectedItems())}}function xD(t,n){if(t&1){let e=S();c(0,"div",76),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.scrollToResult(i))}),c(1,"div",77),d(2),a(),c(3,"div",78)(4,"div",79),d(5),a(),c(6,"div",80),d(7),a()()()}if(t&2){let e=n.$implicit;p(2),P(e.type==="producto"?"\u{1F6CD}\uFE0F":"\u{1F4C4}"),p(3),P(e.title),p(2),P(e.description)}}function CD(t,n){if(t&1&&(c(0,"div",74),b(1,xD,8,3,"div",75),a()),t&2){let e=h(2);p(),g("ngForOf",e.searchResults)}}function bD(t,n){if(t&1&&(c(0,"div",81)(1,"p"),d(2),a()()),t&2){let e=h(2);p(2),w('No se encontraron resultados para "',e.searchTerm,'"')}}function yD(t,n){if(t&1){let e=S();c(0,"div",66),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),c(1,"div",67),_("click",function(i){return x(e),C(i.stopPropagation())}),c(2,"div",68)(3,"h3"),d(4,"Buscar en la p\xE1gina"),a(),c(5,"button",69),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),d(6,"\xD7"),a()(),c(7,"div",70)(8,"input",71),F("ngModelChange",function(i){x(e);let r=h();return V(r.searchTerm,i)||(r.searchTerm=i),C(i)}),_("input",function(){x(e);let i=h();return C(i.performSearch())}),a()(),b(9,CD,2,1,"div",72)(10,bD,3,1,"div",73),a()()}if(t&2){let e=h();p(8),N("ngModel",e.searchTerm),p(),g("ngIf",e.searchResults.length>0),p(),g("ngIf",e.searchTerm&&e.searchResults.length===0)}}var W0=(()=>{class t{constructor(e,o,i,r){this.productsService=e,this.cartService=o,this.authService=i,this.router=r,this.productos=[],this.filteredProducts=[],this.selectedProduct=null,this.selectedFilter="tejido",this.currentSlide=0,this.maxSlide=0,this.itemsPerView=5,this.showNavigation=!1,this.selectedQuantities={},this.cartItemCount=0,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[],this.lastStorageValue=null}ngOnInit(){this.loadProducts(),this.updateCartCount(),this.setupStorageListener()}ngOnDestroy(){}setupStorageListener(){this.router.events.pipe(ot(e=>e instanceof pn)).subscribe(e=>{(e.url==="/catalog"||e.urlAfterRedirects==="/catalog")&&this.loadProducts()}),setInterval(()=>{let e=localStorage.getItem("verProductosOcultos");e!==this.lastStorageValue&&(this.lastStorageValue=e,this.router.url==="/catalog"&&(console.log("\u{1F535} [HOME] Preferencia cambi\xF3, recargando productos..."),this.loadProducts()))},500)}loadProducts(){let e=this.authService.isAdmin()&&localStorage.getItem("verProductosOcultos")==="true";this.lastStorageValue=localStorage.getItem("verProductosOcultos"),console.log("\u{1F535} [HOME] Cargando productos, incluirOcultos:",e),this.productsService.list(e).subscribe(o=>{this.productos=o,this.applyFilter()})}setFilter(e){this.selectedFilter=e,this.applyFilter()}applyFilter(){this.filteredProducts=this.productos.filter(e=>this.selectedFilter==="tejido"?e.categoria==="TEJIDO":e.categoria==="PLANO"),this.updateCarouselLogic(),this.updateSelectedProduct()}updateCarouselLogic(){let e=this.filteredProducts.length;e<=5?(this.itemsPerView=e,this.currentSlide=0,this.maxSlide=0,this.showNavigation=!1):(this.itemsPerView=5,this.currentSlide=0,this.maxSlide=e-5,this.showNavigation=!0)}previousSlide(){this.currentSlide>0&&(this.currentSlide--,this.updateSelectedProduct())}nextSlide(){this.currentSlide<this.maxSlide&&(this.currentSlide++,this.updateSelectedProduct())}updateSelectedProduct(){if(this.filteredProducts.length===0){this.selectedProduct=null,this.selectedQuantities={};return}if(this.filteredProducts.length<=5)this.selectedProduct=this.filteredProducts[0];else{let e=this.currentSlide+Math.floor(this.itemsPerView/2);e<this.filteredProducts.length&&(this.selectedProduct=this.filteredProducts[e])}this.selectedQuantities={}}selectProduct(e){this.selectedProduct=e,this.selectedQuantities={};let o=this.filteredProducts.findIndex(i=>i.id===e.id);if(o!==-1){let i=Math.floor(this.itemsPerView/2);this.currentSlide=Math.max(0,Math.min(this.maxSlide,o-i))}}getTalles(){if(!this.selectedProduct)return[];let e=new Set;return this.selectedProduct.variantes.forEach(o=>{let i=o.talle.trim(),r=this.normalizarTalle(i);e.add(`Talle ${r}`)}),Array.from(e).sort((o,i)=>{let r=o.replace("Talle ",""),s=i.replace("Talle ","");if(r==="\xDAnico"&&s!=="\xDAnico")return 1;if(r!=="\xDAnico"&&s==="\xDAnico")return-1;if(r==="\xDAnico"&&s==="\xDAnico")return 0;let l=parseInt(r),u=parseInt(s);if(!isNaN(l)&&!isNaN(u))return l-u;if(!isNaN(l)&&isNaN(u))return-1;if(isNaN(l)&&!isNaN(u))return 1;let f=["XS","S","M","L","XL"],m=f.indexOf(r.toUpperCase()),v=f.indexOf(s.toUpperCase());return m!==-1&&v!==-1?m-v:m!==-1?-1:v!==-1?1:r.localeCompare(s)})}getColores(){return this.selectedProduct?Array.from(new Set(this.selectedProduct.variantes.map(e=>e.color))).sort():[]}findVariante(e,o){if(!this.selectedProduct||!this.selectedProduct.variantes)return null;let i=o.replace("Talle ","");return this.selectedProduct.variantes.find(r=>r.color===e&&this.talleMatches(r.talle,i))}talleMatches(e,o){let i=this.normalizarTalle(e.trim()),r=this.normalizarTalle(o.trim());return i===r}normalizarTalle(e){return{U:"\xDAnico",TU:"\xDAnico",UNICO:"\xDAnico",T3:"3",3:"3",1:"1",2:"2",4:"4",5:"5",S:"S",M:"M",L:"L",XL:"XL"}[e.toUpperCase()]||e}getQuantity(e,o){let i=`${e}-${o}`;return this.selectedQuantities[i]||0}updateQuantity(e,o,i){let r=Number(i.target.value)||0,s=`${e}-${o}`;r>0?this.selectedQuantities[s]=r:delete this.selectedQuantities[s]}getStock(e,o){let i=this.findVariante(e,o);return i?i.stockDisponible:0}getMinPrice(e){return Math.min(...e.variantes.map(o=>o.precio))}getMaxPrice(e){return Math.max(...e.variantes.map(o=>o.precio))}hasSelectedItems(){return Object.values(this.selectedQuantities).some(e=>e>0)}addToCart(){if(!this.selectedProduct||!this.hasSelectedItems())return;let e=this.authService.getCurrentUser(),o=this.authService.getSelectedClient(),i=e?.id;i&&this.cartService.crear(i).subscribe(r=>{let s=[];Object.entries(this.selectedQuantities).forEach(([f,m])=>{if(m>0){let v=f.split("-"),M=v[0],y=v.slice(1).join("-"),D=this.findVariante(M,y);D&&s.push({variante:D,quantity:m,color:M,talle:y})}});let l=0,u=s.length;u!==0&&(s.forEach(({variante:f,quantity:m,color:v,talle:M})=>{let y=M.replace("Talle ","");this.cartService.agregarItem(r,f.id,m).subscribe({next:()=>{l++,l===u&&(alert("Se agregaron todos los items al carrito"),this.updateCartCount())},error:D=>{console.error("Error al agregar item al carrito:",D),alert("Error al agregar el producto al carrito")}})}),this.selectedQuantities={})})}logout(){this.authService.logout(),this.router.navigate(["/login"])}goToCart(){this.router.navigate(["/cart"])}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}goToEditProduct(e){this.router.navigate(["/edit-product",e])}goToAddProduct(){this.router.navigate(["/add-product"])}isAdmin(){return this.authService.isAdmin()}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],this.productos.forEach(i=>{if(i.nombre.toLowerCase().includes(e)||i.descripcion?.toLowerCase().includes(e)||i.categoria.toLowerCase().includes(e))if(this.filteredProducts.includes(i))this.searchResults.push({type:"producto",title:i.nombre,description:i.descripcion||"Sin descripci\xF3n",data:i,requiresFilterChange:!1});else{let s="tejido";i.categoria.toLowerCase().includes("plano")&&(s="plano"),this.searchResults.push({type:"producto",title:i.nombre,description:`${i.descripcion||"Sin descripci\xF3n"} (En filtro: ${s.toUpperCase()})`,data:i,requiresFilterChange:!0,correctFilter:s})}}),document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p").forEach(i=>{let r=i.textContent?.toLowerCase()||"";r.includes(e)&&r.length>0&&this.searchResults.push({type:"elemento",title:i.textContent?.trim()||"",description:"Elemento encontrado en la p\xE1gina",element:i})})}scrollToResult(e){if(this.closeSearchModal(),e.type==="producto")if(e.requiresFilterChange&&e.correctFilter)this.setFilter(e.correctFilter),setTimeout(()=>{let o=document.querySelector(`[data-product-id="${e.data.id}"]`);o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.classList.add("search-highlight"),setTimeout(()=>{o.classList.remove("search-highlight")},2e3))},500);else{let o=document.querySelector(`[data-product-id="${e.data.id}"]`);o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.classList.add("search-highlight"),setTimeout(()=>{o.classList.remove("search-highlight")},2e3))}else e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}static{this.\u0275fac=function(o){return new(o||t)(E(so),E(ze),E(fe),E(se))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-home-page"]],standalone:!0,features:[le],decls:44,vars:15,consts:[[1,"home-container"],[1,"home-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"catalog-header"],[1,"filters"],[1,"filter-btn",3,"click"],["class","admin-actions",4,"ngIf"],[1,"carousel-container"],["class","carousel-btn prev",3,"disabled","click",4,"ngIf"],[1,"carousel-wrapper"],[1,"carousel-track"],["class","carousel-item",3,"flex","selected","producto-oculto","click",4,"ngFor","ngForOf"],["class","carousel-btn next",3,"disabled","click",4,"ngIf"],["class","product-detail",4,"ngIf"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"admin-actions"],[1,"add-product-btn",3,"click"],[1,"carousel-btn","prev",3,"click","disabled"],[1,"carousel-item",3,"click"],[1,"product-card"],[1,"product-image"],[3,"src","alt"],[1,"product-info"],["class","badge-oculto",4,"ngIf"],[1,"price-range"],[1,"add-to-cart-btn",3,"click"],[1,"badge-oculto"],[1,"carousel-btn","next",3,"click","disabled"],[1,"product-detail"],[1,"detail-container"],[1,"product-image-large"],["class","edit-product-btn","title","Modificar Producto",3,"click",4,"ngIf"],[1,"product-variants"],[1,"product-description"],[1,"variants-grid"],[1,"grid-header"],[1,"sku-col"],["class","size-col",4,"ngFor","ngForOf"],["class","variant-row",4,"ngFor","ngForOf"],[1,"product-actions"],[1,"price-display"],[1,"add-to-cart-btn",3,"click","disabled"],["title","Modificar Producto",1,"edit-product-btn",3,"click"],[1,"size-col"],[1,"variant-row"],[1,"color-cell"],["class","quantity-cell",4,"ngFor","ngForOf"],[1,"quantity-cell"],["type","number","min","0",1,"quantity-input",3,"input","value","max"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_("click",function(){return i.goToCatalog()}),c(4,"div",4),H(5,"img",5),a(),c(6,"span"),d(7,"HRK"),a()(),c(8,"nav",6)(9,"a",7),_("click",function(){return i.goToCatalog()}),d(10,"SHOP"),a(),c(11,"a",8),_("click",function(){return i.goToCatalog()}),d(12,"SALE"),a(),c(13,"a",9),_("click",function(){return i.goToInfo()}),d(14,"info"),a()()(),c(15,"div",10)(16,"button",11),_("click",function(){return i.goToCart()}),d(17," \u{1F6D2} "),b(18,cD,2,1,"span",12),a(),c(19,"button",13),_("click",function(){return i.openSearchModal()}),d(20," \u{1F50D} "),a(),c(21,"button",14),_("click",function(){return i.goToHistory()}),d(22," \u{1F4CB} "),a(),c(23,"button",15),_("click",function(){return i.goToProfile()}),H(24,"img",16),c(25,"span",17),d(26,"\u{1F464}"),a()(),c(27,"button",18),_("click",function(){return i.logout()}),d(28," Cerrar Sesi\xF3n "),a()()(),c(29,"div",19)(30,"div",20)(31,"button",21),_("click",function(){return i.setFilter("tejido")}),d(32," Tejido "),a(),c(33,"button",21),_("click",function(){return i.setFilter("plano")}),d(34," Plano "),a()(),b(35,lD,3,0,"div",22),a(),c(36,"div",23),b(37,dD,2,1,"button",24),c(38,"div",25)(39,"div",26),b(40,pD,12,16,"div",27),a()(),b(41,fD,2,1,"button",28),a(),b(42,vD,21,9,"div",29),a(),b(43,yD,11,3,"div",30)),o&2&&(p(18),g("ngIf",i.cartItemCount>0),p(13),B("active",i.selectedFilter==="tejido"),p(2),B("active",i.selectedFilter==="plano"),p(2),g("ngIf",i.isAdmin()),p(2),g("ngIf",i.showNavigation),p(),B("centered",!i.showNavigation),p(),at("transform",i.showNavigation?"translateX("+-i.currentSlide*(100/i.itemsPerView)+"%)":"translateX(0%)"),p(),g("ngForOf",i.filteredProducts),p(),g("ngIf",i.showNavigation),p(),g("ngIf",i.selectedProduct),p(),g("ngIf",i.showSearchModal))},dependencies:[ge,ke,_e,ve,we,Pe,be],styles:['@charset "UTF-8";.home-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.home-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease;transform:rotate(0)}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(0)}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;min-width:20px;border:2px solid black;box-shadow:0 2px 4px #0000004d}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.history-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;padding:8px;border-radius:4px;transition:background-color .3s}.history-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.icon-btn.user-icon[_ngcontent-%COMP%]{background:transparent!important;border:none!important;cursor:pointer;padding:0!important;border-radius:6px;transition:all .3s;display:flex;align-items:center;justify-content:center;width:47.5px;height:47.5px}.user-icon[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.05)}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.catalog-header[_ngcontent-%COMP%]{margin-bottom:30px;padding:20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}.filters[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.add-product-btn[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;padding:12px 20px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:14px;display:flex;align-items:center;gap:8px}.add-product-btn[_ngcontent-%COMP%]:hover{background:#218838;transform:translateY(-1px);box-shadow:0 4px 8px #28a7454d}.filter-btn[_ngcontent-%COMP%]{padding:12px 24px;border:2px solid #e1e5e9;background:#fff;border-radius:8px;cursor:pointer;font-weight:500;transition:all .3s}.filter-btn[_ngcontent-%COMP%]:hover{border-color:#667eea;background:#f8f9fa}.filter-btn.active[_ngcontent-%COMP%]{background:#667eea;color:#fff;border-color:#667eea}.carousel-container[_ngcontent-%COMP%]{position:relative;margin-bottom:40px;padding:10px 40px;display:flex;align-items:center;justify-content:center}.carousel-wrapper[_ngcontent-%COMP%]{overflow:hidden;border-radius:12px;position:relative;display:flex;padding:0 15px;width:100%}.carousel-wrapper.centered[_ngcontent-%COMP%]{justify-content:center}.carousel-track[_ngcontent-%COMP%]{display:flex;transition:transform .3s ease;width:100%;max-width:100%}.carousel-wrapper.centered[_ngcontent-%COMP%]   .carousel-track[_ngcontent-%COMP%]{width:100%;max-width:none}.carousel-item[_ngcontent-%COMP%]{padding:0 10px;cursor:pointer;min-width:0;flex-shrink:0}.product-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a;transition:all .3s;border:2px solid transparent;width:200px;max-width:200px;margin:0 auto;position:relative;z-index:1}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.product-card.oculto[_ngcontent-%COMP%], .carousel-item.producto-oculto[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{opacity:.5;background-color:#f5f5f5;border:2px solid #cccccc;position:relative}.product-card.oculto[_ngcontent-%COMP%]:before, .carousel-item.producto-oculto[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#8080801a,#80808033);border-radius:12px;pointer-events:none;z-index:1}.product-card.oculto[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .carousel-item.producto-oculto[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(70%);opacity:.7}.product-card.oculto[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%], .carousel-item.producto-oculto[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{position:relative;z-index:2}.badge-oculto[_ngcontent-%COMP%]{display:inline-block;background-color:#6c757d;color:#fff;font-size:10px;padding:2px 6px;border-radius:4px;margin-left:8px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.carousel-item.selected[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{border-color:#667eea;background:#f8f9ff;z-index:2}.product-image[_ngcontent-%COMP%]{width:100%;height:200px;margin-bottom:15px;border-radius:8px;overflow:hidden}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:8px}.placeholder-image[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:48px;font-weight:700;color:#fff}.product-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;color:#333}.product-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;color:#666;font-size:14px}.price-range[_ngcontent-%COMP%]{font-weight:600;color:#667eea;font-size:16px}.carousel-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:50px;height:50px;border:none;border-radius:50%;background:#f8f9fa;box-shadow:0 4px 12px #00000026;cursor:pointer;font-size:24px;font-weight:700;color:#2c3e50;transition:all .3s;z-index:10}.carousel-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2c3e50;color:#fff;transform:translateY(-50%) scale(1.1);box-shadow:0 6px 20px #2c3e5080}.carousel-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.carousel-btn.prev[_ngcontent-%COMP%]{left:10px}.carousel-btn.next[_ngcontent-%COMP%]{right:10px}.product-detail[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;margin:0 10px;box-shadow:0 4px 6px #0000001a}.detail-container[_ngcontent-%COMP%]{display:flex;gap:40px}.product-image-large[_ngcontent-%COMP%]{flex:0 0 300px;border-radius:12px;overflow:visible;display:flex;flex-direction:column;gap:15px}.product-image-large[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover;border-radius:12px}.product-image-large[_ngcontent-%COMP%]   .edit-product-btn[_ngcontent-%COMP%]{width:100%;margin-top:0}.placeholder-image-large[_ngcontent-%COMP%]{width:100%;height:300px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:72px;font-weight:700;color:#fff}.product-variants[_ngcontent-%COMP%]{flex:1}.product-variants[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:24px}.product-description[_ngcontent-%COMP%]{margin:0 0 30px;color:#666;font-size:16px}.variants-grid[_ngcontent-%COMP%]{margin-bottom:30px}.grid-header[_ngcontent-%COMP%]{display:flex;background:#f8f9fa;border-radius:8px 8px 0 0;font-weight:600;color:#333}.sku-col[_ngcontent-%COMP%]{flex:0 0 100px;padding:12px;text-align:center}.size-col[_ngcontent-%COMP%]{flex:1;padding:12px;text-align:center}.variant-row[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #e1e5e9}.color-cell[_ngcontent-%COMP%]{flex:0 0 100px;padding:12px;text-align:center;font-weight:500;background:#f8f9fa}.quantity-cell[_ngcontent-%COMP%]{flex:1;padding:8px;text-align:center}.quantity-input[_ngcontent-%COMP%]{width:60px;padding:6px;border:1px solid #e1e5e9;border-radius:4px;text-align:center}.quantity-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.product-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.price-display[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#667eea}.add-to-cart-btn[_ngcontent-%COMP%]{background:#e0e0e0;color:#333;border:none;padding:10px 20px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s;font-size:14px;width:100%;margin-top:10px}.add-to-cart-btn.selected-btn[_ngcontent-%COMP%]{background:#333;color:#fff}.add-to-cart-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#555;transform:translateY(-2px)}.add-to-cart-btn[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.edit-product-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;border:none;padding:10px 20px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s;font-size:14px;display:inline-flex;align-items:center;justify-content:center;width:220px;max-width:100%;box-shadow:0 2px 4px #007bff33}.edit-product-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #007bff66;background:linear-gradient(135deg,#0056b3,#004085)}.admin-note[_ngcontent-%COMP%]{display:block;color:#6c757d;font-size:12px;margin-top:8px;font-style:italic}@media (max-width: 1024px){.header-left[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%]{gap:10px}.nav-item[_ngcontent-%COMP%]{font-size:13px}.header-right[_ngcontent-%COMP%]{gap:8px}.icon-btn[_ngcontent-%COMP%]{font-size:16px;padding:6px}.logo-symbol[_ngcontent-%COMP%]{width:50px;height:50px}}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}@media (max-width: 768px){.home-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px;padding:15px}.header-left[_ngcontent-%COMP%], .header-right[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}.main-nav[_ngcontent-%COMP%]{justify-content:center}.logo-symbol[_ngcontent-%COMP%]{width:45px;height:45px;margin-top:-5px;margin-bottom:-5px}.detail-container[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.carousel-item[_ngcontent-%COMP%]{flex:0 0 33.333%;padding:0 5px}.carousel-container[_ngcontent-%COMP%]{padding:0 5px}.carousel-btn[_ngcontent-%COMP%]{width:40px;height:40px;font-size:18px}.carousel-btn.prev[_ngcontent-%COMP%]{left:5px}.carousel-btn.next[_ngcontent-%COMP%]{right:5px}}@media (max-width: 480px){.home-header[_ngcontent-%COMP%]{margin:5px;padding:10px}.header-left[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:8px}.main-nav[_ngcontent-%COMP%]{gap:8px}.nav-item[_ngcontent-%COMP%]{font-size:12px;padding:4px 8px}.header-right[_ngcontent-%COMP%]{gap:5px}.icon-btn[_ngcontent-%COMP%]{font-size:14px;padding:4px}.logout-btn[_ngcontent-%COMP%]{font-size:11px;padding:6px 8px}.logo-symbol[_ngcontent-%COMP%]{width:40px;height:40px;margin-top:-3px;margin-bottom:-3px}.carousel-item[_ngcontent-%COMP%]{flex:0 0 50%;padding:0}.product-detail[_ngcontent-%COMP%]{margin:0 5px;padding:15px}.filters[_ngcontent-%COMP%]{flex-wrap:wrap;gap:5px}.filter-btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:14px}}']})}}return t})();function MD(t,n){if(t&1&&(c(0,"span",26),d(1),a()),t&2){let e=h();p(),P(e.cartItemCount)}}function ED(t,n){if(t&1){let e=S();c(0,"div",37),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.scrollToResult(i))}),c(1,"div",38),d(2),a(),c(3,"div",39)(4,"div",40),d(5),a(),c(6,"div",41),d(7),a()()()}if(t&2){let e=n.$implicit;p(2),P(e.type==="faq"?"\u2753":"\u{1F4C4}"),p(3),P(e.title),p(2),P(e.description)}}function wD(t,n){if(t&1&&(c(0,"div",35),b(1,ED,8,3,"div",36),a()),t&2){let e=h(2);p(),g("ngForOf",e.searchResults)}}function PD(t,n){if(t&1&&(c(0,"div",42)(1,"p"),d(2),a()()),t&2){let e=h(2);p(2),w('No se encontraron resultados para "',e.searchTerm,'"')}}function DD(t,n){if(t&1){let e=S();c(0,"div",27),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),c(1,"div",28),_("click",function(i){return x(e),C(i.stopPropagation())}),c(2,"div",29)(3,"h3"),d(4,"Buscar en la p\xE1gina"),a(),c(5,"button",30),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),d(6,"\xD7"),a()(),c(7,"div",31)(8,"input",32),F("ngModelChange",function(i){x(e);let r=h();return V(r.searchTerm,i)||(r.searchTerm=i),C(i)}),_("input",function(){x(e);let i=h();return C(i.performSearch())}),a()(),b(9,wD,2,1,"div",33)(10,PD,3,1,"div",34),a()()}if(t&2){let e=h();p(8),N("ngModel",e.searchTerm),p(),g("ngIf",e.searchResults.length>0),p(),g("ngIf",e.searchTerm&&e.searchResults.length===0)}}var q0=(()=>{class t{constructor(e,o,i){this.authService=e,this.router=o,this.cartService=i,this.cartItemCount=0,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}ngOnInit(){this.updateCartCount()}logout(){this.authService.logout(),this.router.navigate(["/login"])}goToCatalog(){this.router.navigate(["/catalog"])}goToCart(){this.router.navigate(["/cart"])}goToInfo(){this.router.navigate(["/info"])}goToWhatsApp(){let i=`https://wa.me/5491132550195?text=${encodeURIComponent("Hola! Necesito ayuda con mi pedido.")}`;window.open(i,"_blank")}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p").forEach(i=>{let r=i.textContent?.toLowerCase()||"";if(r.includes(e)&&r.length>0){let s="elemento";i.tagName==="H2"&&(s="faq"),this.searchResults.push({type:s,title:i.textContent?.trim()||"",description:s==="faq"?"Pregunta frecuente":"Elemento encontrado en la p\xE1gina",element:i})}})}scrollToResult(e){this.closeSearchModal(),e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}static{this.\u0275fac=function(o){return new(o||t)(E(fe),E(se),E(ze))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-info-page"]],standalone:!0,features:[le],decls:54,vars:2,consts:[[1,"info-container"],[1,"info-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info","active",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"info-content"],[1,"faq-container"],[1,"faq-item"],[1,"whatsapp-container"],["title","Contactar por WhatsApp",1,"whatsapp-btn",3,"click"],[1,"whatsapp-icon"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_("click",function(){return i.goToCatalog()}),c(4,"div",4),H(5,"img",5),a(),c(6,"span"),d(7,"HRK"),a()(),c(8,"nav",6)(9,"a",7),_("click",function(){return i.goToCatalog()}),d(10,"SHOP"),a(),c(11,"a",8),_("click",function(){return i.goToCatalog()}),d(12,"SALE"),a(),c(13,"a",9),_("click",function(){return i.goToInfo()}),d(14,"info"),a()()(),c(15,"div",10)(16,"button",11),_("click",function(){return i.goToCart()}),d(17," \u{1F6D2} "),b(18,MD,2,1,"span",12),a(),c(19,"button",13),_("click",function(){return i.openSearchModal()}),d(20," \u{1F50D} "),a(),c(21,"button",14),_("click",function(){return i.goToHistory()}),d(22," \u{1F4CB} "),a(),c(23,"button",15),_("click",function(){return i.goToProfile()}),H(24,"img",16),c(25,"span",17),d(26,"\u{1F464}"),a()(),c(27,"button",18),_("click",function(){return i.logout()}),d(28," Cerrar Sesi\xF3n "),a()()(),c(29,"div",19)(30,"h1"),d(31,"Preguntas Frecuentes"),a(),c(32,"div",20)(33,"div",21)(34,"h2"),d(35,"\xBFC\xF3mo comprar?"),a(),c(36,"p"),d(37,"Para realizar un pedido, debe agregarse los elementos del cat\xE1logo en talle y color seleccionados. Una vez agregados deber\xE1 dirigirse al carrito para verificar y confirmar el pedido."),a(),c(38,"p"),d(39,"Una copia de su orden de compra ser\xE1 enviada por mail y la misma ser\xE1 compromiso de compra."),a()(),c(40,"div",21)(41,"h2"),d(42,"\xBFNecesitas ayuda?"),a(),c(43,"p"),d(44,"Comun\xEDcate al "),c(45,"strong"),d(46,"11-3255-0195"),a()(),c(47,"div",22)(48,"button",23),_("click",function(){return i.goToWhatsApp()}),c(49,"span",24),d(50,"\u{1F4F1}"),a(),c(51,"span"),d(52,"Contactar por WhatsApp"),a()()()()()(),b(53,DD,11,3,"div",25),a()),o&2&&(p(18),g("ngIf",i.cartItemCount>0),p(35),g("ngIf",i.showSearchModal))},dependencies:[ge,ke,_e,ve,we,Pe,be],styles:[".info-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.info-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.nav-item.active[_ngcontent-%COMP%]{background:#fff3;padding:4px 8px;border-radius:4px}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;min-width:20px;border:2px solid black;box-shadow:0 2px 4px #0000004d}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.history-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;padding:8px;border-radius:4px;transition:background-color .3s}.history-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.icon-btn.user-icon[_ngcontent-%COMP%]{background:transparent!important;border:none!important;cursor:pointer;padding:0!important;border-radius:6px;transition:all .3s;display:flex;align-items:center;justify-content:center;width:47.5px;height:47.5px}.user-icon[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.05)}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.info-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:40px 20px;text-align:center}.info-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;color:#333;margin-bottom:40px;font-weight:600}.faq-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px;max-width:600px;margin:0 auto}.faq-item[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:30px;box-shadow:0 4px 12px #0000001a;border:1px solid #e1e5e9;transition:transform .3s,box-shadow .3s}.faq-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00000026}.faq-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:20px;font-weight:700;text-align:center}.faq-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;color:#666;margin-bottom:15px;text-align:left}.faq-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.whatsapp-container[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.whatsapp-btn[_ngcontent-%COMP%]{background:#25d366;color:#fff;border:none;padding:15px 25px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:10px;transition:all .3s;box-shadow:0 2px 8px #25d3664d}.whatsapp-btn[_ngcontent-%COMP%]:hover{background:#20b358;transform:translateY(-2px);box-shadow:0 4px 12px #25d36666}.whatsapp-icon[_ngcontent-%COMP%]{font-size:20px}@media (max-width: 1024px){.header-left[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%]{gap:10px}.nav-item[_ngcontent-%COMP%]{font-size:13px}.header-right[_ngcontent-%COMP%]{gap:8px}.icon-btn[_ngcontent-%COMP%]{font-size:16px;padding:6px}}@media (max-width: 768px){.info-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px;padding:15px}.header-left[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:10px}.header-right[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap;gap:8px}.main-nav[_ngcontent-%COMP%]{justify-content:center;gap:10px}.info-content[_ngcontent-%COMP%]{padding:20px 15px}.info-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:30px}.faq-item[_ngcontent-%COMP%]{padding:20px}.faq-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.faq-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.whatsapp-btn[_ngcontent-%COMP%]{padding:12px 20px;font-size:.9rem}}@media (max-width: 480px){.info-header[_ngcontent-%COMP%]{margin:5px;padding:10px}.header-left[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:8px}.main-nav[_ngcontent-%COMP%]{gap:8px}.nav-item[_ngcontent-%COMP%]{font-size:12px;padding:4px 8px}.header-right[_ngcontent-%COMP%]{gap:5px}.icon-btn[_ngcontent-%COMP%]{font-size:14px;padding:4px}.logout-btn[_ngcontent-%COMP%]{font-size:11px;padding:6px 8px}.info-content[_ngcontent-%COMP%]{padding:15px 10px}.info-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}.faq-item[_ngcontent-%COMP%]{padding:15px}.faq-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem}.faq-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.whatsapp-btn[_ngcontent-%COMP%]{padding:10px 16px;font-size:.85rem}}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}"]})}}return t})();function SD(t,n){if(t&1){let e=S();c(0,"button",23),_("click",function(){x(e);let i=h();return C(i.editProfile())}),d(1," Editar Perfil "),a()}}function OD(t,n){if(t&1){let e=S();c(0,"button",24),_("click",function(){x(e);let i=h();return C(i.viewOrderHistory())}),d(1," Ver Historial de Pedidos "),a()}}function ID(t,n){if(t&1){let e=S();c(0,"button",25),_("click",function(){x(e);let i=h();return C(i.goToDashboards())}),c(1,"span",26),d(2,"Ver m\xE9tricas del negocio"),a(),c(3,"span",27),d(4,"\u{1F4CA}"),a()()}}function TD(t,n){if(t&1){let e=S();c(0,"button",25),_("click",function(){x(e);let i=h();return C(i.goToManageProducts())}),c(1,"span",26),d(2,"Gestionar art\xEDculos"),a(),c(3,"span",28),d(4,"\u{1F457}"),a()()}}function kD(t,n){if(t&1){let e=S();c(0,"button",29),_("click",function(){x(e);let i=h();return C(i.logout())}),d(1," Cerrar Sesi\xF3n "),a()}}function RD(t,n){if(t&1){let e=S();c(0,"div",30)(1,"label",31),d(2,"Ver productos ocultos en el cat\xE1logo:"),a(),c(3,"label",34)(4,"input",35),_("change",function(i){x(e);let r=h(2);return C(r.toggleVerProductosOcultos(i))}),a(),c(5,"span"),d(6,"Ver productos ocultos"),a()()()}if(t&2){let e=h(2);p(4),g("checked",e.verProductosOcultos)}}function AD(t,n){if(t&1){let e=S();c(0,"div",30)(1,"button",24),_("click",function(){x(e);let i=h(2);return C(i.cambiarRol())}),d(2),a()()}if(t&2){let e=h(2);p(2),w(" Cambiar a ",(e.user==null?null:e.user.tipoUsuario)==="CLIENTE"?"ADMIN":"CLIENTE"," ")}}function ND(t,n){if(t&1&&(ma(0),c(1,"div",30)(2,"span",31),d(3,"Usuario:"),a(),c(4,"span",32),d(5),a()(),c(6,"div",30)(7,"span",31),d(8,"Email:"),a(),c(9,"span",32),d(10),a()(),c(11,"div",30)(12,"span",31),d(13,"Miembro desde:"),a(),c(14,"span",32),d(15),a()(),c(16,"div",30)(17,"span",31),d(18,"Rol actual:"),a(),c(19,"span",32),d(20),a()(),c(21,"div",30)(22,"span",31),d(23,"CUIT:"),a(),c(24,"span",32),d(25),a()(),b(26,RD,7,1,"div",33)(27,AD,3,1,"div",33),_a()),t&2){let e=h();p(5),P((e.user==null?null:e.user.nombreRazonSocial)||"N/A"),p(5),P((e.user==null?null:e.user.email)||"N/A"),p(5),P(e.memberSince),p(5),P((e.user==null?null:e.user.tipoUsuario)||"N/A"),p(5),P((e.user==null?null:e.user.cuit)||"N/A"),p(),g("ngIf",e.authService.isAdmin()),p(),g("ngIf",!e.editando&&e.mostrarBotonCambioRol)}}function FD(t,n){if(t&1&&(c(0,"div",49),d(1),a()),t&2){let e=h(2);p(),w(" ",e.error," ")}}function VD(t,n){t&1&&(c(0,"span"),d(1,"Guardar Cambios"),a())}function LD(t,n){t&1&&(c(0,"span"),d(1,"Guardando..."),a())}function jD(t,n){if(t&1){let e=S();ma(0),c(1,"div",36)(2,"div",37)(3,"label",38),d(4,"Nombre / Raz\xF3n Social:"),a(),c(5,"input",39),F("ngModelChange",function(i){x(e);let r=h();return V(r.editForm.nombreRazonSocial,i)||(r.editForm.nombreRazonSocial=i),C(i)}),a()(),c(6,"div",37)(7,"label",40),d(8,"CUIT:"),a(),c(9,"input",41),F("ngModelChange",function(i){x(e);let r=h();return V(r.editForm.cuit,i)||(r.editForm.cuit=i),C(i)}),a()(),c(10,"div",37)(11,"label",42),d(12,"Email:"),a(),H(13,"input",43),c(14,"small",44),d(15,"El email no se puede modificar"),a()(),b(16,FD,2,1,"div",45),c(17,"div",46)(18,"button",47),_("click",function(){x(e);let i=h();return C(i.guardarCambios())}),b(19,VD,2,0,"span",21)(20,LD,2,0,"span",21),a(),c(21,"button",48),_("click",function(){x(e);let i=h();return C(i.cancelarEdicion())}),d(22," Cancelar "),a()()(),_a()}if(t&2){let e=h();p(5),N("ngModel",e.editForm.nombreRazonSocial),g("disabled",e.guardando),p(4),N("ngModel",e.editForm.cuit),g("disabled",e.guardando),p(4),g("value",(e.user==null?null:e.user.email)||""),p(3),g("ngIf",e.error),p(2),g("disabled",e.guardando),p(),g("ngIf",!e.guardando),p(),g("ngIf",e.guardando),p(),g("disabled",e.guardando)}}function UD(t,n){if(t&1&&(c(0,"div",49),d(1),a()),t&2){let e=h(2);p(),w(" ",e.errorCodigo," ")}}function zD(t,n){if(t&1){let e=S();c(0,"div",50),_("click",function(){x(e);let i=h();return C(i.cerrarModalCodigo())}),c(1,"div",51),_("click",function(i){return x(e),C(i.stopPropagation())}),c(2,"div",52)(3,"h3"),d(4,"C\xF3digo de Validaci\xF3n"),a(),c(5,"button",53),_("click",function(){x(e);let i=h();return C(i.cerrarModalCodigo())}),d(6,"\xD7"),a()(),c(7,"div",54)(8,"p"),d(9,"Para cambiar tu rol a "),c(10,"strong"),d(11,"ADMIN"),a(),d(12,", ingresa el c\xF3digo de validaci\xF3n:"),a(),c(13,"div",37)(14,"input",55),F("ngModelChange",function(i){x(e);let r=h();return V(r.codigoValidacion,i)||(r.codigoValidacion=i),C(i)}),_("keyup.enter",function(){x(e);let i=h();return C(i.validarYCambiarRol())}),a(),b(15,UD,2,1,"div",45),a()(),c(16,"div",56)(17,"button",23),_("click",function(){x(e);let i=h();return C(i.validarYCambiarRol())}),d(18," Validar "),a(),c(19,"button",29),_("click",function(){x(e);let i=h();return C(i.cerrarModalCodigo())}),d(20," Cancelar "),a()()()()}if(t&2){let e=h();p(14),N("ngModel",e.codigoValidacion),p(),g("ngIf",e.errorCodigo)}}var Y0=(()=>{class t{constructor(e,o){this.authService=e,this.router=o,this.user=null,this.memberSince="",this.editando=!1,this.editForm={nombreRazonSocial:"",cuit:""},this.guardando=!1,this.error="",this.verProductosOcultos=!1,this.mostrarModalCodigo=!1,this.codigoValidacion="",this.errorCodigo="",this.CODIGO_ADMIN="cascuino",this.mostrarBotonCambioRol=!1,this.verificandoPermisoCambioRol=!1}ngOnInit(){if(this.loadUserData(),this.authService.isAdmin()){let e=localStorage.getItem("verProductosOcultos");this.verProductosOcultos=e==="true"}}loadUserData(){let e=this.authService.getCurrentUser();e?(this.user=e,this.memberSince=this.getMemberSince(),this.actualizarDisponibilidadCambioRol()):this.router.navigate(["/login"])}getMemberSince(){if(this.user&&this.user.fechaCreacion){let i=new Date(this.user.fechaCreacion);return`${["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][i.getMonth()]} ${i.getFullYear()}`}let e=new Date;return`${["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][e.getMonth()]} ${e.getFullYear()}`}goBack(){this.router.navigate(["/catalog"])}editProfile(){this.user&&(this.editando=!0,this.editForm={nombreRazonSocial:this.user.nombreRazonSocial||"",cuit:this.user.cuit||""},this.error="")}cancelarEdicion(){this.editando=!1,this.editForm={nombreRazonSocial:"",cuit:""},this.error=""}guardarCambios(){if(!this.user)return;if(!this.editForm.nombreRazonSocial||this.editForm.nombreRazonSocial.trim().length===0){this.error="El nombre es requerido";return}if(!this.editForm.cuit||this.editForm.cuit.trim().length===0){this.error="El CUIT es requerido";return}this.guardando=!0,this.error="";let e={nombreRazonSocial:this.editForm.nombreRazonSocial.trim(),cuit:this.editForm.cuit.trim()};this.authService.actualizarPerfil(this.user.id,e).subscribe({next:o=>{this.user=o,this.editando=!1,this.guardando=!1,alert("Perfil actualizado exitosamente")},error:o=>{console.error("Error al actualizar perfil:",o),this.error=o.message||"Error al actualizar el perfil",this.guardando=!1}})}logout(){this.authService.logout(),this.router.navigate(["/login"])}viewOrderHistory(){this.router.navigate(["/orders-history"])}goToDashboards(){this.router.navigate(["/dashboards"])}goToManageProducts(){this.router.navigate(["/manage-products"])}toggleVerProductosOcultos(e){this.verProductosOcultos=e.target.checked,localStorage.setItem("verProductosOcultos",this.verProductosOcultos.toString()),console.log("\u{1F535} [PROFILE] Preferencia de ver productos ocultos actualizada:",this.verProductosOcultos)}cambiarRol(){if(!this.user)return;let e=this.user.tipoUsuario==="CLIENTE"?"ADMIN":"CLIENTE";e==="ADMIN"?(this.mostrarModalCodigo=!0,this.codigoValidacion="",this.errorCodigo=""):confirm(`\xBFEst\xE1s seguro que quieres cambiar tu rol a ${e}?`)&&this.ejecutarCambioRol(e)}cerrarModalCodigo(){this.mostrarModalCodigo=!1,this.codigoValidacion="",this.errorCodigo=""}validarYCambiarRol(){if(!this.codigoValidacion||this.codigoValidacion.trim().length===0){this.errorCodigo="Por favor ingresa el c\xF3digo de validaci\xF3n";return}if(this.codigoValidacion.trim().toLowerCase()!==this.CODIGO_ADMIN.toLowerCase()){this.errorCodigo="C\xF3digo incorrecto. Int\xE9ntalo de nuevo.";return}this.cerrarModalCodigo(),confirm("\xBFEst\xE1s seguro que quieres cambiar tu rol a ADMIN?")&&this.ejecutarCambioRol("ADMIN")}ejecutarCambioRol(e){this.user&&this.authService.cambiarRol(this.user.id,e).subscribe({next:o=>{this.user=o,alert(`Rol cambiado exitosamente a ${e}`),this.actualizarDisponibilidadCambioRol()},error:o=>{console.error("Error al cambiar rol:",o),alert("Error al cambiar el rol. Int\xE9ntalo de nuevo.")}})}actualizarDisponibilidadCambioRol(){if(!this.user){this.mostrarBotonCambioRol=!1;return}this.verificandoPermisoCambioRol=!0,this.authService.puedeCambiarRolAAdmin(this.user.id).subscribe({next:e=>{this.mostrarBotonCambioRol=e&&this.user?.tipoUsuario!=="ADMIN",this.verificandoPermisoCambioRol=!1},error:()=>{this.mostrarBotonCambioRol=!1,this.verificandoPermisoCambioRol=!1}})}static{this.\u0275fac=function(o){return new(o||t)(E(fe),E(se))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-profile-page"]],standalone:!0,features:[le],decls:30,vars:10,consts:[[1,"profile-container"],[1,"profile-header"],["title","Volver",1,"back-btn",3,"click"],[1,"page-title"],[1,"separator"],[1,"profile-content"],[1,"profile-card"],[1,"profile-info"],[1,"profile-icon"],[1,"user-avatar"],["src","/images/profile/default-user.png","alt","Usuario",1,"avatar-image"],[1,"user-details"],[1,"user-name"],[1,"user-email"],[1,"action-buttons"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","btn btn-dashboard",3,"click",4,"ngIf"],["class","btn btn-outline",3,"click",4,"ngIf"],[1,"info-card"],[1,"card-title"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-dashboard",3,"click"],[1,"btn-text"],[1,"icon-chart"],[1,"icon-manage"],[1,"btn","btn-outline",3,"click"],[1,"info-row"],[1,"info-label"],[1,"info-value"],["class","info-row",4,"ngIf"],[1,"checkbox-label"],["type","checkbox",3,"change","checked"],[1,"edit-form"],[1,"form-group"],["for","nombreRazonSocial",1,"form-label"],["type","text","id","nombreRazonSocial","name","nombreRazonSocial","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","cuit",1,"form-label"],["type","text","id","cuit","name","cuit","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-label"],["type","email","disabled","",1,"form-control",3,"value"],[1,"form-text"],["class","error-message",4,"ngIf"],[1,"form-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-outline",3,"click","disabled"],[1,"error-message"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],["title","Cerrar",1,"modal-close",3,"click"],[1,"modal-body"],["type","text","placeholder","Ingresa el c\xF3digo","autofocus","",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"modal-footer"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"div",1)(2,"button",2),_("click",function(){return i.goBack()}),d(3," \u2190 "),a(),c(4,"h1",3),d(5,"Mi Perfil"),a()(),H(6,"div",4),c(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),H(12,"img",10),a()(),c(13,"div",11)(14,"h2",12),d(15),a(),c(16,"p",13),d(17),a()()(),c(18,"div",14),b(19,SD,2,0,"button",15)(20,OD,2,0,"button",16)(21,ID,5,0,"button",17)(22,TD,5,0,"button",17)(23,kD,2,0,"button",18),a()(),c(24,"div",19)(25,"h3",20),d(26,"Informaci\xF3n de la cuenta"),a(),b(27,ND,28,7,"ng-container",21)(28,jD,23,10,"ng-container",21),a()()(),b(29,zD,21,2,"div",22)),o&2&&(p(15),P((i.user==null?null:i.user.nombreRazonSocial)||"Usuario"),p(2),P((i.user==null?null:i.user.email)||"email@ejemplo.com"),p(2),g("ngIf",!i.editando),p(),g("ngIf",!i.editando),p(),g("ngIf",!i.editando&&i.authService.isAdmin()),p(),g("ngIf",!i.editando&&i.authService.isAdmin()),p(),g("ngIf",!i.editando),p(4),g("ngIf",!i.editando),p(),g("ngIf",i.editando),p(),g("ngIf",i.mostrarModalCodigo))},dependencies:[ge,_e,ve,we,Pe,Xt,be],styles:['@charset "UTF-8";.profile-container[_ngcontent-%COMP%]{min-height:100vh;background:#f5f5f5;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.profile-header[_ngcontent-%COMP%]{background:#fff;padding:20px;display:flex;align-items:center;gap:15px;box-shadow:0 2px 4px #0000001a}.back-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#333;cursor:pointer;padding:8px;border-radius:4px;transition:background-color .3s}.back-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.page-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#333;margin:0}.separator[_ngcontent-%COMP%]{height:1px;background:#e0e0e0;margin:0}.profile-content[_ngcontent-%COMP%]{padding:20px 15px;max-width:500px;margin:0 auto;display:flex;flex-direction:column;gap:15px}.profile-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000001a;display:flex;flex-direction:column;gap:20px}.profile-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.profile-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.user-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;overflow:hidden;border:2px solid #e3f2fd}.avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.user-details[_ngcontent-%COMP%]{flex:1}.user-name[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#333;margin:0 0 6px}.user-email[_ngcontent-%COMP%]{font-size:14px;color:#666;margin:0}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;border:none;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s;text-align:center;display:flex;align-items:center;justify-content:center;min-height:40px;box-sizing:border-box}.btn-primary[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1565c0;transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#45a049;transform:translateY(-1px)}.btn-dashboard[_ngcontent-%COMP%]{background:#8b5cf6;color:#fff;justify-content:space-between;width:100%;position:relative}.btn-dashboard[_ngcontent-%COMP%]:hover{background:#7c3aed;transform:translateY(-1px)}.btn-dashboard[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{flex:1;text-align:center}.btn-dashboard[_ngcontent-%COMP%]   .icon-chart[_ngcontent-%COMP%]{font-size:18px;position:absolute;right:20px}.btn-outline[_ngcontent-%COMP%]{background:#fff;color:#333;border:1px solid #ddd}.btn-outline[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-color:#bbb}.info-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000001a}.card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#333;margin:0 0 15px}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #f0f0f0}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-label[_ngcontent-%COMP%]{font-size:14px;color:#333;font-weight:500}.info-value[_ngcontent-%COMP%]{font-size:14px;color:#333;text-align:right}@media (max-width: 768px){.profile-content[_ngcontent-%COMP%]{padding:15px 10px;max-width:100%}.profile-card[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]{padding:15px}.profile-info[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:12px}.user-avatar[_ngcontent-%COMP%]{width:50px;height:50px}.user-name[_ngcontent-%COMP%]{font-size:18px}.user-email[_ngcontent-%COMP%]{font-size:13px}.info-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}.info-value[_ngcontent-%COMP%]{text-align:left}}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.form-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.form-control[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:6px;font-size:14px;font-family:inherit;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2}.form-control[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;color:#666;cursor:not-allowed}.form-text[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-top:4px}.error-message[_ngcontent-%COMP%]{padding:10px;background-color:#f8d7da;color:#721c24;border-radius:6px;border:1px solid #f5c6cb;font-size:14px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:14px}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:450px;box-shadow:0 4px 20px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease;max-height:90vh;overflow-y:auto}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:700;color:#333}.modal-close[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;color:#666;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .3s}.modal-close[_ngcontent-%COMP%]:hover{background:#f5f5f5;color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 15px;color:#666;font-size:14px;line-height:1.5}.modal-body[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;font-weight:600}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:10px;padding:20px;border-top:1px solid #e0e0e0;justify-content:flex-end}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:100px}']})}}return t})();function $D(t,n){if(t&1&&(c(0,"span",31),d(1),a()),t&2){let e=h();p(),P(e.cartItemCount)}}function BD(t,n){if(t&1&&(c(0,"option",39),d(1),a()),t&2){let e=n.$implicit;g("value",e.id),p(),Me(" ",e.nombreRazonSocial," (",e.email,") ")}}function HD(t,n){t&1&&(c(0,"div",40),d(1," Cargando usuarios... "),a())}function GD(t,n){if(t&1&&(c(0,"div",41)(1,"strong"),d(2,"Mostrando pedidos de:"),a(),d(3),a()),t&2){let e=h(2);p(3),w(" ",e.selectedUser.nombreRazonSocial," ")}}function WD(t,n){if(t&1){let e=S();c(0,"div",32)(1,"label",33),d(2,"Cliente:"),a(),c(3,"select",34),F("ngModelChange",function(i){x(e);let r=h();return V(r.selectedUserId,i)||(r.selectedUserId=i),C(i)}),_("change",function(){x(e);let i=h();return C(i.onUserChange())}),c(4,"option",35),d(5,"Todos los clientes"),a(),b(6,BD,2,3,"option",36),a(),b(7,HD,2,0,"div",37)(8,GD,4,1,"div",38),a()}if(t&2){let e=h();p(3),N("ngModel",e.selectedUserId),g("disabled",e.loadingUsers),p(3),g("ngForOf",e.usuarios),p(),g("ngIf",e.loadingUsers),p(),g("ngIf",e.selectedUser)}}function qD(t,n){t&1&&(c(0,"div",42)(1,"p"),d(2,"Cargando historial de pedidos..."),a()())}function YD(t,n){if(t&1){let e=S();c(0,"div",43)(1,"p"),d(2),a(),c(3,"button",44),_("click",function(){x(e);let i=h();return C(i.loadPedidos())}),d(4,"Reintentar"),a()()}if(t&2){let e=h();p(2),P(e.error)}}function ZD(t,n){if(t&1){let e=S();c(0,"div",47)(1,"h3"),d(2,"A\xFAn no hay pedidos realizados por el cliente"),a(),c(3,"p"),d(4,"Cuando realices tu primer pedido, aparecer\xE1 aqu\xED."),a(),c(5,"button",48),_("click",function(){x(e);let i=h(2);return C(i.goToCatalog())}),d(6,"Ir al Cat\xE1logo"),a()()}}function KD(t,n){if(t&1&&(c(0,"span"),d(1),a()),t&2){let e=h().$implicit;p(),w(" - ",(e.usuario==null?null:e.usuario.nombreRazonSocial)||"Cliente","")}}function QD(t,n){if(t&1){let e=S();c(0,"div",54)(1,"div",55)(2,"strong"),d(3),a(),b(4,KD,2,1,"span",28),a(),c(5,"div",55),d(6),a(),c(7,"div",55),d(8),a(),c(9,"div",55)(10,"span"),d(11),a()(),c(12,"div",55)(13,"span")(14,"span",56),d(15),a(),d(16),a()(),c(17,"div",55)(18,"button",57),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.verDetallePedido(i.id))}),d(19," \u{1F4CB} Ver "),a()()()}if(t&2){let e=n.$implicit,o=h(3);Mo(o.getRowClass(e.tipo)),Te("data-pedido-id",e.id),p(3),w("#",e.id,""),p(),g("ngIf",!o.selectedUserId),p(2),P(o.formatearFecha(e.fecha)),p(2),P(o.formatearMonto(e.montoTotal)),p(2),Mo(o.getEstadoClass(e.estado)),p(),P(e.estado),p(2),Mo(o.getTipoClass(e.tipo)),p(2),P(o.getTipoIcon(e.tipo)),p(),w(" ",e.tipo," ")}}function JD(t,n){if(t&1&&(c(0,"div",49)(1,"div",50)(2,"div",51),d(3,"ID"),a(),c(4,"div",51),d(5,"FECHA"),a(),c(6,"div",51),d(7,"MONTO"),a(),c(8,"div",51),d(9,"ESTADO"),a(),c(10,"div",51),d(11,"TIPO"),a(),c(12,"div",51),d(13,"ACCI\xD3N"),a()(),c(14,"div",52),b(15,QD,20,14,"div",53),a()()),t&2){let e=h(2);p(15),g("ngForOf",e.pedidosFiltrados)}}function XD(t,n){if(t&1&&(c(0,"div"),b(1,ZD,7,0,"div",45)(2,JD,16,1,"div",46),a()),t&2){let e=h();p(),g("ngIf",e.pedidosFiltrados.length===0),p(),g("ngIf",e.pedidosFiltrados.length>0)}}function eS(t,n){t&1&&(c(0,"div",61),d(1," Selecciona un cliente espec\xEDfico para generar la nota de devoluci\xF3n "),a())}function tS(t,n){if(t&1){let e=S();c(0,"div",58)(1,"button",59),_("click",function(){x(e);let i=h();return C(i.generarNotaDevolucion())}),d(2," Generar nota de devoluci\xF3n "),a(),b(3,eS,2,0,"div",60),a()}if(t&2){let e=h();p(),B("disabled",!e.selectedUserId),g("disabled",!e.selectedUserId),p(2),g("ngIf",!e.selectedUserId)}}function nS(t,n){if(t&1){let e=S();c(0,"div",72),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.scrollToResult(i))}),c(1,"div",73),d(2),a(),c(3,"div",74)(4,"div",75),d(5),a(),c(6,"div",76),d(7),a()()()}if(t&2){let e=n.$implicit;p(2),P(e.type==="pedido"?"\u{1F4CB}":"\u{1F4C4}"),p(3),P(e.title),p(2),P(e.description)}}function oS(t,n){if(t&1&&(c(0,"div",70),b(1,nS,8,3,"div",71),a()),t&2){let e=h(2);p(),g("ngForOf",e.searchResults)}}function iS(t,n){if(t&1&&(c(0,"div",77)(1,"p"),d(2),a()()),t&2){let e=h(2);p(2),w('No se encontraron resultados para "',e.searchTerm,'"')}}function rS(t,n){if(t&1){let e=S();c(0,"div",62),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),c(1,"div",63),_("click",function(i){return x(e),C(i.stopPropagation())}),c(2,"div",64)(3,"h3"),d(4,"Buscar en la p\xE1gina"),a(),c(5,"button",65),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),d(6,"\xD7"),a()(),c(7,"div",66)(8,"input",67),F("ngModelChange",function(i){x(e);let r=h();return V(r.searchTerm,i)||(r.searchTerm=i),C(i)}),_("input",function(){x(e);let i=h();return C(i.performSearch())}),a()(),b(9,oS,2,1,"div",68)(10,iS,3,1,"div",69),a()()}if(t&2){let e=h();p(8),N("ngModel",e.searchTerm),p(),g("ngIf",e.searchResults.length>0),p(),g("ngIf",e.searchTerm&&e.searchResults.length===0)}}var Z0=(()=>{class t{constructor(e,o,i,r,s,l){this.ordersService=e,this.authService=o,this.router=i,this.route=r,this.cartService=s,this.http=l,this.pedidos=[],this.pedidosFiltrados=[],this.filtroFecha="",this.cartItemCount=0,this.loading=!1,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[],this.isAdmin=!1,this.usuarios=[],this.selectedUserId=null,this.selectedUser=null,this.loadingUsers=!1,this.API_URL=Mt}ngOnInit(){this.isAdmin=this.authService.isAdmin(),console.log("\u{1F535} [ORDERS HISTORY] Es admin?",this.isAdmin);let e=this.authService.getCurrentUser();if(console.log("\u{1F535} [ORDERS HISTORY] Usuario actual:",e),!e?.id){this.error="No se pudo identificar al usuario",console.error("\u{1F534} [ORDERS HISTORY] Error: No se pudo obtener usuario ID");return}this.isAdmin?(this.loadUsuarios(),this.clienteId=e.id,this.selectedUserId=e.id,this.selectedUser=e,console.log("\u{1F535} [ORDERS HISTORY] Admin - Cliente ID por defecto:",this.clienteId),this.loadPedidos()):(this.clienteId=e.id,console.log("\u{1F535} [ORDERS HISTORY] Cliente ID obtenido:",this.clienteId),this.loadPedidos()),this.updateCartCount(),this.route.queryParams.subscribe(o=>{(o.payment_status||o.status)&&this.procesarRetornoMercadoPago(o)})}procesarRetornoMercadoPago(e){let o=e.payment_status||e.status,i=e.payment_id||e.collection_id,r=e.external_reference||e.preference_id;if(!r){console.warn("\u{1F7E1} [ORDERS HISTORY] Retorno de MercadoPago sin preference_id ni external_reference");return}console.log("\u{1F535} [ORDERS HISTORY] Procesando retorno de MercadoPago:",{paymentStatus:o,preferenceId:r,external_reference:e.external_reference,preference_id_mp:e.preference_id});let s=this.authService.getToken(),l=new dt({Authorization:`Bearer ${s}`,"Content-Type":"application/json"}),u=`${this.API_URL}/mercadopago/procesar-retorno?preference_id=${r}`;o&&(u+=`&payment_status=${o}`),e.status&&(u+=`&status=${e.status}`),i&&(u+=`&payment_id=${i}`),e.collection_id&&!i&&(u+=`&collection_id=${e.collection_id}`),this.http.get(u,{headers:l}).subscribe({next:f=>{console.log("\u{1F535} [ORDERS HISTORY] Respuesta del backend:",f);let m="";f.message?m=f.message:f.success&&(o==="success"||o==="approved")?m="\u2705 Pago procesado exitosamente. Tu pedido ha sido confirmado.":o==="failure"||o==="rejected"?m="\u274C El pago fue rechazado. Tu pedido ha sido cancelado. Por favor, intenta realizar el pedido nuevamente.":o==="pending"&&(m="\u23F3 Tu pago est\xE1 pendiente. El pedido se confirmar\xE1 autom\xE1ticamente cuando el pago sea procesado."),m&&alert(m),setTimeout(()=>{this.loadPedidos()},1e3)},error:f=>{console.error("\u{1F534} [ORDERS HISTORY] Error al procesar retorno de MercadoPago:",f);let m="\u26A0\uFE0F Se proces\xF3 el retorno de MercadoPago, pero hubo un error al actualizar el pedido. Por favor, verifica el estado del pedido.";(o==="success"||o==="approved")&&(m="\u2705 Pago aprobado. Verificando estado del pedido..."),alert(m),setTimeout(()=>{this.loadPedidos()},1e3)},complete:()=>{this.router.navigate(["/orders-history"],{replaceUrl:!0})}})}loadPedidos(){if(!this.clienteId){this.error="No se pudo identificar al cliente";return}this.loading=!0,this.error=void 0,this.ordersService.getHistorialPorCliente(this.clienteId).subscribe({next:e=>{this.pedidos=e,this.aplicarFiltro(),this.loading=!1,console.log("\u{1F535} [ORDERS HISTORY] Pedidos cargados:",e.length)},error:e=>{console.error("Error al cargar pedidos:",e),this.error="Error al cargar el historial de pedidos",this.loading=!1,this.pedidos=[],this.pedidosFiltrados=[]}})}loadTodosLosPedidos(){this.loading=!0,this.error=void 0,this.ordersService.getTodosLosPedidos().subscribe({next:e=>{this.pedidos=e,this.aplicarFiltro(),this.loading=!1,console.log("\u{1F535} [ORDERS HISTORY] Todos los pedidos cargados:",e.length)},error:e=>{console.error("Error al cargar todos los pedidos:",e),this.error="Error al cargar todos los pedidos",this.loading=!1,this.pedidos=[],this.pedidosFiltrados=[]}})}generarNotaDevolucion(){if(!this.selectedUserId){alert("Por favor selecciona un cliente espec\xEDfico para generar la nota de devoluci\xF3n");return}console.log("\u{1F535} [ORDERS HISTORY] Generando nota de devoluci\xF3n para cliente:",this.selectedUserId),this.router.navigate(["/devolucion"],{queryParams:{clienteId:this.selectedUserId}})}aplicarFiltro(){console.log("\u{1F50D} [FILTRO] Aplicando filtro con fecha:",this.filtroFecha),this.pedidosFiltrados=this.pedidos.filter(e=>{if(!this.filtroFecha)return!0;let o=new Date(e.fecha),i=new Date(this.filtroFecha),r=new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),l=r>=s;return console.log(`\u{1F50D} [FILTRO] Pedido ${e.id}: fecha=${r.toISOString().split("T")[0]}, filtro=${s.toISOString().split("T")[0]}, cumple=${l}`),l}),console.log(`\u{1F50D} [FILTRO] Resultado: ${this.pedidosFiltrados.length} pedidos de ${this.pedidos.length} total`)}onFechaChange(){this.aplicarFiltro()}getEstadoClass(e){switch(e){case $.PENDIENTE:return"estado-pendiente";case $.CONFIRMADO:return"estado-confirmado";case $.ENTREGADO:return"estado-entregado";case $.CANCELADO:return"estado-cancelado";default:return""}}getTipoClass(e){switch(e){case Ne.PEDIDO:return"tipo-pedido";case Ne.DEVOLUCION:return"tipo-devolucion";default:return"tipo-pedido"}}getRowClass(e){switch(e){case Ne.PEDIDO:return"row-pedido";case Ne.DEVOLUCION:return"row-devolucion";default:return"row-pedido"}}getTipoIcon(e){switch(e){case Ne.PEDIDO:return"\u{1F4E6}";case Ne.DEVOLUCION:return"\u21A9\uFE0F";default:return"\u{1F4E6}"}}formatearFecha(e){return e?(e instanceof Date?e:new Date(e)).toLocaleDateString("es-ES"):""}formatearMonto(e){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"ARS",minimumFractionDigits:0}).format(e)}logout(){this.authService.logout(),this.router.navigate(["/login"])}goToCart(){this.router.navigate(["/cart"])}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}verDetallePedido(e){console.log("\u{1F535} [ORDERS HISTORY] Navegando a detalle del pedido:",e),this.router.navigate(["/order-detail",e])}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],this.pedidosFiltrados.forEach(i=>{(i.id.toString().includes(e)||i.estado.toLowerCase().includes(e)||i.tipo.toLowerCase().includes(e)||i.montoTotal.toString().includes(e))&&this.searchResults.push({type:"pedido",title:`Pedido #${i.id}`,description:`${i.estado} - ${i.tipo} - Total: $${i.montoTotal}`,data:i})}),document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p").forEach(i=>{let r=i.textContent?.toLowerCase()||"";r.includes(e)&&r.length>0&&this.searchResults.push({type:"elemento",title:i.textContent?.trim()||"",description:"Elemento encontrado en la p\xE1gina",element:i})})}scrollToResult(e){if(this.closeSearchModal(),e.type==="pedido"){let o=document.querySelector(`[data-pedido-id="${e.data.id}"]`);o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.classList.add("search-highlight"),setTimeout(()=>{o.classList.remove("search-highlight")},2e3))}else e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}loadUsuarios(){this.loadingUsers=!0,console.log("\u{1F535} [ORDERS HISTORY] Cargando usuarios desde la base de datos"),this.authService.getUsuarios().subscribe({next:e=>{this.usuarios=e.filter(o=>o.tipoUsuario==="CLIENTE"||o.tipoUsuario==="ADMIN"),this.loadingUsers=!1,console.log("\u{1F535} [ORDERS HISTORY] Usuarios cargados desde BD:",this.usuarios)},error:e=>{console.error("\u{1F534} [ORDERS HISTORY] Error al cargar usuarios:",e),this.loadingUsers=!1,alert("Error al cargar la lista de usuarios. Por favor, int\xE9ntalo de nuevo.")}})}onUserChange(){this.selectedUserId?(this.selectedUser=this.usuarios.find(e=>e.id===this.selectedUserId)||null,this.clienteId=this.selectedUserId,console.log("\u{1F535} [ORDERS HISTORY] Usuario seleccionado:",this.selectedUser),console.log("\u{1F535} [ORDERS HISTORY] Cliente ID actualizado:",this.clienteId),this.loadPedidos()):(this.selectedUser=null,this.clienteId=void 0,console.log("\u{1F535} [ORDERS HISTORY] Cargando todos los pedidos"),this.loadTodosLosPedidos())}static{this.\u0275fac=function(o){return new(o||t)(E(fn),E(fe),E(se),E(ut),E(ze),E(Ke))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-orders-history-page"]],standalone:!0,features:[le],decls:43,vars:8,consts:[[1,"orders-page-container"],[1,"home-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn","active",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"orders-container"],[1,"page-title"],[1,"filter-section"],["class","user-filter",4,"ngIf"],[1,"date-filter"],["for","fecha",1,"filter-label"],["type","date","id","fecha","placeholder","Selecciona fecha desde",1,"date-input",3,"ngModelChange","change","ngModel"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],[4,"ngIf"],["class","actions-section",4,"ngIf"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"user-filter"],["for","usuario",1,"filter-label"],["id","usuario",1,"user-select",3,"ngModelChange","change","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","loading-indicator",4,"ngIf"],["class","selected-user-info",4,"ngIf"],[3,"value"],[1,"loading-indicator"],[1,"selected-user-info"],[1,"loading-state"],[1,"error-state"],[1,"retry-btn",3,"click"],["class","empty-state",4,"ngIf"],["class","orders-table",4,"ngIf"],[1,"empty-state"],[1,"catalog-btn",3,"click"],[1,"orders-table"],[1,"table-header"],[1,"header-cell"],[1,"table-body"],["class","table-row",3,"class",4,"ngFor","ngForOf"],[1,"table-row"],[1,"table-cell"],[1,"tipo-icon"],["title","Ver Detalle",1,"view-btn",3,"click"],[1,"actions-section"],[1,"devolucion-btn",3,"click","disabled"],["class","devolucion-hint",4,"ngIf"],[1,"devolucion-hint"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_("click",function(){return i.goToCatalog()}),c(4,"div",4),H(5,"img",5),a(),c(6,"span"),d(7,"HRK"),a()(),c(8,"nav",6)(9,"a",7),_("click",function(){return i.goToCatalog()}),d(10,"SHOP"),a(),c(11,"a",8),_("click",function(){return i.goToCatalog()}),d(12,"SALE"),a(),c(13,"a",9),_("click",function(){return i.goToInfo()}),d(14,"info"),a()()(),c(15,"div",10)(16,"button",11),_("click",function(){return i.goToCart()}),d(17," \u{1F6D2} "),b(18,$D,2,1,"span",12),a(),c(19,"button",13),_("click",function(){return i.openSearchModal()}),d(20," \u{1F50D} "),a(),c(21,"button",14),_("click",function(){return i.goToHistory()}),d(22," \u{1F4CB} "),a(),c(23,"button",15),_("click",function(){return i.goToProfile()}),H(24,"img",16),c(25,"span",17),d(26,"\u{1F464}"),a()(),c(27,"button",18),_("click",function(){return i.logout()}),d(28," Cerrar Sesi\xF3n "),a()()(),c(29,"div",19)(30,"h1",20),d(31,"HISTORIAL DE PEDIDOS"),a(),c(32,"div",21),b(33,WD,9,5,"div",22),c(34,"div",23)(35,"label",24),d(36,"Fecha desde:"),a(),c(37,"input",25),F("ngModelChange",function(s){return V(i.filtroFecha,s)||(i.filtroFecha=s),s}),_("change",function(){return i.onFechaChange()}),a()()(),b(38,qD,3,0,"div",26)(39,YD,5,1,"div",27)(40,XD,3,2,"div",28)(41,tS,4,4,"div",29),a(),b(42,rS,11,3,"div",30),a()),o&2&&(p(18),g("ngIf",i.cartItemCount>0),p(15),g("ngIf",i.isAdmin),p(4),N("ngModel",i.filtroFecha),p(),g("ngIf",i.loading),p(),g("ngIf",i.error&&!i.loading),p(),g("ngIf",!i.loading&&!i.error),p(),g("ngIf",i.isAdmin),p(),g("ngIf",i.showSearchModal))},dependencies:[ge,ke,_e,ve,Lt,jt,we,Et,Pe,be],styles:[".orders-page-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.home-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease;transform:rotate(0)}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(0)}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.icon-btn.active[_ngcontent-%COMP%]{background-color:#fff3}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;min-width:20px;border:2px solid black;box-shadow:0 2px 4px #0000004d}.user-icon[_ngcontent-%COMP%]{background:none!important;border:none!important;padding:0!important}.icon-btn.user-icon[_ngcontent-%COMP%]{width:47.5px;height:47.5px;background:transparent!important;border:none!important;cursor:pointer;padding:0!important;border-radius:6px;transition:all .3s;display:flex;align-items:center;justify-content:center}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center;border-radius:50%}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.orders-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:20px;background:#fff;min-height:calc(100vh - 120px)}.page-title[_ngcontent-%COMP%]{text-align:center;font-size:28px;font-weight:700;color:#333;margin-bottom:40px;font-family:serif}.filter-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:30px;padding:20px;background:#f8f9fa;border-radius:8px;flex-wrap:wrap}.filter-label[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:16px}.date-input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #e9ecef;border-radius:6px;font-size:14px;background:#fff;color:#333}.date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea33}.user-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:300px}.date-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:200px;margin-left:auto}.user-select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #e9ecef;border-radius:6px;font-size:14px;background:#fff;min-width:200px;transition:all .3s ease}.user-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea33}.user-select[_ngcontent-%COMP%]:disabled{background:#e9ecef;color:#6c757d;cursor:not-allowed}.loading-indicator[_ngcontent-%COMP%]{color:#6c757d;font-style:italic;font-size:11px;white-space:nowrap;margin-top:5px}.selected-user-info[_ngcontent-%COMP%]{background:#d4edda;border:1px solid #c3e6cb;border-radius:4px;padding:4px 8px;color:#155724;font-size:11px;white-space:nowrap;margin-top:5px}.orders-table[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a;margin-bottom:30px}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 1fr 1fr 1fr 1fr 120px;background:#333;color:#fff;font-weight:700;text-align:center}.header-cell[_ngcontent-%COMP%]{padding:15px;font-size:14px;text-transform:uppercase;letter-spacing:.5px}.table-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 1fr 1fr 1fr 1fr 120px;border-bottom:1px solid #e9ecef;transition:all .2s}.table-row[_ngcontent-%COMP%]:hover{transform:translate(2px);box-shadow:-2px 0 0 0 currentColor}.table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.table-row.row-pedido[_ngcontent-%COMP%]{background:linear-gradient(to right,#007bff0a,#fff0 3px);border-left:3px solid #007bff}.table-row.row-pedido[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#007bff14,#fff0 3px);box-shadow:-3px 0 #007bff}.table-row.row-devolucion[_ngcontent-%COMP%]{background:linear-gradient(to right,#6f42c10a,#fff0 3px);border-left:3px solid #8e44ad}.table-row.row-devolucion[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#6f42c114,#fff0 3px);box-shadow:-3px 0 #8e44ad}.table-cell[_ngcontent-%COMP%]{padding:15px;display:flex;align-items:center;justify-content:center;text-align:center;font-size:14px;color:#333}.estado-pendiente[_ngcontent-%COMP%]{color:#ffc107;font-weight:500;background:#ffc1071a;padding:4px 8px;border-radius:12px;border:1px solid rgba(255,193,7,.3)}.estado-confirmado[_ngcontent-%COMP%]{color:#17a2b8;font-weight:500;background:#17a2b81a;padding:4px 8px;border-radius:12px;border:1px solid rgba(23,162,184,.3)}.estado-entregado[_ngcontent-%COMP%]{color:#28a745;font-weight:500;background:#28a7451a;padding:4px 8px;border-radius:12px;border:1px solid rgba(40,167,69,.3)}.estado-cancelado[_ngcontent-%COMP%]{color:#dc3545;font-weight:500;background:#dc35451a;padding:4px 8px;border-radius:12px;border:1px solid rgba(220,53,69,.3)}.tipo-pedido[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;border:none;padding:5px 12px;border-radius:16px;font-size:12px;font-weight:500;cursor:default;display:inline-flex;align-items:center;gap:5px;box-shadow:0 1px 3px #007bff40}.tipo-pedido[_ngcontent-%COMP%]   .tipo-icon[_ngcontent-%COMP%]{font-size:14px}.tipo-devolucion[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8e44ad,#6f42c1);color:#fff;border:none;padding:5px 12px;border-radius:16px;font-size:12px;font-weight:500;cursor:default;display:inline-flex;align-items:center;gap:5px;box-shadow:0 1px 3px #8e44ad4d}.tipo-devolucion[_ngcontent-%COMP%]   .tipo-icon[_ngcontent-%COMP%]{font-size:14px}.view-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:8px 12px;border-radius:4px;font-size:12px;font-weight:500;cursor:pointer;transition:all .2s}.view-btn[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px)}.view-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.actions-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px}.devolucion-btn[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:12px 24px;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s}.devolucion-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#3958e4;transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.devolucion-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.devolucion-btn[_ngcontent-%COMP%]:disabled, .devolucion-btn.disabled[_ngcontent-%COMP%]{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none;opacity:.6}.devolucion-hint[_ngcontent-%COMP%]{margin-top:8px;font-size:14px;color:#6c757d;font-style:italic;text-align:center}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;padding:0 15px}.main-nav[_ngcontent-%COMP%]{gap:20px}.nav-item[_ngcontent-%COMP%]{font-size:14px;padding:6px 12px}.header-right[_ngcontent-%COMP%]{gap:10px}.orders-container[_ngcontent-%COMP%]{padding:20px 15px}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:30px}.filter-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;grid-template-rows:auto auto}.header-cell[_ngcontent-%COMP%]:nth-child(3), .header-cell[_ngcontent-%COMP%]:nth-child(4), .table-cell[_ngcontent-%COMP%]:nth-child(3), .table-cell[_ngcontent-%COMP%]:nth-child(4){grid-column:1/-1}.table-cell[_ngcontent-%COMP%]:nth-child(3), .table-cell[_ngcontent-%COMP%]:nth-child(4){border-top:1px solid #e9ecef}.actions-section[_ngcontent-%COMP%]{justify-content:center}.devolucion-btn[_ngcontent-%COMP%]{width:100%;max-width:300px}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{padding:0 10px}.orders-container[_ngcontent-%COMP%]{padding:15px 10px}.page-title[_ngcontent-%COMP%]{font-size:20px}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.header-cell[_ngcontent-%COMP%], .table-cell[_ngcontent-%COMP%]{padding:10px}.header-cell[_ngcontent-%COMP%]:nth-child(n+2), .table-cell[_ngcontent-%COMP%]:nth-child(n+2){border-top:1px solid #e9ecef}}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;margin:20px 0}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:16px}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#dc3545;font-size:16px;margin-bottom:20px}.retry-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s}.retry-btn[_ngcontent-%COMP%]:hover{background:#c82333}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:15px;font-size:20px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:30px;font-size:16px}.catalog-btn[_ngcontent-%COMP%]{background:#667eea;color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-weight:600;font-size:16px;transition:all .3s}.catalog-btn[_ngcontent-%COMP%]:hover{background:#5a6fd8;transform:translateY(-2px)}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}"]})}}return t})();function sS(t,n){if(t&1&&(c(0,"span",26),d(1),a()),t&2){let e=h();p(),P(e.cartItemCount)}}function aS(t,n){t&1&&(c(0,"div",27)(1,"p"),d(2,"Cargando detalles del pedido..."),a()())}function cS(t,n){if(t&1){let e=S();c(0,"div",28)(1,"p"),d(2),a(),c(3,"button",29),_("click",function(){x(e);let i=h();return C(i.loadPedido())}),d(4,"Reintentar"),a()()}if(t&2){let e=h();p(2),P(e.error)}}function lS(t,n){if(t&1&&(c(0,"div",35)(1,"label"),d(2,"Tipo de Aprobaci\xF3n:"),a(),c(3,"span"),d(4),a()()),t&2){let e=h(2);p(3),Mo(e.getTipoAprobacionClass(e.pedido.tipoAprobacionDevolucion)),p(),w(" ",e.pedido.tipoAprobacionDevolucion==="APTA"?"\u2705 APTA (Stock Devuelto)":"\u26A0\uFE0F SCRAP (Merma Registrada)"," ")}}function dS(t,n){t&1&&(c(0,"span"),d(1,"\u{1F4CB} Confirmar Pedido"),a())}function uS(t,n){t&1&&(c(0,"span"),d(1,"\u23F3 Procesando..."),a())}function pS(t,n){t&1&&(c(0,"span"),d(1,"\u274C Marcar como Cancelado"),a())}function fS(t,n){t&1&&(c(0,"span"),d(1,"\u23F3 Procesando..."),a())}function gS(t,n){if(t&1){let e=S();c(0,"div",48)(1,"button",49),_("click",function(){x(e);let i=h(3);return C(i.confirmarPedido())}),b(2,dS,2,0,"span",50)(3,uS,2,0,"span",50),a(),c(4,"button",51),_("click",function(){x(e);let i=h(3);return C(i.marcarComoCancelado())}),b(5,pS,2,0,"span",50)(6,fS,2,0,"span",50),a()()}if(t&2){let e=h(3);p(),g("disabled",e.cambiandoEstado),p(),g("ngIf",!e.cambiandoEstado),p(),g("ngIf",e.cambiandoEstado),p(),g("disabled",e.cambiandoEstado||e.isCancelado()||e.isEntregado()),p(),g("ngIf",!e.cambiandoEstado),p(),g("ngIf",e.cambiandoEstado)}}function hS(t,n){t&1&&(c(0,"span"),d(1,"\u2705 Marcar como Entregado"),a())}function mS(t,n){t&1&&(c(0,"span"),d(1,"\u23F3 Procesando..."),a())}function _S(t,n){t&1&&(c(0,"span"),d(1,"\u274C Marcar como Cancelado"),a())}function vS(t,n){t&1&&(c(0,"span"),d(1,"\u23F3 Procesando..."),a())}function xS(t,n){if(t&1){let e=S();c(0,"div",52)(1,"button",53),_("click",function(){x(e);let i=h(3);return C(i.marcarComoEntregado())}),b(2,hS,2,0,"span",50)(3,mS,2,0,"span",50),a(),c(4,"button",51),_("click",function(){x(e);let i=h(3);return C(i.marcarComoCancelado())}),b(5,_S,2,0,"span",50)(6,vS,2,0,"span",50),a()()}if(t&2){let e=h(3);p(),g("disabled",e.cambiandoEstado||e.isEntregado()),p(),g("ngIf",!e.cambiandoEstado),p(),g("ngIf",e.cambiandoEstado),p(),g("disabled",e.cambiandoEstado||e.isCancelado()||e.isEntregado()),p(),g("ngIf",!e.cambiandoEstado),p(),g("ngIf",e.cambiandoEstado)}}function CS(t,n){t&1&&(c(0,"span"),d(1,"\u2705 Marcar como Entregado"),a())}function bS(t,n){t&1&&(c(0,"span"),d(1,"\u23F3 Procesando..."),a())}function yS(t,n){t&1&&(c(0,"span"),d(1,"\u274C Marcar como Cancelado"),a())}function MS(t,n){t&1&&(c(0,"span"),d(1,"\u23F3 Procesando..."),a())}function ES(t,n){if(t&1){let e=S();c(0,"div",52)(1,"button",53),_("click",function(){x(e);let i=h(3);return C(i.marcarComoEntregado())}),b(2,CS,2,0,"span",50)(3,bS,2,0,"span",50),a(),c(4,"button",51),_("click",function(){x(e);let i=h(3);return C(i.marcarComoCancelado())}),b(5,yS,2,0,"span",50)(6,MS,2,0,"span",50),a()()}if(t&2){let e=h(3);p(),g("disabled",e.cambiandoEstado||e.isEntregado()),p(),g("ngIf",!e.cambiandoEstado),p(),g("ngIf",e.cambiandoEstado),p(),g("disabled",e.cambiandoEstado||e.isCancelado()||e.isEntregado()),p(),g("ngIf",!e.cambiandoEstado),p(),g("ngIf",e.cambiandoEstado)}}function wS(t,n){t&1&&(c(0,"span"),d(1,"\u2705 Aprobar como APTA (Devuelve Stock)"),a())}function PS(t,n){t&1&&(c(0,"span"),d(1,"\u23F3 Procesando..."),a())}function DS(t,n){t&1&&(c(0,"span"),d(1,"\u26A0\uFE0F Aprobar como SCRAP (No Devuelve Stock)"),a())}function SS(t,n){t&1&&(c(0,"span"),d(1,"\u23F3 Procesando..."),a())}function OS(t,n){if(t&1){let e=S();c(0,"div",52)(1,"button",55),_("click",function(){x(e);let i=h(4);return C(i.aprobarDevolucionApta())}),b(2,wS,2,0,"span",50)(3,PS,2,0,"span",50),a(),c(4,"button",56),_("click",function(){x(e);let i=h(4);return C(i.aprobarDevolucionScrap())}),b(5,DS,2,0,"span",50)(6,SS,2,0,"span",50),a()()}if(t&2){let e=h(4);p(),g("disabled",e.cambiandoEstado),p(),g("ngIf",!e.cambiandoEstado),p(),g("ngIf",e.cambiandoEstado),p(),g("disabled",e.cambiandoEstado),p(),g("ngIf",!e.cambiandoEstado),p(),g("ngIf",e.cambiandoEstado)}}function IS(t,n){t&1&&(c(0,"div",57)(1,"p",58),d(2,"\u2705 Esta devoluci\xF3n ya ha sido aprobada"),a()())}function TS(t,n){if(t&1&&(c(0,"div",54)(1,"h4"),d(2,"Gestionar Devoluci\xF3n"),a(),b(3,OS,7,6,"div",45)(4,IS,3,0,"div",47),a()),t&2){let e=h(3);p(3),g("ngIf",e.esDevolucionPendiente()),p(),g("ngIf",e.esDevolucionAprobada())}}function kS(t,n){t&1&&(c(0,"span"),d(1,"\u2705 Este pedido ya ha sido entregado"),a())}function RS(t,n){t&1&&(c(0,"span"),d(1,"\u274C Este pedido ha sido cancelado"),a())}function AS(t,n){if(t&1&&(c(0,"div",57)(1,"p",58),b(2,kS,2,0,"span",50)(3,RS,2,0,"span",50),a()()),t&2){let e=h(3);p(2),g("ngIf",e.isEntregado()),p(),g("ngIf",e.isCancelado())}}function NS(t,n){if(t&1&&(c(0,"div",42)(1,"h3"),d(2,"Gestionar Estado del Pedido"),a(),c(3,"div",43)(4,"label"),d(5,"Estado actual: "),c(6,"strong"),d(7),a()(),b(8,gS,7,6,"div",44)(9,xS,7,6,"div",45)(10,ES,7,6,"div",45)(11,TS,5,2,"div",46)(12,AS,4,2,"div",47),a()()),t&2){let e=h(2);p(7),P(e.pedido.estado),p(),g("ngIf",e.esMercadoPagoPendiente()&&!e.esDevolucion()),p(),g("ngIf",e.isConfirmado()&&!e.esMercadoPagoPendiente()&&!e.esDevolucion()),p(),g("ngIf",e.isPendiente()&&!e.esMercadoPagoPendiente()&&!e.esDevolucion()),p(),g("ngIf",e.esDevolucion()&&e.isAdmin),p(),g("ngIf",!e.esDevolucion()&&e.isEntregadoOrCancelado()&&!e.isPendienteOrConfirmado())}}function FS(t,n){t&1&&(c(0,"div",59)(1,"p"),d(2,"No se encontraron items para este pedido."),a()())}function VS(t,n){if(t&1&&(c(0,"h4"),d(1),a()),t&2){let e=h().$implicit;p(),w(" ",e.productoNombre," ")}}function LS(t,n){if(t&1&&(c(0,"h4"),d(1),a()),t&2){let e=h().$implicit;p(),w(" ",e.variante.sku," ")}}function jS(t,n){if(t&1&&(c(0,"h4"),d(1),a()),t&2){let e=h().$implicit;p(),w(" Variante ID: ",e.varianteId," ")}}function US(t,n){if(t&1&&(c(0,"p"),d(1),a()),t&2){let e=h().$implicit;p(),Me(" ",e.variante.color," - Talle ",e.variante.talle," ")}}function zS(t,n){if(t&1&&(c(0,"p"),d(1),a()),t&2){let e=h().$implicit;p(),w(" SKU: ",e.variante.sku," ")}}function $S(t,n){if(t&1&&(c(0,"p"),d(1),a()),t&2){let e=h().$implicit;p(),w(" ID del item: ",e.id," ")}}function BS(t,n){if(t&1&&(c(0,"div",66)(1,"div",67),b(2,VS,2,1,"h4",50)(3,LS,2,1,"h4",50)(4,jS,2,1,"h4",50)(5,US,2,2,"p",50)(6,zS,2,1,"p",50)(7,$S,2,1,"p",50),a(),c(8,"div",68)(9,"label"),d(10,"Cantidad:"),a(),c(11,"div",69),d(12),a()(),c(13,"div",70)(14,"span",71),d(15),a(),c(16,"span",72),d(17),a()()()),t&2){let e=n.$implicit,o=h(3);Te("data-item-id",e.id),p(2),g("ngIf",e.productoNombre),p(),g("ngIf",!e.productoNombre&&e.variante),p(),g("ngIf",!e.productoNombre&&!e.variante),p(),g("ngIf",e.variante),p(),g("ngIf",e.variante),p(),g("ngIf",!e.variante),p(5),P(e.cantidad),p(3),w("",o.formatearMonto(e.precioUnitario)," c/u"),p(2),P(o.formatearMonto(e.subtotal))}}function HS(t,n){if(t&1&&(c(0,"div",60)(1,"div",61),b(2,BS,18,10,"div",62),a(),c(3,"div",63)(4,"div",64)(5,"span",65),d(6,"TOTAL DEL PEDIDO:"),a(),c(7,"span",36),d(8),a()()()()),t&2){let e=h(2);p(2),g("ngForOf",e.pedido.items),p(6),P(e.formatearMonto(e.pedido.montoTotal))}}function GS(t,n){if(t&1&&(c(0,"div",30)(1,"div",31)(2,"div",32)(3,"h2"),d(4),a(),c(5,"span",33),d(6),a()(),c(7,"div",34)(8,"div",35)(9,"label"),d(10,"Fecha:"),a(),c(11,"span"),d(12),a()(),c(13,"div",35)(14,"label"),d(15,"Cliente ID:"),a(),c(16,"span"),d(17),a()(),c(18,"div",35)(19,"label"),d(20,"M\xE9todo de Pago:"),a(),c(21,"span"),d(22),a()(),c(23,"div",35)(24,"label"),d(25,"Total:"),a(),c(26,"span",36),d(27),a()(),c(28,"div",35)(29,"label"),d(30,"Tipo:"),a(),c(31,"span"),d(32),a()(),b(33,lS,5,3,"div",37),a()(),b(34,NS,13,6,"div",38),c(35,"div",39)(36,"h3"),d(37),a(),b(38,FS,3,0,"div",40)(39,HS,9,2,"div",41),a()()),t&2){let e=h();p(4),w("Pedido #",e.pedido.id,""),p(),Mo(e.getEstadoClass(e.pedido.estado)),p(),w(" ",e.pedido.estado," "),p(6),P(e.formatearFecha(e.pedido.fecha)),p(5),Me("",e.pedido.clienteId," - ",(e.pedido.usuario==null?null:e.pedido.usuario.nombreRazonSocial)||"SIN NOMBRE",""),p(5),P(e.pedido.metodoPago||"No especificado"),p(5),P(e.formatearMonto(e.pedido.montoTotal)),p(5),P(e.pedido.tipo),p(),g("ngIf",e.esDevolucion()&&e.pedido.tipoAprobacionDevolucion),p(),g("ngIf",e.isAdmin),p(3),w("Items del Pedido (",e.getCantidadItems(),")"),p(),g("ngIf",!e.pedido.items||e.pedido.items.length===0),p(),g("ngIf",e.pedido.items&&e.pedido.items.length>0)}}function WS(t,n){if(t&1){let e=S();c(0,"div",83),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.scrollToResult(i))}),c(1,"div",84),d(2),a(),c(3,"div",85)(4,"div",86),d(5),a(),c(6,"div",87),d(7),a()()()}if(t&2){let e=n.$implicit;p(2),P(e.type==="item"?"\u{1F6CD}\uFE0F":"\u{1F4C4}"),p(3),P(e.title),p(2),P(e.description)}}function qS(t,n){if(t&1&&(c(0,"div",81),b(1,WS,8,3,"div",82),a()),t&2){let e=h(2);p(),g("ngForOf",e.searchResults)}}function YS(t,n){if(t&1&&(c(0,"div",88)(1,"p"),d(2),a()()),t&2){let e=h(2);p(2),w('No se encontraron resultados para "',e.searchTerm,'"')}}function ZS(t,n){if(t&1){let e=S();c(0,"div",73),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),c(1,"div",74),_("click",function(i){return x(e),C(i.stopPropagation())}),c(2,"div",75)(3,"h3"),d(4,"Buscar en la p\xE1gina"),a(),c(5,"button",76),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),d(6,"\xD7"),a()(),c(7,"div",77)(8,"input",78),F("ngModelChange",function(i){x(e);let r=h();return V(r.searchTerm,i)||(r.searchTerm=i),C(i)}),_("input",function(){x(e);let i=h();return C(i.performSearch())}),a()(),b(9,qS,2,1,"div",79)(10,YS,3,1,"div",80),a()()}if(t&2){let e=h();p(8),N("ngModel",e.searchTerm),p(),g("ngIf",e.searchResults.length>0),p(),g("ngIf",e.searchTerm&&e.searchResults.length===0)}}var K0=(()=>{class t{constructor(e,o,i,r,s){this.ordersService=e,this.authService=o,this.router=i,this.route=r,this.cartService=s,this.loading=!1,this.cartItemCount=0,this.cambiandoEstado=!1,this.isAdmin=!1,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}ngOnInit(){this.isAdmin=this.authService.isAdmin(),console.log("\u{1F535} [ORDER DETAIL] Es admin?",this.isAdmin),this.route.params.subscribe(e=>{this.pedidoId=+e.id,console.log("\u{1F535} [ORDER DETAIL] Pedido ID:",this.pedidoId),this.loadPedido()}),this.updateCartCount()}loadPedido(){if(!this.pedidoId){this.error="ID de pedido no v\xE1lido";return}this.loading=!0,this.error=void 0,this.ordersService.getPedidoPorId(this.pedidoId).subscribe({next:e=>{console.log("\u{1F535} [ORDER DETAIL] Pedido obtenido:",e),this.pedido=e,console.log("\u{1F535} [ORDER DETAIL] Usuario del pedido:",this.pedido.usuario),console.log("\u{1F535} [ORDER DETAIL] M\xE9todo de pago:",this.pedido.metodoPago),this.loading=!1},error:e=>{console.error("\u{1F534} [ORDER DETAIL] Error al cargar pedido:",e),this.error="Pedido no encontrado",this.loading=!1}})}marcarComoEntregado(){!this.pedido||this.pedido.estado===$.ENTREGADO||(this.cambiandoEstado=!0,console.log("\u{1F535} [ORDER DETAIL] Marcando pedido como entregado:",this.pedido.id),this.ordersService.cambiarEstadoPedido(this.pedido.id,$.ENTREGADO).subscribe({next:e=>{console.log("\u{1F535} [ORDER DETAIL] Pedido marcado como entregado:",e),this.pedido.estado=$.ENTREGADO,this.cambiandoEstado=!1,alert(`\u2705 Pedido #${this.pedido?.id} marcado como entregado exitosamente`)},error:e=>{console.error("\u{1F534} [ORDER DETAIL] Error al marcar como entregado:",e),this.cambiandoEstado=!1;let o="Error al marcar el pedido como entregado.";e.status===500?o="Error interno del servidor. Por favor, int\xE9ntalo de nuevo m\xE1s tarde.":e.status===404&&(o="Pedido no encontrado."),alert(`\u274C ${o}`)}}))}marcarComoCancelado(){if(!this.pedido||this.pedido.estado===$.CANCELADO||this.pedido.estado===$.ENTREGADO){this.pedido?.estado===$.ENTREGADO&&alert("\u274C No se pueden cancelar pedidos que ya est\xE1n ENTREGADOS");return}let e="";if(this.pedido.estado===$.CONFIRMADO?e=`\xBFEst\xE1s seguro de que quieres cancelar el pedido #${this.pedido.id}?

\u26A0\uFE0F Este pedido est\xE1 CONFIRMADO, por lo que se restaurar\xE1 el stock descontado.

Esta acci\xF3n no se puede deshacer.`:e=`\xBFEst\xE1s seguro de que quieres cancelar el pedido #${this.pedido.id}?

Este pedido est\xE1 en estado ${this.pedido.estado}, por lo que no se restaurar\xE1 stock (nunca se hab\xEDa descontado).

Esta acci\xF3n no se puede deshacer.`,!confirm(e))return;this.cambiandoEstado=!0,console.log("\u{1F535} [ORDER DETAIL] Marcando pedido como cancelado:",this.pedido.id);let i=this.pedido.estado;this.ordersService.cambiarEstadoPedido(this.pedido.id,$.CANCELADO).subscribe({next:r=>{console.log("\u{1F535} [ORDER DETAIL] Pedido marcado como cancelado:",r),this.pedido.estado=$.CANCELADO,this.cambiandoEstado=!1;let s=i===$.CONFIRMADO?`\u2705 Pedido #${this.pedido?.id} cancelado exitosamente. Stock restaurado.`:`\u2705 Pedido #${this.pedido?.id} cancelado exitosamente.`;alert(s)},error:r=>{console.error("\u{1F534} [ORDER DETAIL] Error al marcar como cancelado:",r),this.cambiandoEstado=!1;let s="Error al marcar el pedido como cancelado.";r.status===500?s="Error interno del servidor. Por favor, int\xE9ntalo de nuevo m\xE1s tarde.":r.status===404?s="Pedido no encontrado.":r.status===400&&(s=r.error?.error||"No se puede cancelar el pedido en su estado actual."),alert(`\u274C ${s}`)}})}formatearFecha(e){if(!e)return"";let o=e instanceof Date?e:new Date(e);return o.toLocaleDateString("es-ES")+" "+o.toLocaleTimeString("es-ES")}formatearMonto(e){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"ARS",minimumFractionDigits:0}).format(e)}getCantidadItems(){return!this.pedido||!Array.isArray(this.pedido.items)?0:this.pedido.items.length}getEstadoClass(e){switch(e){case $.PENDIENTE:return"estado-pendiente";case $.ENTREGADO:return"estado-entregado";case $.CANCELADO:return"estado-cancelado";default:return""}}getTipoAprobacionClass(e){return e==="APTA"?"tipo-aprobacion-apta":"tipo-aprobacion-scrap"}isPendiente(){return this.pedido?.estado===$.PENDIENTE}isConfirmado(){return this.pedido?.estado===$.CONFIRMADO}isEntregado(){return this.pedido?.estado===$.ENTREGADO}isCancelado(){return this.pedido?.estado===$.CANCELADO}isPendienteOrConfirmado(){return this.isPendiente()||this.isConfirmado()}isEntregadoOrCancelado(){return this.isEntregado()||this.isCancelado()}esDevolucion(){return this.pedido?.tipo===Ne.DEVOLUCION}esMercadoPagoPendiente(){if(!this.pedido)return!1;let e=this.pedido.metodoPago?.toLowerCase()||"";return(e.includes("mercadopago")||e.includes("mercado_pago")||e.includes("mercado pago"))&&(this.isPendiente()||this.pedido.estado===$.PENDIENTE)}confirmarPedido(){!this.pedido||!this.esMercadoPagoPendiente()||!confirm(`\xBFConfirmar el pedido #${this.pedido.id}?

Esta acci\xF3n confirmar\xE1 el pedido y descontar\xE1 el stock.`)||(this.cambiandoEstado=!0,console.log("\u{1F535} [ORDER DETAIL] Confirmando pedido MercadoPago:",this.pedido.id),this.ordersService.cambiarEstadoPedido(this.pedido.id,$.CONFIRMADO).subscribe({next:o=>{console.log("\u{1F535} [ORDER DETAIL] Pedido confirmado:",o),this.pedido.estado=$.CONFIRMADO,this.cambiandoEstado=!1,alert(`\u2705 Pedido #${this.pedido?.id} confirmado exitosamente`),this.loadPedido()},error:o=>{console.error("\u{1F534} [ORDER DETAIL] Error al confirmar pedido:",o),this.cambiandoEstado=!1;let i="Error al confirmar el pedido.";o.status===500?i="Error interno del servidor. Por favor, int\xE9ntalo de nuevo m\xE1s tarde.":o.status===404?i="Pedido no encontrado.":o.status===400&&(i=o.error?.error||"No se puede confirmar el pedido en su estado actual."),alert(`\u274C ${i}`)}}))}esDevolucionAprobada(){return this.esDevolucion()&&this.pedido?.estado===$.CONFIRMADO}esDevolucionPendiente(){return this.esDevolucion()&&this.pedido?.estado!==$.CONFIRMADO}aprobarDevolucionApta(){if(!this.pedido||!this.esDevolucion())return;if(this.pedido.estado===$.CONFIRMADO){alert("\u26A0\uFE0F Esta devoluci\xF3n ya ha sido aprobada");return}confirm(`\xBFAprobar esta devoluci\xF3n como APTA?

\u2705 El stock ser\xE1 devuelto al inventario.
Esta acci\xF3n cambiar\xE1 el estado de la devoluci\xF3n.`)&&(this.cambiandoEstado=!0,console.log("\u{1F535} [ORDER DETAIL] Aprobando devoluci\xF3n como apta:",this.pedido.id),this.ordersService.aprobarDevolucionApta(this.pedido.id).subscribe({next:o=>{console.log("\u2705 [ORDER DETAIL] Devoluci\xF3n aprobada como apta:",o),this.pedido.estado=$.CONFIRMADO,this.cambiandoEstado=!1,alert("\u2705 Devoluci\xF3n aprobada como APTA. Stock devuelto al inventario."),this.loadPedido()},error:o=>{console.error("\u{1F534} [ORDER DETAIL] Error al aprobar devoluci\xF3n:",o),this.cambiandoEstado=!1;let i="Error al aprobar la devoluci\xF3n.";o.status===500?i="Error interno del servidor.":o.status===400&&(i=o.error?.error||"No es una devoluci\xF3n v\xE1lida."),alert(`\u274C ${i}`)}}))}aprobarDevolucionScrap(){if(!this.pedido||!this.esDevolucion())return;if(this.pedido.estado===$.CONFIRMADO){alert("\u26A0\uFE0F Esta devoluci\xF3n ya ha sido aprobada");return}confirm(`\xBFAprobar esta devoluci\xF3n como SCRAP?

\u26A0\uFE0F El stock NO ser\xE1 devuelto al inventario.
Solo se registrar\xE1 como desperfecto/merma.

\xBFContinuar?`)&&(this.cambiandoEstado=!0,console.log("\u{1F535} [ORDER DETAIL] Aprobando devoluci\xF3n como scrap:",this.pedido.id),this.ordersService.aprobarDevolucionScrap(this.pedido.id).subscribe({next:o=>{console.log("\u2705 [ORDER DETAIL] Devoluci\xF3n aprobada como scrap:",o),this.pedido.estado=$.CONFIRMADO,this.cambiandoEstado=!1,alert("\u26A0\uFE0F Devoluci\xF3n aprobada como SCRAP. Stock NO devuelto (registrado como merma)."),this.loadPedido()},error:o=>{console.error("\u{1F534} [ORDER DETAIL] Error al aprobar devoluci\xF3n:",o),this.cambiandoEstado=!1;let i="Error al aprobar la devoluci\xF3n.";o.status===500?i="Error interno del servidor.":o.status===400&&(i=o.error?.error||"No es una devoluci\xF3n v\xE1lida."),alert(`\u274C ${i}`)}}))}logout(){this.authService.logout(),this.router.navigate(["/login"])}goToCart(){this.router.navigate(["/cart"])}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],this.pedido?.items&&this.pedido.items.forEach(i=>{let r=i.productoNombre?.toLowerCase()||"",s=i.variante?.sku?.toLowerCase()||"",l=i.variante?.color?.toLowerCase()||"",u=i.variante?.talle?.toLowerCase()||"";(r.includes(e)||s.includes(e)||l.includes(e)||u.includes(e))&&this.searchResults.push({type:"item",title:i.productoNombre||"Producto sin nombre",description:`${i.variante?.color||"Sin color"} - Talle ${i.variante?.talle||"Sin talle"} - SKU: ${i.variante?.sku||"Sin SKU"}`,data:i})}),this.pedido&&(this.pedido.id.toString().includes(e)||this.pedido.estado.toLowerCase().includes(e)||this.pedido.tipo.toLowerCase().includes(e)||this.pedido.montoTotal.toString().includes(e))&&this.searchResults.push({type:"pedido",title:`Pedido #${this.pedido.id}`,description:`${this.pedido.estado} - ${this.pedido.tipo} - Total: $${this.pedido.montoTotal}`,data:this.pedido}),document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p").forEach(i=>{let r=i.textContent?.toLowerCase()||"";r.includes(e)&&r.length>0&&this.searchResults.push({type:"elemento",title:i.textContent?.trim()||"",description:"Elemento encontrado en la p\xE1gina",element:i})})}scrollToResult(e){if(this.closeSearchModal(),e.type==="item"){let o=document.querySelector(`[data-item-id="${e.data.id}"]`);o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.classList.add("search-highlight"),setTimeout(()=>{o.classList.remove("search-highlight")},2e3))}else e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}static{this.\u0275fac=function(o){return new(o||t)(E(fn),E(fe),E(se),E(ut),E(ze))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-order-detail-page"]],standalone:!0,features:[le],decls:38,vars:5,consts:[[1,"order-detail-page-container"],[1,"home-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn","active",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"order-detail-container"],[1,"back-btn",3,"click"],[1,"page-title"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","order-detail",4,"ngIf"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"loading-state"],[1,"error-state"],[1,"retry-btn",3,"click"],[1,"order-detail"],[1,"order-info-card"],[1,"info-header"],[1,"current-status"],[1,"info-grid"],[1,"info-item"],[1,"total-amount"],["class","info-item",4,"ngIf"],["class","status-change-card",4,"ngIf"],[1,"items-card"],["class","no-items",4,"ngIf"],["class","items-list",4,"ngIf"],[1,"status-change-card"],[1,"status-controls"],["class","quick-actions confirm-actions",4,"ngIf"],["class","quick-actions",4,"ngIf"],["class","devolucion-actions",4,"ngIf"],["class","status-info",4,"ngIf"],[1,"quick-actions","confirm-actions"],[1,"confirm-btn",3,"click","disabled"],[4,"ngIf"],[1,"cancel-btn",3,"click","disabled"],[1,"quick-actions"],[1,"deliver-btn",3,"click","disabled"],[1,"devolucion-actions"],[1,"apta-btn",3,"click","disabled"],[1,"scrap-btn",3,"click","disabled"],[1,"status-info"],[1,"status-message"],[1,"no-items"],[1,"items-list"],[1,"cart-items"],["class","cart-item order-item",4,"ngFor","ngForOf"],[1,"cart-total"],[1,"total-line"],[1,"total-label"],[1,"cart-item","order-item"],[1,"item-info"],[1,"item-quantity"],[1,"quantity-display"],[1,"item-price"],[1,"unit-price"],[1,"subtotal"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_("click",function(){return i.goToCatalog()}),c(4,"div",4),H(5,"img",5),a(),c(6,"span"),d(7,"HRK"),a()(),c(8,"nav",6)(9,"a",7),_("click",function(){return i.goToCatalog()}),d(10,"SHOP"),a(),c(11,"a",8),_("click",function(){return i.goToCatalog()}),d(12,"SALE"),a(),c(13,"a",9),_("click",function(){return i.goToInfo()}),d(14,"info"),a()()(),c(15,"div",10)(16,"button",11),_("click",function(){return i.goToCart()}),d(17," \u{1F6D2} "),b(18,sS,2,1,"span",12),a(),c(19,"button",13),_("click",function(){return i.openSearchModal()}),d(20," \u{1F50D} "),a(),c(21,"button",14),_("click",function(){return i.goToHistory()}),d(22," \u{1F4CB} "),a(),c(23,"button",15),_("click",function(){return i.goToProfile()}),H(24,"img",16),c(25,"span",17),d(26,"\u{1F464}"),a()(),c(27,"button",18),_("click",function(){return i.logout()}),d(28," Cerrar Sesi\xF3n "),a()()(),c(29,"div",19)(30,"button",20),_("click",function(){return i.goToHistory()}),d(31,"\u2190 Volver al Historial"),a(),c(32,"h1",21),d(33,"DETALLE DEL PEDIDO"),a(),b(34,aS,3,0,"div",22)(35,cS,5,1,"div",23)(36,GS,40,15,"div",24),a(),b(37,ZS,11,3,"div",25),a()),o&2&&(p(18),g("ngIf",i.cartItemCount>0),p(16),g("ngIf",i.loading),p(),g("ngIf",i.error&&!i.loading),p(),g("ngIf",i.pedido&&!i.loading&&!i.error),p(),g("ngIf",i.showSearchModal))},dependencies:[ge,ke,_e,ve,we,Pe,be],styles:['.order-detail-page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8f9fa}.home-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:transparent;display:flex;align-items:center;justify-content:center;position:relative;margin-top:-8px;margin-bottom:-8px;z-index:5}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;border:3px solid white;box-shadow:0 4px 12px #0006;transition:all .3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 16px #00000080}.hk-logo[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:12px;font-family:Arial,sans-serif;letter-spacing:1px;position:relative;display:flex;align-items:center;justify-content:center}.hk-logo[_ngcontent-%COMP%]:before{content:"";position:absolute;width:28px;height:28px;border:2px solid white;border-radius:50%;border-top-color:transparent;transform:rotate(-15deg);top:50%;left:50%;transform:translate(-50%,-50%) rotate(-15deg)}.hk-logo[_ngcontent-%COMP%]:after{content:"";position:absolute;width:28px;height:28px;border:2px solid white;border-radius:50%;border-bottom-color:transparent;transform:rotate(-15deg);top:50%;left:50%;transform:translate(-50%,-50%) rotate(-15deg)}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.icon-btn.active[_ngcontent-%COMP%]{background:#fff3}.icon-btn.user-icon[_ngcontent-%COMP%]{background:transparent!important;border:none!important;cursor:pointer;padding:0!important;border-radius:6px;transition:all .3s;display:flex;align-items:center;justify-content:center;width:47.5px;height:47.5px}.user-icon[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.05)}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;min-width:20px;border:2px solid black;box-shadow:0 2px 4px #0000004d}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.order-detail-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.back-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;margin-bottom:20px;font-size:14px}.back-btn[_ngcontent-%COMP%]:hover{background:#0056b3}.order-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.order-info-card[_ngcontent-%COMP%], .status-change-card[_ngcontent-%COMP%], .items-card[_ngcontent-%COMP%], .user-info-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:24px;box-shadow:0 2px 4px #0000001a}.user-info-card[_ngcontent-%COMP%]{border-left:4px solid #667eea}.user-info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;color:#333;font-size:18px;font-weight:600}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.user-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:14px;color:#555}.user-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333;font-weight:600;min-width:80px}.info-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid #e9ecef}.info-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:24px}.current-status[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;font-weight:700;font-size:14px}.current-status.estado-pendiente[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.current-status.estado-entregado[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.current-status.estado-cancelado[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.current-status.tipo-aprobacion-apta[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;font-weight:600}.current-status.tipo-aprobacion-scrap[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404;font-weight:600}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#666;margin-bottom:4px;font-size:14px}.info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:16px}.info-item[_ngcontent-%COMP%]   span.total-amount[_ngcontent-%COMP%]{font-weight:700;color:#28a745;font-size:18px}.status-change-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#333;font-size:20px}.status-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-weight:700;color:#666}.quick-actions[_ngcontent-%COMP%]{margin-bottom:20px;padding:15px;background:#f8f9fa;border-radius:8px;border-left:4px solid #28a745;display:flex;flex-direction:column;gap:12px;align-items:flex-start}.quick-actions.confirm-actions[_ngcontent-%COMP%]{border-left-color:#007bff}.deliver-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;width:100%;max-width:300px;transition:all .3s ease;box-shadow:0 2px 4px #28a74533}.deliver-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#218838,#1ea085);transform:translateY(-2px);box-shadow:0 4px 8px #28a7454d}.deliver-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none}.confirm-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;width:100%;max-width:300px;transition:all .3s ease;box-shadow:0 2px 4px #007bff33}.confirm-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#0056b3,#004085);transform:translateY(-2px);box-shadow:0 4px 8px #007bff4d}.confirm-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none}.cancel-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;width:100%;max-width:300px;transition:all .3s ease;box-shadow:0 2px 4px #dc354533}.cancel-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#c82333,#bd2130);transform:translateY(-2px);box-shadow:0 4px 8px #dc35454d}.cancel-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none}.devolucion-actions[_ngcontent-%COMP%]{margin-top:20px}.devolucion-actions[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:#333;font-size:18px;font-weight:600}.devolucion-actions[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{border-left-color:#ffc107}.apta-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;width:100%;max-width:300px;transition:all .3s ease;box-shadow:0 2px 4px #28a74533}.apta-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#218838,#1ea085);transform:translateY(-2px);box-shadow:0 4px 8px #28a7454d}.apta-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none}.scrap-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc107,#fd7e14);color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;width:100%;max-width:300px;transition:all .3s ease;box-shadow:0 2px 4px #ffc1074d}.scrap-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#e0a800,#e86800);transform:translateY(-2px);box-shadow:0 4px 8px #ffc10766}.scrap-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none}.status-info[_ngcontent-%COMP%]{margin-top:15px;padding:15px;border-radius:8px;text-align:center}.status-message[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500}.status-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}.items-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;color:#333;font-size:20px}.no-items[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666;font-style:italic}.items-list[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:5px;overflow:hidden}.items-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 120px 100px 120px 120px;background:#f8f9fa;font-weight:700;padding:12px;border-bottom:2px solid #dee2e6}@media (max-width: 768px){.items-header[_ngcontent-%COMP%]{grid-template-columns:60px 80px 60px 80px 80px;font-size:12px}}.item-header[_ngcontent-%COMP%]{padding:0 8px;color:#495057}.item-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 120px 100px 120px 120px;padding:12px;border-bottom:1px solid #dee2e6;align-items:center}@media (max-width: 768px){.item-row[_ngcontent-%COMP%]{grid-template-columns:60px 80px 60px 80px 80px;font-size:14px}}.item-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.item-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-cell[_ngcontent-%COMP%]{padding:0 8px;color:#333}.item-cell.total[_ngcontent-%COMP%]{font-weight:700;color:#28a745}@media (max-width: 768px){.item-cell[_ngcontent-%COMP%]{font-size:12px}}.grand-total-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 120px;background:#e9ecef;padding:16px 12px;font-weight:700;font-size:18px;border-top:2px solid #dee2e6}@media (max-width: 768px){.grand-total-row[_ngcontent-%COMP%]{grid-template-columns:1fr 80px;font-size:16px}}.grand-total-label[_ngcontent-%COMP%]{padding:0 8px;color:#495057;text-align:right}.grand-total-amount[_ngcontent-%COMP%]{padding:0 8px;color:#28a745;text-align:right}.cart-items[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a;margin-bottom:20px}.cart-item.order-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr;gap:15px;align-items:center;padding:15px;border-bottom:1px solid #e1e5e9;border-radius:8px;background:#f8f9fa;margin-bottom:10px}.cart-item.order-item[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.cart-item.order-item[_ngcontent-%COMP%]:hover{background:#e9ecef}.item-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-size:16px;font-weight:600}.item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0;color:#666;font-size:14px}.item-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{font-weight:500;color:#495057}.item-quantity[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;align-items:center}.item-quantity[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#667eea;font-size:12px;text-transform:uppercase}.item-quantity[_ngcontent-%COMP%]   .quantity-display[_ngcontent-%COMP%]{background:#fff;border:1px solid #e1e5e9;border-radius:4px;padding:6px 12px;font-weight:600;font-size:16px;color:#333;min-width:50px;text-align:center}.item-price[_ngcontent-%COMP%]{text-align:right}.item-price[_ngcontent-%COMP%]   .unit-price[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-bottom:4px}.item-price[_ngcontent-%COMP%]   .subtotal[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:16px}.cart-total[_ngcontent-%COMP%]{border-top:2px solid #e1e5e9;padding-top:20px;margin-top:20px}.cart-total[_ngcontent-%COMP%]   .total-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:20px;font-weight:600;color:#333;background:#fff;padding:15px 20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.cart-total[_ngcontent-%COMP%]   .total-line[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{color:#495057}.cart-total[_ngcontent-%COMP%]   .total-line[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{color:#28a745;font-size:24px}@media (max-width: 768px){.cart-item.order-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:10px;text-align:center}.item-quantity[_ngcontent-%COMP%]{align-items:center}.item-price[_ngcontent-%COMP%]{text-align:center}}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}']})}}return t})();function KS(t,n){if(t&1&&(c(0,"div",12)(1,"strong"),d(2,"Cliente:"),a(),d(3),a()),t&2){let e=h();p(3),w(" ",e.cliente.nombreRazonSocial," ")}}function QS(t,n){t&1&&(c(0,"div",13)(1,"p"),d(2,"Cargando pedidos entregados..."),a()())}function JS(t,n){if(t&1){let e=S();c(0,"div",14)(1,"p"),d(2),a(),c(3,"button",15),_("click",function(){x(e);let i=h();return C(i.volverAlHistorial())}),d(4," Volver al Historial "),a()()}if(t&2){let e=h();p(2),P(e.error)}}function XS(t,n){if(t&1){let e=S();c(0,"div",16)(1,"h3"),d(2,"No hay pedidos entregados"),a(),c(3,"p"),d(4,"Este cliente no tiene pedidos entregados para generar una devoluci\xF3n."),a(),c(5,"button",17),_("click",function(){x(e);let i=h();return C(i.volverAlHistorial())}),d(6," Volver al Historial "),a()()}}function eO(t,n){if(t&1&&(c(0,"div",49)(1,"span",50),d(2," Disponible para devolver: "),c(3,"strong"),d(4),a(),d(5),a()()),t&2){let e,o,i=h().$implicit,r=h(4);p(4),P((e=r.getDisponibilidadVariante(i.variante==null?null:i.variante.id))==null?null:e.disponibleParaDevolver),p(),Me(" (Entregados: ",(o=r.getDisponibilidadVariante(i.variante==null?null:i.variante.id))==null?null:o.totalEntregado,", Ya devueltos: ",(o=r.getDisponibilidadVariante(i.variante==null?null:i.variante.id))==null?null:o.totalDevuelto,") ")}}function tO(t,n){t&1&&(c(0,"span",55),d(1," No hay unidades disponibles para devolver "),a())}function nO(t,n){if(t&1){let e=S();c(0,"div",51)(1,"label"),d(2,"Cantidad a devolver:"),a(),c(3,"input",52),_("input",function(i){x(e);let r=h().$implicit,s=h(2).$implicit,l=h(2);return C(l.onCantidadInput(i,s.id,r.id))}),a(),c(4,"span",53),d(5),a(),b(6,tO,2,0,"span",54),a()}if(t&2){let e=h().$implicit,o=h(2).$implicit,i=h(2);p(3),B("disabled",i.getCantidadMaxima(o.id,e.id)<=0),g("value",i.getCantidadDevolucion(o.id,e.id))("max",i.getCantidadMaxima(o.id,e.id))("min",i.getCantidadMaxima(o.id,e.id)>0?1:0)("disabled",i.getCantidadMaxima(o.id,e.id)<=0),p(2),w("(m\xE1x: ",i.getCantidadMaxima(o.id,e.id),")"),p(),g("ngIf",i.getCantidadMaxima(o.id,e.id)<=0)}}function oO(t,n){if(t&1){let e=S();c(0,"div",35)(1,"div",36)(2,"input",37),_("change",function(){let i=x(e).$implicit,r=h(2).$implicit,s=h(2);return C(s.toggleItemSeleccion(r.id,i.id))}),a(),c(3,"label",38),d(4," Seleccionar "),a()(),c(5,"div",39)(6,"div",40)(7,"strong"),d(8),a(),c(9,"span",41),d(10),a()(),c(11,"div",42)(12,"div",43)(13,"span",44),d(14),a(),b(15,eO,6,3,"div",45)(16,nO,7,8,"div",46),a(),c(17,"span",47),d(18),a(),c(19,"span",48),d(20),a()()()()}if(t&2){let e=n.$implicit,o=h(2).$implicit,i=h(2);p(2),g("id","item-"+o.id+"-"+e.id)("checked",i.isItemSeleccionado(o.id,e.id)),p(),g("for","item-"+o.id+"-"+e.id),p(5),w("Producto ID: ",e.productoId,""),p(2),Me("",e.variante==null?null:e.variante.color," - ",e.variante==null?null:e.variante.talle,""),p(4),w("Cantidad original: ",e.cantidad,""),p(),g("ngIf",i.getDisponibilidadVariante(e.variante==null?null:e.variante.id)),p(),g("ngIf",i.isItemSeleccionado(o.id,e.id)),p(2),w("Precio: ",i.formatearMonto(e.precioUnitario),""),p(2),w("Subtotal: ",i.formatearMonto(e.subtotal),"")}}function iO(t,n){if(t&1&&(c(0,"div",33),b(1,oO,21,11,"div",34),a()),t&2){let e=h().$implicit;p(),g("ngForOf",e.items)}}function rO(t,n){t&1&&(c(0,"p",56),d(1,"No hay items en este pedido"),a())}function sO(t,n){if(t&1&&(c(0,"div",26)(1,"div",27)(2,"h3"),d(3),a(),c(4,"div",28)(5,"span",29),d(6),a(),c(7,"span",30),d(8),a()()(),c(9,"div",31)(10,"h4"),d(11,"Items del Pedido"),a(),b(12,iO,2,1,"div",32)(13,rO,2,0,"ng-template",null,0,xa),a()()),t&2){let e=n.$implicit,o=Ye(14),i=h(2);p(3),w("Pedido #",e.id,""),p(3),P(i.formatearFecha(e.fecha.toString())),p(2),P(i.formatearMonto(e.montoTotal)),p(4),g("ngIf",e.items&&e.items.length>0)("ngIfElse",o)}}function aO(t,n){if(t&1){let e=S();c(0,"div",18)(1,"div",19)(2,"h2"),d(3,"Pedidos Entregados"),a(),c(4,"p"),d(5,"Selecciona los items que deseas incluir en la nota de devoluci\xF3n"),a()(),c(6,"div",20),b(7,sO,15,5,"div",21),a(),c(8,"div",22)(9,"div",23)(10,"h3"),d(11,"Resumen de Selecci\xF3n"),a(),c(12,"p"),d(13,"Items seleccionados: "),c(14,"strong"),d(15),a()()(),c(16,"div",24)(17,"button",15),_("click",function(){x(e);let i=h();return C(i.volverAlHistorial())}),d(18," Cancelar "),a(),c(19,"button",25),_("click",function(){x(e);let i=h();return C(i.generarNotaDevolucion())}),d(20," Generar Nota de Devoluci\xF3n "),a()()()()}if(t&2){let e=h();p(7),g("ngForOf",e.pedidosEntregados),p(8),P(e.getItemsSeleccionados().length),p(4),g("disabled",e.getItemsSeleccionados().length===0)}}var Q0=(()=>{class t{constructor(e,o,i,r,s){this.ordersService=e,this.authService=o,this.router=i,this.route=r,this.cartService=s,this.pedidosEntregados=[],this.itemsSeleccionados={},this.cantidadesDevolucion={},this.disponibilidadVariantes={},this.loading=!1,this.cartItemCount=0}ngOnInit(){this.route.queryParams.subscribe(e=>{this.clienteId=+e.clienteId,console.log("\u{1F535} [DEVOLUCION] Cliente ID:",this.clienteId),this.clienteId?(this.loadCliente(),this.loadPedidosEntregados()):this.error="No se especific\xF3 un cliente para la devoluci\xF3n"}),this.updateCartCount()}loadCliente(){this.clienteId&&this.authService.getUsuarios().subscribe({next:e=>{this.cliente=e.find(o=>o.id===this.clienteId),console.log("\u{1F535} [DEVOLUCION] Cliente cargado:",this.cliente)},error:e=>{console.error("\u{1F534} [DEVOLUCION] Error al cargar cliente:",e),this.error="Error al cargar informaci\xF3n del cliente"}})}loadPedidosEntregados(){this.clienteId&&(this.loading=!0,this.error=void 0,this.ordersService.getPedidosPorCliente(this.clienteId).subscribe({next:e=>{this.pedidosEntregados=e.filter(o=>o.estado===$.ENTREGADO),this.loading=!1,console.log("\u{1F535} [DEVOLUCION] Pedidos entregados cargados:",this.pedidosEntregados.length)},error:e=>{console.error("\u{1F534} [DEVOLUCION] Error al cargar pedidos:",e),this.error="Error al cargar los pedidos del cliente",this.loading=!1}}))}toggleItemSeleccion(e,o){let i=`${e}-${o}`;if(this.itemsSeleccionados[i]=!this.itemsSeleccionados[i],this.itemsSeleccionados[i]){let r=this.getItemById(e,o);if(r&&r.variante?.id&&this.clienteId){this.cargarDisponibilidadVariante(r.variante.id);let s=this.disponibilidadVariantes[r.variante.id.toString()];if(s){let l=s.disponibleParaDevolver;l<=0?(this.cantidadesDevolucion[i]=0,this.itemsSeleccionados[i]=!1,alert(`No hay disponibilidad para devolver este item. Ya se han devuelto ${s.totalDevuelto} de ${s.totalEntregado} unidades entregadas.`)):this.cantidadesDevolucion[i]=Math.min(r.cantidad,l)}else this.cantidadesDevolucion[i]=r.cantidad}else r&&(this.cantidadesDevolucion[i]=r.cantidad)}else delete this.cantidadesDevolucion[i];console.log("\u{1F535} [DEVOLUCION] Item seleccionado:",i,this.itemsSeleccionados[i])}cargarDisponibilidadVariante(e){!this.clienteId||this.disponibilidadVariantes[e.toString()]||this.ordersService.consultarDisponibilidadDevolucion(this.clienteId,e).subscribe({next:o=>{this.disponibilidadVariantes[e.toString()]=o,console.log("\u{1F535} [DEVOLUCION] Disponibilidad cargada para variante",e,":",o),this.actualizarCantidadesPorDisponibilidad(e,o.disponibleParaDevolver)},error:o=>{console.error("\u{1F534} [DEVOLUCION] Error al cargar disponibilidad:",o)}})}actualizarCantidadesPorDisponibilidad(e,o){this.pedidosEntregados.forEach(i=>{i.items&&i.items.forEach(r=>{if(r.variante?.id===e){let s=`${i.id}-${r.id}`;if(this.itemsSeleccionados[s]){let l=this.cantidadesDevolucion[s]||0;o<=0?(this.cantidadesDevolucion[s]=0,this.itemsSeleccionados[s]=!1,console.log("\u{1F7E1} [DEVOLUCION] Item deseleccionado para",s,"por falta de disponibilidad")):l>o&&(this.cantidadesDevolucion[s]=o,console.log("\u{1F7E1} [DEVOLUCION] Ajustada cantidad para",s,"de",l,"a",this.cantidadesDevolucion[s]))}}})})}getItemById(e,o){for(let i of this.pedidosEntregados)if(i.id===e&&i.items)return i.items.find(r=>r.id===o);return null}onCantidadChange(e,o,i){let r=`${e}-${o}`,s=this.getItemById(e,o);if(s){let l=s.cantidad,u=l;if(s.variante?.id){let v=this.disponibilidadVariantes[s.variante.id.toString()];if(v){let M=0;this.pedidosEntregados.forEach(y=>{y.items&&y.items.forEach(D=>{let T=`${y.id}-${D.id}`;D.variante?.id===s.variante?.id&&T!==r&&this.itemsSeleccionados[T]&&(M+=this.cantidadesDevolucion[T]||0)})}),u=v.disponibleParaDevolver-M,u=Math.max(0,u)}}let f=Math.min(l,u),m;f<=0?m=0:m=Math.min(Math.max(1,i),f),this.cantidadesDevolucion[r]=m,i>f&&f>0?console.warn("\u{1F7E1} [DEVOLUCION] Cantidad ajustada de",i,"a",m,"por l\xEDmite de disponibilidad"):i>0&&f<=0&&console.warn("\u{1F7E1} [DEVOLUCION] No hay disponibilidad para devolver. Cantidad ajustada a 0")}}onCantidadInput(e,o,i){let r=e.target,s=parseInt(r.value)||0;this.onCantidadChange(o,i,s)}getCantidadDevolucion(e,o){let i=`${e}-${o}`;return this.cantidadesDevolucion[i]||0}getCantidadMaxima(e,o){let i=this.getItemById(e,o);if(!i)return 0;let r=i.cantidad,s=`${e}-${o}`;if(i.variante?.id){let l=this.disponibilidadVariantes[i.variante.id.toString()];if(l){let u=0;this.pedidosEntregados.forEach(m=>{m.items&&m.items.forEach(v=>{if(v.variante?.id===i.variante?.id){let M=`${m.id}-${v.id}`;M!==s&&this.itemsSeleccionados[M]&&(u+=this.cantidadesDevolucion[M]||0)}})});let f=Math.max(0,l.disponibleParaDevolver-u);return Math.min(r,f)}return r}return r}isItemSeleccionado(e,o){let i=`${e}-${o}`;return this.itemsSeleccionados[i]||!1}getItemsSeleccionados(){let e=[];return this.pedidosEntregados.forEach(o=>{o.items&&o.items.forEach(i=>{let r=`${o.id}-${i.id}`;if(this.itemsSeleccionados[r]){let s=this.cantidadesDevolucion[r]||0;e.push({pedidoId:o.id,itemId:i.id,productoId:i.productoId,varianteId:i.variante?.id,cantidad:s,precioUnitario:i.precioUnitario,subtotal:i.precioUnitario*s})}})}),e}generarNotaDevolucion(){let e=this.getItemsSeleccionados();if(e.length===0){alert("Por favor selecciona al menos un item para la devoluci\xF3n");return}if(!this.clienteId){alert("Error: No se especific\xF3 el cliente");return}let o=[],i={};if(e.forEach(r=>{if(r.varianteId){let s=r.varianteId.toString();i[s]||(i[s]=0),i[s]+=r.cantidad}}),Object.keys(i).forEach(r=>{let s=this.disponibilidadVariantes[r];if(s){let l=i[r];l>s.disponibleParaDevolver&&o.push(`La variante tiene ${s.totalEntregado} entregados, ${s.totalDevuelto} ya devueltos. Solo se pueden devolver ${s.disponibleParaDevolver} unidades, pero se solicitan ${l}.`)}}),o.length>0){alert(`Error de validaci\xF3n:

`+o.join(`

`));return}console.log("\u{1F535} [DEVOLUCION] Generando nota de devoluci\xF3n con items:",e),this.loading=!0,this.ordersService.crearNotaDevolucion(this.clienteId,e).subscribe({next:r=>{console.log("\u{1F535} [DEVOLUCION] Nota de devoluci\xF3n creada exitosamente:",r),alert(`Nota de devoluci\xF3n #${r.id} creada exitosamente con ${e.length} items`),this.loading=!1,this.volverAlHistorial()},error:r=>{console.error("\u{1F534} [DEVOLUCION] Error al crear nota de devoluci\xF3n:",r);let s=r.message||"Error al crear la nota de devoluci\xF3n. Por favor intenta nuevamente.";alert(s),this.loading=!1}})}getDisponibilidadVariante(e){return e&&this.disponibilidadVariantes[e.toString()]||null}volverAlHistorial(){this.router.navigate(["/orders-history"])}updateCartCount(){this.cartItemCount=this.cartService.getCartItemCount()}logout(){this.authService.logout(),this.router.navigate(["/login"])}formatearFecha(e){return e?new Date(e).toLocaleDateString("es-AR",{year:"numeric",month:"2-digit",day:"2-digit"}):""}formatearMonto(e){return e?new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"$0"}static{this.\u0275fac=function(o){return new(o||t)(E(fn),E(fe),E(se),E(ut),E(ze))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-devolucion-page"]],standalone:!0,features:[le],decls:14,vars:5,consts:[["noItems",""],[1,"header"],[1,"header-content"],[1,"header-left"],["class","cliente-info",4,"ngIf"],[1,"header-right"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"devolucion-container"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","pedidos-section",4,"ngIf"],[1,"cliente-info"],[1,"loading-state"],[1,"error-state"],[1,"btn-secondary",3,"click"],[1,"empty-state"],[1,"btn-primary",3,"click"],[1,"pedidos-section"],[1,"section-header"],[1,"pedidos-list"],["class","pedido-card",4,"ngFor","ngForOf"],[1,"resumen-section"],[1,"resumen-info"],[1,"actions"],[1,"btn-primary",3,"click","disabled"],[1,"pedido-card"],[1,"pedido-header"],[1,"pedido-info"],[1,"fecha"],[1,"monto"],[1,"items-section"],["class","items-list",4,"ngIf","ngIfElse"],[1,"items-list"],["class","item-row",4,"ngFor","ngForOf"],[1,"item-row"],[1,"item-checkbox"],["type","checkbox",1,"checkbox-input",3,"change","id","checked"],[1,"checkbox-label",3,"for"],[1,"item-info"],[1,"item-producto"],[1,"item-variante"],[1,"item-details"],[1,"cantidad-section"],[1,"cantidad-label"],["class","disponibilidad-info",4,"ngIf"],["class","cantidad-devolucion",4,"ngIf"],[1,"precio"],[1,"subtotal"],[1,"disponibilidad-info"],[1,"disponibilidad-text"],[1,"cantidad-devolucion"],["type","number",1,"cantidad-input",3,"input","value","max","min","disabled"],[1,"cantidad-max"],["class","no-disponible-msg",4,"ngIf"],[1,"no-disponible-msg"],[1,"no-items"]],template:function(o,i){o&1&&(c(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),d(4,"Nota de Devoluci\xF3n"),a(),b(5,KS,4,1,"div",4),a(),c(6,"div",5)(7,"button",6),_("click",function(){return i.logout()}),d(8," Cerrar Sesi\xF3n "),a()()()(),c(9,"div",7),b(10,QS,3,0,"div",8)(11,JS,5,1,"div",9)(12,XS,7,0,"div",10)(13,aO,21,3,"div",11),a()),o&2&&(p(5),g("ngIf",i.cliente),p(5),g("ngIf",i.loading),p(),g("ngIf",i.error),p(),g("ngIf",!i.loading&&!i.error&&i.pedidosEntregados.length===0),p(),g("ngIf",!i.loading&&!i.error&&i.pedidosEntregados.length>0))},dependencies:[ge,ke,_e,ve],styles:[".header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2c3e50,#1a252f);color:#fff;padding:20px 0;box-shadow:0 2px 10px #0000001a}.header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:700}.cliente-info[_ngcontent-%COMP%]{margin-top:8px;font-size:16px;opacity:.9}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.devolucion-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:30px 20px;background:#fff;min-height:calc(100vh - 120px)}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#f8f9fa;border-radius:8px;margin:20px 0}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:#2c3e50}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e74c3c;font-size:16px;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:20px}.pedidos-section[_ngcontent-%COMP%]{margin-top:30px}.section-header[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:10px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:16px}.pedidos-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.pedido-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:8px;padding:20px;box-shadow:0 2px 4px #0000001a;transition:box-shadow .3s}.pedido-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026}.pedido-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid #dee2e6}.pedido-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:20px}.pedido-info[_ngcontent-%COMP%]{display:flex;gap:20px;font-size:14px;color:#6c757d}.items-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:15px;font-size:16px}.items-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.item-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:12px;background:#f8f9fa;border-radius:6px;border:1px solid transparent;transition:all .3s}.item-row[_ngcontent-%COMP%]:hover{border-color:#667eea;background:#fff}.item-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.checkbox-input[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]{font-size:14px;color:#2c3e50;cursor:pointer;-webkit-user-select:none;user-select:none}.item-info[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-between;align-items:center}.item-producto[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.item-producto[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2c3e50;font-size:16px}.item-variante[_ngcontent-%COMP%]{color:#6c757d;font-size:14px}.item-details[_ngcontent-%COMP%]{display:flex;gap:15px;font-size:14px;color:#6c757d}.no-items[_ngcontent-%COMP%]{text-align:center;color:#6c757d;font-style:italic;padding:20px}.resumen-section[_ngcontent-%COMP%]{margin-top:40px;padding:30px;background:#f8f9fa;border-radius:8px;display:flex;justify-content:space-between;align-items:center}.resumen-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#2c3e50}.resumen-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:16px}.actions[_ngcontent-%COMP%]{display:flex;gap:15px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:12px 24px;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s;border:none}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#3958e4;transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.btn-primary[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed;transform:none;box-shadow:none;opacity:.6}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#545b62;transform:translateY(-2px)}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:15px;text-align:center}.pedido-header[_ngcontent-%COMP%]{flex-direction:column;gap:10px;text-align:center}.pedido-info[_ngcontent-%COMP%]{flex-direction:column;gap:5px}.item-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.item-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.item-details[_ngcontent-%COMP%]{flex-direction:column;gap:5px}.resumen-section[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}.actions[_ngcontent-%COMP%]{width:100%;justify-content:center}}.cantidad-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.cantidad-section[_ngcontent-%COMP%]   .cantidad-label[_ngcontent-%COMP%]{font-size:14px;color:#666;font-weight:500}.cantidad-section[_ngcontent-%COMP%]   .cantidad-devolucion[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px;background-color:#f8f9fa;border-radius:4px;border:1px solid #e9ecef}.cantidad-section[_ngcontent-%COMP%]   .cantidad-devolucion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#495057;white-space:nowrap}.cantidad-section[_ngcontent-%COMP%]   .cantidad-devolucion[_ngcontent-%COMP%]   .cantidad-input[_ngcontent-%COMP%]{width:80px;padding:4px 8px;border:1px solid #ced4da;border-radius:4px;font-size:14px;text-align:center}.cantidad-section[_ngcontent-%COMP%]   .cantidad-devolucion[_ngcontent-%COMP%]   .cantidad-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.cantidad-section[_ngcontent-%COMP%]   .cantidad-devolucion[_ngcontent-%COMP%]   .cantidad-max[_ngcontent-%COMP%]{font-size:12px;color:#6c757d;font-style:italic}"]})}}return t})();function cO(t,n){if(t&1&&(c(0,"span",78),d(1),a()),t&2){let e=h();p(),P(e.cartItemCount)}}function lO(t,n){if(t&1){let e=S();c(0,"div",79),_("click",function(){x(e),h();let i=Ye(40);return C(i.click())}),d(1," \u{1F4F7} "),a()}}function dO(t,n){if(t&1){let e=S();c(0,"img",80),_("click",function(){x(e),h();let i=Ye(40);return C(i.click())}),a()}if(t&2){let e=h();g("src",e.productData.imagenBase64,Jn)("alt",e.productData.nombre||"Imagen del producto")}}function uO(t,n){if(t&1&&(c(0,"option",81),d(1),a()),t&2){let e=n.$implicit;g("value",e),p(),w(" ",e," ")}}function pO(t,n){if(t&1){let e=S();c(0,"div",82),_("click",function(){let i=x(e).$implicit,r=h();return C(r.toggleColor(i))}),H(1,"span",83),d(2),a()}if(t&2){let e=n.$implicit,o=h();B("selected",o.isColorSelected(e)),p(),at("background-color",o.getColorValue(e)),p(),w(" ",e," ")}}function fO(t,n){if(t&1&&(c(0,"div",84)(1,"strong"),d(2,"Seleccionados:"),a(),d(3),a()),t&2){let e=h();p(3),w(" ",e.productData.colores.join(", ")," ")}}function gO(t,n){t&1&&(c(0,"div",85),d(1," \u274C Debes seleccionar al menos un color "),a())}function hO(t,n){if(t&1){let e=S();c(0,"div",86),_("click",function(){let i=x(e).$implicit,r=h();return C(r.selectTalleCategory(i.id))}),c(1,"div",87),d(2),a(),c(3,"div",88),d(4),a()()}if(t&2){let e=n.$implicit,o=h();B("selected",o.categoriaTalleSeleccionada===e.id),p(2),P(e.nombre),p(2),P(e.opciones.join(", "))}}function mO(t,n){t&1&&(c(0,"div",85),d(1," \u274C Debes seleccionar una categor\xEDa de talles "),a())}function _O(t,n){if(t&1){let e=S();c(0,"div",91),_("click",function(){let i=x(e).$implicit,r=h(2);return C(r.toggleTalle(i))}),d(1),a()}if(t&2){let e=n.$implicit,o=h(2);B("selected",o.isTalleSelected(e)),p(),w(" ",e," ")}}function vO(t,n){if(t&1&&(c(0,"div",84)(1,"strong"),d(2,"Seleccionado:"),a(),d(3),a()),t&2){let e=h(2);p(3),w(" ",e.productData.talles[0]," ")}}function xO(t,n){t&1&&(c(0,"div",85),d(1," \u274C Debes seleccionar un talle espec\xEDfico "),a())}function CO(t,n){if(t&1&&(c(0,"div",43)(1,"label"),d(2,"Talles Espec\xEDficos *"),a(),c(3,"div",89),b(4,_O,2,3,"div",90),a(),b(5,vO,4,1,"div",58)(6,xO,2,0,"div",59),a()),t&2){let e=h();B("error",e.formSubmitted&&e.productData.talles.length===0),p(4),g("ngForOf",e.getTallesDisponibles()),p(),g("ngIf",e.productData.talles.length>0),p(),g("ngIf",e.formSubmitted&&e.productData.talles.length===0)}}function bO(t,n){t&1&&(c(0,"small",92),d(1," El stock se configura individualmente por variante "),a())}function yO(t,n){if(t&1&&(c(0,"div",93)(1,"p")(2,"strong"),d(3,"Total de variantes:"),a(),d(4),a(),c(5,"p")(6,"strong"),d(7,"Stock total:"),a(),d(8),a()()),t&2){let e=h();p(4),w(" ",e.variantesStock.length,""),p(4),w(" ",e.stockTotal," unidades Bell")}}function MO(t,n){if(t&1){let e=S();c(0,"tr")(1,"td"),H(2,"span",101),d(3),a(),c(4,"td"),d(5),a(),c(6,"td")(7,"code"),d(8),a()(),c(9,"td")(10,"input",102),_("input",function(i){let r=x(e).index,s=h(2);return C(s.onStockChange(r,i))}),a()()()}if(t&2){let e=n.$implicit,o=h(2);p(2),at("background-color",o.getColorValue(e.color)),p(),w(" ",e.color," "),p(2),P(e.talle),p(3),P(e.sku),p(2),g("value",e.stock)}}function EO(t,n){if(t&1&&(c(0,"div",103)(1,"div",104),H(2,"div",105),a(),c(3,"small"),d(4),et(5,"number"),a()()),t&2){let e=h(2);p(2),at("width",e.stockTotal/e.productData.stock*100,"%"),p(2),Pd(" ",e.stockTotal," / ",e.productData.stock," unidades (",tt(5,5,e.stockTotal/e.productData.stock*100,"1.0-0"),"%) ")}}function wO(t,n){if(t&1&&(c(0,"div",94)(1,"h4"),d(2,"Stock por Variante"),a(),c(3,"div",95)(4,"table",96)(5,"thead")(6,"tr")(7,"th"),d(8,"Color"),a(),c(9,"th"),d(10,"Talle"),a(),c(11,"th"),d(12,"SKU"),a(),c(13,"th"),d(14,"Stock"),a()()(),c(15,"tbody"),b(16,MO,11,6,"tr",97),a()()(),c(17,"div",98)(18,"div",99)(19,"strong"),d(20,"\u{1F4C8} Resumen:"),a(),d(21),b(22,EO,6,8,"div",100),a()()()),t&2){let e=h();p(16),g("ngForOf",e.variantesStock)("ngForTrackBy",e.trackByVariante),p(5),Me(" Total de ",e.stockTotal," unidades distribuidas en ",e.variantesStock.length," variantes "),p(),g("ngIf",e.productData.stock)}}function PO(t,n){t&1&&(c(0,"span"),d(1,"\u23F3"),a())}function DO(t,n){t&1&&(c(0,"span"),d(1,"\u2705"),a())}function SO(t,n){if(t&1&&(c(0,"div",85),d(1),a()),t&2){let e=h();p(),w(" \u274C ",e.error," ")}}function OO(t,n){if(t&1&&(c(0,"div",106),d(1),a()),t&2){let e=h();p(),w(" \u2705 ",e.success," ")}}function IO(t,n){if(t&1){let e=S();c(0,"div",117),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.scrollToResult(i))}),c(1,"div",118),d(2),a(),c(3,"div",119)(4,"div",120),d(5),a(),c(6,"div",121),d(7),a()()()}if(t&2){let e=n.$implicit;p(2),P(e.type==="campo"?"\u{1F4DD}":"\u{1F4C4}"),p(3),P(e.title),p(2),P(e.description)}}function TO(t,n){if(t&1&&(c(0,"div",115),b(1,IO,8,3,"div",116),a()),t&2){let e=h(2);p(),g("ngForOf",e.searchResults)}}function kO(t,n){if(t&1&&(c(0,"div",122)(1,"p"),d(2),a()()),t&2){let e=h(2);p(2),w('No se encontraron resultados para "',e.searchTerm,'"')}}function RO(t,n){if(t&1){let e=S();c(0,"div",107),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),c(1,"div",108),_("click",function(i){return x(e),C(i.stopPropagation())}),c(2,"div",109)(3,"h3"),d(4,"Buscar en la p\xE1gina"),a(),c(5,"button",110),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),d(6,"\xD7"),a()(),c(7,"div",111)(8,"input",112),F("ngModelChange",function(i){x(e);let r=h();return V(r.searchTerm,i)||(r.searchTerm=i),C(i)}),_("input",function(){x(e);let i=h();return C(i.performSearch())}),a()(),b(9,TO,2,1,"div",113)(10,kO,3,1,"div",114),a()()}if(t&2){let e=h();p(8),N("ngModel",e.searchTerm),p(),g("ngIf",e.searchResults.length>0),p(),g("ngIf",e.searchTerm&&e.searchResults.length===0)}}var J0=(()=>{class t{constructor(e,o,i,r,s){this.authService=e,this.cartService=o,this.productsService=i,this.router=r,this.cdr=s,this.productData={nombre:"",tipo:"",categoria:null,sku:"",colores:[],talles:[],precio:null,stock:null,descripcion:""},this.tipoProductos=["REMERA","MUSCULOSA","PANTALON","SHORT","BLUSA","MONO","VESTIDO","TOP","CARDIGAN","RUANA","SWEATER","BUFANDA","GORRO","MITONES","TAPADO","CAPA","SACO","BUZO","CAMPERA","CHALECO"],this.categoriasTalles=[{id:"letras",nombre:"Talles de Letras",opciones:["U","S/M","S/M/L","XS/S/M/L","S/M/L/XL","XS/S/M/L/XL"]},{id:"numericos",nombre:"Talles Num\xE9ricos",opciones:["40/42","40/42/44","38/40/42/44","36/38/40/42","36/38/40/42/44"]}],this.categoriaTalleSeleccionada="letras",this.opcionesColores=["Blanco","Negro","Azul","Rojo","Verde","Amarillo","Naranja","Rosa","Violeta","Marr\xF3n","Gris","Beige","Celeste","Turquesa","Coral","Bordeaux","Navy","Khaki","Camel","Crudo"],this.loading=!1,this.error="",this.success="",this.cartItemCount=0,this.formSubmitted=!1,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[],this.showStockSection=!1,this.variantesStock=[],this.stockTotal=0}ngOnInit(){if(!this.authService.isAdmin()){this.router.navigate(["/catalog"]);return}this.updateCartCount()}onSubmit(){if(this.loading)return;if(this.formSubmitted=!0,this.loading=!0,this.error="",this.success="",!this.validateForm()){this.loading=!1;return}if(this.showStockSection&&!this.validarStockVariantes()){this.loading=!1;return}let e=I({},this.productData);if(this.showStockSection&&this.variantesStock.length>0){let o={},i=0;this.variantesStock.forEach(r=>{let s=`${r.color}-${r.talle}`,l=r.stock||0;o[s]=l,i+=l,console.log("\u{1F535} [FRONTEND] Agregando stock:",s,"=",l)}),e.stockPorVariante=o,e.stock=i,this.productData.stock=i,console.log("\u{1F535} [FRONTEND] Stock por variante:",o),console.log("\u{1F535} [FRONTEND] Stock total calculado (suma de individuales):",i)}console.log("\u{1F535} [FRONTEND] Datos del producto a crear:",e),console.log("\u{1F535} [FRONTEND] Tipo:",e.tipo),console.log("\u{1F535} [FRONTEND] Categor\xEDa:",e.categoria),console.log("\u{1F535} [FRONTEND] Colores:",e.colores),console.log("\u{1F535} [FRONTEND] Talles:",e.talles),console.log("\u{1F535} [FRONTEND] Precio:",e.precio),console.log("\u{1F535} [FRONTEND] Stock:",e.stock),console.log("\u{1F535} [FRONTEND] Stock por variante:",e.stockPorVariante),console.log("\u{1F535} [FRONTEND] \u{1F50D} VERIFICACI\xD3N DETALLADA DEL STOCK POR VARIANTE:"),console.log("\u{1F535} [FRONTEND] - Tipo de stockPorVariante:",typeof e.stockPorVariante),console.log("\u{1F535} [FRONTEND] - Es null?:",e.stockPorVariante===null),console.log("\u{1F535} [FRONTEND] - Es undefined?:",e.stockPorVariante===void 0),console.log("\u{1F535} [FRONTEND] - Contenido completo:",JSON.stringify(e.stockPorVariante)),console.log("\u{1F535} [FRONTEND] \u2B50 IMAGEN en formulario:",{imagen:e.imagen,esFile:e.imagen instanceof File,nombre:e.imagen?.name,tama\u00F1o:e.imagen?.size}),console.log("\u{1F535} [FRONTEND] \u{1F4CB} COMPLETE productData object:",J(I({},e),{imagenInfo:{existe:!!e.imagen,tipo:typeof e.imagen,esFile:e.imagen instanceof File,nombre:e.imagen?.name,tama\u00F1o:e.imagen?.size}})),this.productsService.createProduct(e).subscribe({next:o=>{this.loading=!1,this.productData.imagen&&this.productData.imagen instanceof File?(console.log("\u{1F535} [FRONTEND] Verificando si la imagen se proces\xF3 correctamente..."),this.success="Producto creado exitosamente. Nota: Si seleccionaste una imagen personalizada y no se muestra, puede deberse a un problema temporal con el servidor de archivos."):this.success="Producto creado exitosamente",console.log("Producto creado:",o),this.resetForm(),setTimeout(()=>{this.router.navigate(["/catalog"])},2e3)},error:o=>{this.loading=!1,console.error("\u{1F534} [FRONTEND] Error al crear producto:",o),console.error("\u{1F534} [FRONTEND] Error completo:",JSON.stringify(o,null,2)),console.error("\u{1F534} [FRONTEND] Error body:",o.error),console.error("\u{1F534} [FRONTEND] Error message:",o.error?.error||o.error?.message||o.message);let i="Error al crear el producto. Int\xE9ntalo de nuevo.";if(o.status===400){let r=o.error?.error||o.error?.message||"Error desconocido";i=`Error 400: ${r}`,console.error("\u{1F534} [FRONTEND] Mensaje del backend:",r)}else o.status===500?i="Error del servidor. Int\xE9ntalo m\xE1s tarde.":o.message&&o.message.includes("HTML")&&(i="Error al subir la imagen personalizada. El producto se crear\xE1 con imagen por defecto. Int\xE9ntalo de nuevo.");this.error=i}})}validateForm(){return this.productData.nombre.trim()?this.productData.tipo?this.productData.categoria?this.productData.sku.trim()?this.productData.colores.length===0?(this.error="Debes seleccionar al menos un color",!1):this.productData.talles.length===0?(this.error="Debes seleccionar al menos un talle",!1):!this.productData.precio||this.productData.precio<=0?(this.error="El precio debe ser mayor a 0",!1):!this.showStockSection&&(this.productData.stock===null||this.productData.stock<0)?(this.error="El stock debe ser mayor o igual a 0",!1):!0:(this.error="El SKU es obligatorio",!1):(this.error="Debes seleccionar una categor\xEDa",!1):(this.error="Debes seleccionar un tipo de producto",!1):(this.error="El nombre del producto es obligatorio",!1)}resetForm(){this.productData={nombre:"",tipo:"",categoria:null,sku:"",colores:[],talles:[],precio:null,stock:null,descripcion:""},this.categoriaTalleSeleccionada="letras",this.formSubmitted=!1,this.productData.imagen=void 0,this.productData.imagenBase64=void 0}selectTalleCategory(e){this.productData.talles=[],this.categoriaTalleSeleccionada=e}getTallesDisponibles(){if(!this.categoriaTalleSeleccionada)return[];let e=this.categoriasTalles.find(o=>o.id===this.categoriaTalleSeleccionada);return e?e.opciones:[]}toggleTalle(e){this.productData.talles.includes(e)?this.productData.talles=[]:this.productData.talles=[e]}toggleColor(e){let o=this.productData.colores.indexOf(e);o>-1?this.productData.colores.splice(o,1):this.productData.colores.push(e)}isTalleSelected(e){return this.productData.talles.length===1&&this.productData.talles[0]===e}isColorSelected(e){return this.productData.colores.includes(e)}onImageSelected(e){console.log("\u{1F535} [FRONTEND] onImageSelected ejecutado, archivos:",e.target.files);let o=e.target.files[0];if(o){if(console.log("\u{1F535} [FRONTEND] \u2705 Archivo seleccionado:",o.name,"Tama\xF1o:",o.size,"Tipo:",o.type),o.size>5*1024*1024){this.error="La imagen es demasiado grande. Tama\xF1o m\xE1ximo: 5MB";return}if(!o.type.startsWith("image/")){this.error="Por favor selecciona un archivo de imagen v\xE1lido";return}this.productData.imagen=o,console.log("\u{1F535} [FRONTEND] \u2705 Imagen asignada a productData.imagen:",this.productData.imagen);let i=new FileReader;i.onload=r=>{this.productData.imagenBase64=r.target?.result,console.log("\u{1F535} [FRONTEND] Imagen convertida a base64, tama\xF1o:",o.size,"bytes")},i.readAsDataURL(o)}}onTipoChange(){}onSkuChange(e){let o=e.target.value.toUpperCase();this.productData.sku=o,e.target.value=o}generarVariantesStock(){if(!this.productData.colores.length||!this.productData.talles.length){this.error="Debe seleccionar al menos un color y un talle";return}this.variantesStock=[],this.stockTotal=0,this.showStockSection=!1;let e=[];for(let o of this.productData.colores)for(let i of this.productData.talles){let r=i.includes("/")?i.split("/"):[i];for(let s of r){let l=s.trim(),u=this.generarSku(this.productData.sku,o,l);e.push({color:o,talle:l,stock:0,sku:u})}}this.variantesStock=e,this.showStockSection=!0,this.error="",console.log("\u{1F535} [STOCK] Variantes generadas:",this.variantesStock),console.log("\u{1F535} [STOCK] Total variantes:",this.variantesStock.length),this.cdr.detectChanges()}onStockChange(e,o){let i=o.target.value,r=i===""?0:Number(i)||0;if(isNaN(r)||r<0){o.target.value=this.variantesStock[e].stock||0;return}this.variantesStock[e].stock=r,this.actualizarStockTotal()}actualizarStockTotal(){this.stockTotal=this.variantesStock.reduce((e,o)=>{let i=o.stock||0;return e+i},0),this.showStockSection&&(this.productData.stock=this.stockTotal),this.cdr.detectChanges(),console.log("\u{1F535} [STOCK] Stock total actualizado:",this.stockTotal),console.log("\u{1F535} [STOCK] Variantes:",this.variantesStock.map(e=>`${e.color}-${e.talle}: ${e.stock}`))}generarSku(e,o,i){let r=o.length>=2?o.substring(0,2).toUpperCase():o.toUpperCase();return`${e}-${r}-${i.toUpperCase().replaceAll("/","")}`}validarStockVariantes(){if(this.variantesStock.length===0)return!1;for(let e of this.variantesStock)if(e.stock<0)return this.error=`El stock de ${e.color} - ${e.talle} no puede ser negativo`,!1;return this.stockTotal===0?(this.error="Al menos una variante debe tener stock",!1):this.showStockSection&&this.productData.stock&&this.stockTotal!==this.productData.stock?(this.error=`El stock total distribuido (${this.stockTotal}) debe coincidir con el stock inicial (${this.productData.stock})`,!1):!0}trackByVariante(e,o){return o.sku}getColorValue(e){return{Blanco:"#ffffff",Negro:"#000000",Azul:"#007bff",Rojo:"#dc3545",Verde:"#28a745",Amarillo:"#ffc107",Naranja:"#fd7e14",Rosa:"#e83e8c",Violeta:"#6f42c1",Marr\u00F3n:"#795548",Gris:"#6c757d",Beige:"#f5f5dc",Celeste:"#17a2b8",Turquesa:"#20c997",Coral:"#ff7f50",Bordeaux:"#722f37",Navy:"#001f3f",Khaki:"#f0e68c",Camel:"#c19a6b",Crudo:"#f4f1e8"}[e]||"#cccccc"}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToCart(){this.router.navigate(["/cart"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p, label, input, select, textarea").forEach(i=>{let r=i.textContent?.toLowerCase()||"",s=i.getAttribute("placeholder")?.toLowerCase()||"",l=i.getAttribute("for")?.toLowerCase()||"";if(r.includes(e)||s.includes(e)||l.includes(e)){let u="elemento";(i.tagName==="LABEL"||i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA")&&(u="campo"),this.searchResults.push({type:u,title:i.textContent?.trim()||i.getAttribute("placeholder")||i.getAttribute("for")||"Elemento",description:u==="campo"?"Campo del formulario":"Elemento encontrado en la p\xE1gina",element:i})}})}scrollToResult(e){this.closeSearchModal(),e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}static{this.\u0275fac=function(o){return new(o||t)(E(fe),E(ze),E(so),E(se),E(Zt))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-add-product-page"]],standalone:!0,features:[le],decls:119,vars:39,consts:[["productForm","ngForm"],["imageInput",""],["nameInput",""],["descriptionInput",""],["priceInput",""],[1,"add-product-container"],[1,"admin-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"form-container"],[1,"form-header"],[1,"product-form","add-product-content",3,"ngSubmit"],[1,"product-header-section"],[1,"product-image-container"],["class","image-placeholder",3,"click",4,"ngIf"],["class","product-main-image",3,"src","alt","click",4,"ngIf"],["type","file","id","imagen-input","accept","image/*",2,"display","none",3,"change"],[1,"product-info-header"],[1,"product-name-container"],["type","text","id","nombre","name","nombre","required","","placeholder","Nombre del art\xEDculo",1,"product-name-input",3,"ngModelChange","ngModel"],[1,"product-description-container"],["id","descripcion","name","descripcion","rows","3","placeholder","Descripci\xF3n del producto...",1,"product-description-input",3,"ngModelChange","ngModel"],[1,"product-price-container"],[1,"product-price-input-wrapper"],[1,"price-prefix"],["type","number","id","precio-input","name","precio","required","","min","0","step","0.01","placeholder","0.00",1,"product-price-input",3,"ngModelChange","ngModel"],[1,"form-fields-section"],[1,"form-row"],[1,"form-group"],["for","tipo"],["id","tipo","name","tipo","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","categoria"],["id","categoria","name","categoria","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue"],["value","PLANO"],["value","TEJIDO"],[1,"form-help"],["for","sku"],["type","text","id","sku","name","sku","required","","placeholder","Ej: REM-001-TJ",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"color-options"],["class","color-option",3,"selected","click",4,"ngFor","ngForOf"],["class","selected-items",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"category-options"],["class","category-option",3,"selected","click",4,"ngFor","ngForOf"],["class","form-group",3,"error",4,"ngIf"],["for","stock"],["type","number","id","stock","name","stock","min","0","placeholder","0",1,"form-control",3,"ngModelChange","ngModel","required","disabled"],["class","form-help","style","color: #999; font-style: italic;",4,"ngIf"],[1,"stock-section"],[1,"stock-description"],[1,"stock-options"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["class","stock-info",4,"ngIf"],["class","variantes-table",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["class","success-message",4,"ngIf"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"image-placeholder",3,"click"],[1,"product-main-image",3,"click","src","alt"],[3,"value"],[1,"color-option",3,"click"],[1,"color-dot"],[1,"selected-items"],[1,"error-message"],[1,"category-option",3,"click"],[1,"category-name"],[1,"category-examples"],[1,"size-options"],["class","size-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"size-option",3,"click"],[1,"form-help",2,"color","#999","font-style","italic"],[1,"stock-info"],[1,"variantes-table"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"stock-summary"],[1,"alert","alert-info"],["class","stock-progress",4,"ngIf"],[1,"color-indicator"],["type","text","placeholder","0",1,"form-control","stock-input",3,"input","value"],[1,"stock-progress"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"success-message"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(o,i){if(o&1){let r=S();c(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),_("click",function(){return x(r),C(i.goToCatalog())}),c(4,"div",9),H(5,"img",10),a(),c(6,"span"),d(7,"HRK"),a()(),c(8,"nav",11)(9,"a",12),_("click",function(){return x(r),C(i.goToCatalog())}),d(10,"SHOP"),a(),c(11,"a",13),_("click",function(){return x(r),C(i.goToCatalog())}),d(12,"SALE"),a(),c(13,"a",14),_("click",function(){return x(r),C(i.goToInfo())}),d(14,"info"),a()()(),c(15,"div",15)(16,"button",16),_("click",function(){return x(r),C(i.goToCart())}),d(17," \u{1F6D2} "),b(18,cO,2,1,"span",17),a(),c(19,"button",18),_("click",function(){return x(r),C(i.openSearchModal())}),d(20," \u{1F50D} "),a(),c(21,"button",19),_("click",function(){return x(r),C(i.goToHistory())}),d(22," \u{1F4CB} "),a(),c(23,"button",20),_("click",function(){return x(r),C(i.goToProfile())}),H(24,"img",21),c(25,"span",22),d(26,"\u{1F464}"),a()(),c(27,"button",23),_("click",function(){return x(r),C(i.logout())}),d(28," Cerrar Sesi\xF3n "),a()()(),c(29,"div",24)(30,"div",25)(31,"h1"),d(32,"\u2795 Agregar Nuevo Producto"),a()(),c(33,"form",26,0),_("ngSubmit",function(){return x(r),C(i.onSubmit())}),c(35,"div",27)(36,"div",28),b(37,lO,2,0,"div",29)(38,dO,1,2,"img",30),c(39,"input",31,1),_("change",function(l){return x(r),C(i.onImageSelected(l))}),a()(),c(41,"div",32)(42,"div",33)(43,"input",34,2),F("ngModelChange",function(l){return x(r),V(i.productData.nombre,l)||(i.productData.nombre=l),C(l)}),a()(),c(45,"div",35)(46,"textarea",36,3),F("ngModelChange",function(l){return x(r),V(i.productData.descripcion,l)||(i.productData.descripcion=l),C(l)}),a()(),c(48,"div",37)(49,"div",38)(50,"span",39),d(51,"$"),a(),c(52,"input",40,4),F("ngModelChange",function(l){return x(r),V(i.productData.precio,l)||(i.productData.precio=l),C(l)}),a()()()()(),c(54,"div",41)(55,"div",42)(56,"div",43)(57,"label",44),d(58,"Tipo de Producto *"),a(),c(59,"select",45),F("ngModelChange",function(l){return x(r),V(i.productData.tipo,l)||(i.productData.tipo=l),C(l)}),_("ngModelChange",function(){return x(r),C(i.onTipoChange())}),c(60,"option",46),d(61,"Seleccionar tipo..."),a(),b(62,uO,2,2,"option",47),a()(),c(63,"div",43)(64,"label",48),d(65,"Categor\xEDa *"),a(),c(66,"select",49),F("ngModelChange",function(l){return x(r),V(i.productData.categoria,l)||(i.productData.categoria=l),C(l)}),c(67,"option",50),d(68,"Seleccionar categor\xEDa..."),a(),c(69,"option",51),d(70,"Plano (se compra en rollo)"),a(),c(71,"option",52),d(72,"Tejido (se hace en rectil\xEDnea)"),a()(),c(73,"small",53),d(74,"Plano: se compra en rollo. Tejido: se hace en rectil\xEDnea"),a()()(),c(75,"div",43)(76,"label",54),d(77,"SKU *"),a(),c(78,"input",55),F("ngModelChange",function(l){return x(r),V(i.productData.sku,l)||(i.productData.sku=l),C(l)}),_("input",function(l){return x(r),C(i.onSkuChange(l))}),a()(),c(79,"div",43)(80,"label"),d(81,"Colores Disponibles *"),a(),c(82,"div",56),b(83,pO,3,5,"div",57),a(),b(84,fO,4,1,"div",58)(85,gO,2,0,"div",59),a(),c(86,"div",43)(87,"label"),d(88,"Categor\xEDa de Talles *"),a(),c(89,"div",60),b(90,hO,5,4,"div",61),a(),b(91,mO,2,0,"div",59),a(),b(92,CO,7,5,"div",62),c(93,"div",43)(94,"label",63),d(95,"Stock Inicial *"),a(),c(96,"input",64),F("ngModelChange",function(l){return x(r),V(i.productData.stock,l)||(i.productData.stock=l),C(l)}),a(),b(97,bO,2,0,"small",65),a(),c(98,"div",43)(99,"div",66)(100,"h3"),d(101,"\u{1F4CA} Distribuci\xF3n de Stock por Variante"),a(),c(102,"p",67),d(103," Puedes distribuir el stock de forma personalizada para cada variante, o usar la distribuci\xF3n autom\xE1tica igualitaria. "),a(),c(104,"div",68)(105,"button",69),_("click",function(){return x(r),C(i.generarVariantesStock())}),d(106," \u{1F3AF} Configurar Stock Individual "),a(),b(107,yO,9,2,"div",70),a(),b(108,wO,23,5,"div",71),a()(),c(109,"div",72)(110,"button",73),_("click",function(){return x(r),C(i.goToCatalog())}),d(111," Cancelar "),a(),c(112,"button",74),b(113,PO,2,0,"span",75)(114,DO,2,0,"span",75),d(115),a()(),b(116,SO,2,1,"div",59)(117,OO,2,1,"div",76),a()()(),b(118,RO,11,3,"div",77),a()}if(o&2){let r=Ye(34);p(18),g("ngIf",i.cartItemCount>0),p(19),g("ngIf",!i.productData.imagenBase64),p(),g("ngIf",i.productData.imagenBase64),p(5),N("ngModel",i.productData.nombre),p(3),N("ngModel",i.productData.descripcion),p(6),N("ngModel",i.productData.precio),p(7),N("ngModel",i.productData.tipo),p(3),g("ngForOf",i.tipoProductos),p(4),N("ngModel",i.productData.categoria),p(),g("ngValue",null),p(11),N("ngModel",i.productData.sku),p(),B("error",i.formSubmitted&&i.productData.colores.length===0),p(4),g("ngForOf",i.opcionesColores),p(),g("ngIf",i.productData.colores.length>0),p(),g("ngIf",i.formSubmitted&&i.productData.colores.length===0),p(),B("error",i.formSubmitted&&!i.categoriaTalleSeleccionada),p(4),g("ngForOf",i.categoriasTalles),p(),g("ngIf",i.formSubmitted&&!i.categoriaTalleSeleccionada),p(),g("ngIf",i.categoriaTalleSeleccionada),p(2),B("disabled-label",i.showStockSection),p(2),B("disabled-input",i.showStockSection),N("ngModel",i.productData.stock),g("required",!i.showStockSection)("disabled",i.showStockSection),p(),g("ngIf",i.showStockSection),p(8),g("disabled",!i.productData.colores.length||!i.productData.talles.length),p(2),g("ngIf",i.showStockSection),p(),g("ngIf",i.showStockSection&&i.variantesStock.length>0),p(4),g("disabled",!r.valid||i.loading),p(),g("ngIf",i.loading),p(),g("ngIf",!i.loading),p(),w(" ",i.loading?"Guardando...":"Guardar Producto"," "),p(),g("ngIf",i.error),p(),g("ngIf",i.success),p(),g("ngIf",i.showSearchModal)}},dependencies:[ge,ke,_e,di,ve,ro,Lt,jt,we,Sr,Et,Pe,io,Xt,Ir,be,Fn],styles:[".add-product-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.admin-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.main-nav[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:600;cursor:pointer;transition:color .3s}.nav-item[_ngcontent-%COMP%]:hover{color:#ccc}.nav-item.sale[_ngcontent-%COMP%]{color:#f44}.nav-item.info[_ngcontent-%COMP%]{color:#4caf50}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#f44;color:#fff;border-radius:50%;width:18px;height:18px;font-size:10px;display:flex;align-items:center;justify-content:center;font-weight:700}.logout-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-size:14px;transition:background .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#c82333}.form-container[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:0 20px}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;font-size:28px;margin-bottom:10px}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.product-form[_ngcontent-%COMP%], .add-product-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 6px #0000001a}.product-header-section[_ngcontent-%COMP%]{display:flex;gap:30px;margin-bottom:30px;padding-bottom:30px;border-bottom:2px solid #e1e5e9}@media (max-width: 768px){.product-header-section[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}}.product-image-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.product-image-container[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:12px;border:2px dashed #ccc;background:#f8f9fa;display:flex;align-items:center;justify-content:center;font-size:64px;cursor:pointer;transition:all .3s;color:#999}.product-image-container[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#e9ecef;color:#007bff;transform:scale(1.02)}.product-image-container[_ngcontent-%COMP%]   .product-main-image[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover;border-radius:12px;border:2px solid #e1e5e9;cursor:pointer;transition:all .3s}.product-image-container[_ngcontent-%COMP%]   .product-main-image[_ngcontent-%COMP%]:hover{border-color:#007bff;box-shadow:0 4px 12px #007bff33}.product-info-header[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:20px}.product-name-container[_ngcontent-%COMP%]   .product-name-input[_ngcontent-%COMP%]{font-size:28px;font-weight:700;padding:10px 15px;border:2px solid #e1e5e9;border-radius:8px;width:100%;background:#f8f9fa;box-shadow:0 2px 4px #0000000d;transition:all .3s;color:#333}.product-name-container[_ngcontent-%COMP%]   .product-name-input[_ngcontent-%COMP%]::placeholder{color:#999;font-weight:500}.product-name-container[_ngcontent-%COMP%]   .product-name-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;background:#fff;box-shadow:0 4px 8px #007bff1a}.product-description-container[_ngcontent-%COMP%]   .product-description-input[_ngcontent-%COMP%]{width:100%;padding:15px;border:2px solid #e1e5e9;border-radius:8px;font-size:16px;font-family:inherit;resize:vertical;min-height:100px;background:#f8f9fa;box-shadow:0 2px 4px #0000000d;transition:all .3s;color:#333}.product-description-container[_ngcontent-%COMP%]   .product-description-input[_ngcontent-%COMP%]::placeholder{color:#999}.product-description-container[_ngcontent-%COMP%]   .product-description-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;background:#fff;box-shadow:0 4px 8px #007bff1a}.product-price-container[_ngcontent-%COMP%]   .product-price-input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:15px;border-radius:8px;background:#f8f9fa;border:2px solid #e1e5e9;box-shadow:0 2px 4px #0000000d;transition:all .3s;width:fit-content}.product-price-container[_ngcontent-%COMP%]   .product-price-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#007bff;background:#fff;box-shadow:0 4px 8px #007bff1a}.product-price-container[_ngcontent-%COMP%]   .product-price-input-wrapper[_ngcontent-%COMP%]   .price-prefix[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#333}.product-price-container[_ngcontent-%COMP%]   .product-price-input-wrapper[_ngcontent-%COMP%]   .product-price-input[_ngcontent-%COMP%]{font-size:18px;font-weight:600;padding:0;border:none;background:transparent;width:150px;color:#333}.product-price-container[_ngcontent-%COMP%]   .product-price-input-wrapper[_ngcontent-%COMP%]   .product-price-input[_ngcontent-%COMP%]::placeholder{color:#999}.product-price-container[_ngcontent-%COMP%]   .product-price-input-wrapper[_ngcontent-%COMP%]   .product-price-input[_ngcontent-%COMP%]:focus{outline:none}.form-fields-section[_ngcontent-%COMP%]{margin-top:30px;padding-top:30px;border-top:2px solid #e1e5e9}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:8px;font-size:14px}.form-control[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid #e1e5e9;border-radius:6px;font-size:14px;transition:border-color .3s;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-control.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#17a2b8}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-control.disabled-input[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]:disabled{background-color:#e9ecef;color:#6c757d;cursor:not-allowed;border-color:#ced4da;opacity:.7}.form-group[_ngcontent-%COMP%]   label.disabled-label[_ngcontent-%COMP%]{color:#6c757d;opacity:.7}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:30px;padding-top:20px;border-top:1px solid #e1e5e9}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s;font-size:14px;display:flex;align-items:center;gap:8px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6268}.btn-primary[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0056b3;transform:translateY(-1px);box-shadow:0 4px 8px #007bff4d}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:12px 16px;border-radius:6px;margin-top:20px;border:1px solid #f5c6cb}.success-message[_ngcontent-%COMP%]{background:#d4edda;color:#155724;padding:12px 16px;border-radius:6px;margin-top:20px;border:1px solid #c3e6cb}.color-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px;margin-bottom:15px}.color-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 12px;border:2px solid #e1e5e9;border-radius:6px;cursor:pointer;transition:all .3s;background:#fff}.color-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9fa}.color-option.selected[_ngcontent-%COMP%]{border-color:#007bff;background:#e3f2fd}.color-dot[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;border:1px solid #ccc;flex-shrink:0}.size-options[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:15px}.size-option[_ngcontent-%COMP%]{padding:12px 20px;border:2px solid #e1e5e9;border-radius:6px;cursor:pointer;transition:all .3s;background:#fff;font-weight:600;text-align:center;min-width:60px}.size-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9fa}.size-option.selected[_ngcontent-%COMP%]{border-color:#007bff;background:#e3f2fd;color:#007bff}.category-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:15px}.category-option[_ngcontent-%COMP%]{padding:15px;border:2px solid #e1e5e9;border-radius:8px;cursor:pointer;transition:all .3s;background:#fff;text-align:center}.category-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9fa}.category-option.selected[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-color:#007bff}.category-name[_ngcontent-%COMP%]{font-weight:600;font-size:16px;margin-bottom:5px}.category-examples[_ngcontent-%COMP%]{font-size:12px;opacity:.8}.image-upload[_ngcontent-%COMP%]{position:relative}.file-input[_ngcontent-%COMP%]{display:none}.file-label[_ngcontent-%COMP%]{display:inline-block;padding:12px 20px;background:#f8f9fa;border:2px dashed #dee2e6;border-radius:6px;cursor:pointer;transition:all .3s;text-align:center;font-weight:600;color:#495057}.file-label[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#adb5bd}.image-preview[_ngcontent-%COMP%]{margin-top:10px;padding:10px;background:#f8f9fa;border-radius:6px;border:1px solid #dee2e6}.preview-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.preview-image[_ngcontent-%COMP%]{max-width:200px;max-height:150px;object-fit:cover;border-radius:4px;border:1px solid #ddd}.file-name[_ngcontent-%COMP%]{font-weight:600;color:#495057;text-align:center}.form-help[_ngcontent-%COMP%]{color:#6c757d;font-size:12px;margin-top:5px;display:block}.image-info[_ngcontent-%COMP%]{margin-top:8px}.image-note[_ngcontent-%COMP%]{color:#6c757d;font-size:12px;font-style:italic;background:#fff3cd;padding:8px;border-radius:4px;border-left:3px solid #ffc107;display:block}.selected-items[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0;padding:8px 12px;border-radius:4px;font-size:14px;margin-top:10px}.form-group.error[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#dc3545}.form-group.error[_ngcontent-%COMP%]   .color-options[_ngcontent-%COMP%], .form-group.error[_ngcontent-%COMP%]   .size-options[_ngcontent-%COMP%]{border:2px solid #dc3545;border-radius:6px;padding:10px;background:#fff5f5}.form-group.error[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(.ng-invalid){border-color:#e1e5e9}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.admin-header[_ngcontent-%COMP%]{padding:15px}.header-left[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%]{gap:15px}.header-right[_ngcontent-%COMP%]{gap:10px}.product-form[_ngcontent-%COMP%]{padding:20px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{justify-content:center}.color-options[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.size-options[_ngcontent-%COMP%]{justify-content:center}.size-option[_ngcontent-%COMP%]{min-width:50px;padding:10px 15px}}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}.stock-section[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;padding:20px;margin:20px 0}.stock-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin-bottom:10px;font-size:1.2rem}.stock-description[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:20px;font-size:.9rem}.stock-options[_ngcontent-%COMP%]{margin-bottom:20px}.stock-info[_ngcontent-%COMP%]{background:#e9ecef;padding:15px;border-radius:6px;margin-top:15px}.stock-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:.9rem}.variantes-table[_ngcontent-%COMP%]{margin-top:20px}.variantes-table[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#495057;margin-bottom:15px;font-size:1.1rem}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;margin-bottom:0;background-color:transparent;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;vertical-align:middle;border-top:1px solid #dee2e6}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom;border-bottom:2px solid #dee2e6;background-color:#f8f9fa;font-weight:600;color:#495057}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#0000000d}.color-indicator[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border-radius:50%;margin-right:8px;border:1px solid #dee2e6;vertical-align:middle}.stock-input[_ngcontent-%COMP%]{width:80px;text-align:center}.stock-summary[_ngcontent-%COMP%]{margin-top:20px}.alert[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:20px;border:1px solid transparent;border-radius:6px}.alert-info[_ngcontent-%COMP%]{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.btn-outline-primary[_ngcontent-%COMP%]{color:#007bff;border-color:#007bff;background-color:transparent;padding:8px 16px;border-radius:6px;border:1px solid #007bff;cursor:pointer;transition:all .3s}.btn-outline-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#007bff;color:#fff}.btn-outline-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-outline-secondary[_ngcontent-%COMP%]{color:#6c757d;border-color:#6c757d;background-color:transparent;padding:8px 16px;border-radius:6px;border:1px solid #6c757d;cursor:pointer;transition:all .3s}.btn-outline-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#6c757d;color:#fff}.btn-outline-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.stock-progress[_ngcontent-%COMP%]{margin-top:10px}.progress-bar-container[_ngcontent-%COMP%]{width:100%;height:8px;background-color:#e9ecef;border-radius:4px;overflow:hidden;margin-bottom:5px}.progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#28a745,#20c997);transition:width .3s ease;border-radius:4px}.alert-success[_ngcontent-%COMP%]{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-warning[_ngcontent-%COMP%]{color:#856404;background-color:#fff3cd;border-color:#ffeaa7}.alert-danger[_ngcontent-%COMP%]{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}"]})}}return t})();function AO(t,n){if(t&1&&(c(0,"span",31),d(1),a()),t&2){let e=h();p(),P(e.cartItemCount)}}function NO(t,n){t&1&&(c(0,"h1"),d(1,"Cargando producto..."),a())}function FO(t,n){t&1&&(c(0,"h1"),d(1,"\u270F\uFE0F Modificar Producto"),a())}function VO(t,n){t&1&&(c(0,"div",32),d(1,"Cargando producto..."),a())}function LO(t,n){if(t&1){let e=S();c(0,"h2",67),_("click",function(){x(e);let i=h(2);return C(i.toggleNameEdit())}),d(1),c(2,"span",68),d(3,"\u270F\uFE0F"),a()()}if(t&2){let e=h(2);p(),w(" ",e.productData.nombre," ")}}function jO(t,n){if(t&1){let e=S();c(0,"div",69)(1,"input",70,1),F("ngModelChange",function(i){x(e);let r=h(2);return V(r.productData.nombre,i)||(r.productData.nombre=i),C(i)}),_("blur",function(){x(e);let i=h(2);return C(i.toggleNameEdit())})("keyup.enter",function(){x(e);let i=h(2);return C(i.toggleNameEdit())}),a()()}if(t&2){let e=h(2);p(),N("ngModel",e.productData.nombre)}}function UO(t,n){if(t&1){let e=S();c(0,"p",71),_("click",function(){x(e);let i=h(2);return C(i.toggleDescriptionEdit())}),d(1),c(2,"span",68),d(3,"\u270F\uFE0F"),a()()}if(t&2){let e=h(2);p(),w(" ",e.productData.descripcion||"Sin descripci\xF3n"," ")}}function zO(t,n){if(t&1){let e=S();c(0,"div",72)(1,"textarea",73,2),F("ngModelChange",function(i){x(e);let r=h(2);return V(r.productData.descripcion,i)||(r.productData.descripcion=i),C(i)}),_("blur",function(){x(e);let i=h(2);return C(i.toggleDescriptionEdit())}),a()()}if(t&2){let e=h(2);p(),N("ngModel",e.productData.descripcion)}}function $O(t,n){if(t&1){let e=S();c(0,"div",74),_("click",function(){x(e);let i=h(2);return C(i.togglePriceEdit())}),c(1,"strong"),d(2,"Precio:"),a(),d(3),et(4,"number"),c(5,"span",68),d(6,"\u270F\uFE0F"),a()()}if(t&2){let e=h(2);p(3),w(" $",tt(4,1,e.productData.precio,"1.2-2")," ")}}function BO(t,n){if(t&1){let e=S();c(0,"div",75)(1,"label",76),d(2,"Precio:"),a(),c(3,"input",77,3),F("ngModelChange",function(i){x(e);let r=h(2);return V(r.productData.precio,i)||(r.productData.precio=i),C(i)}),_("blur",function(){x(e);let i=h(2);return C(i.togglePriceEdit())})("keyup.enter",function(){x(e);let i=h(2);return C(i.togglePriceEdit())}),a()()}if(t&2){let e=h(2);p(3),N("ngModel",e.productData.precio)}}function HO(t,n){if(t&1&&(c(0,"span",88),d(1),a()),t&2){let e=h().$implicit;p(),Me(" (",e.stock>e.stockOriginal?"+":"","",e.stock-e.stockOriginal,") ")}}function GO(t,n){if(t&1){let e=S();c(0,"tr")(1,"td"),H(2,"span",81),d(3),a(),c(4,"td"),d(5),a(),c(6,"td")(7,"code"),d(8),a()(),c(9,"td",82),d(10),a(),c(11,"td",83),d(12),b(13,HO,2,2,"span",84),a(),c(14,"td",85)(15,"button",86),_("click",function(){let i=x(e).index,r=h(3);return C(r.decrementStock(i))}),d(16," \u2212 "),a(),c(17,"button",87),_("click",function(){let i=x(e).index,r=h(3);return C(r.incrementStock(i))}),d(18," + "),a()()()}if(t&2){let e=n.$implicit,o=h(3);p(2),at("background-color",o.getColorValue(e.color)),p(),w(" ",e.color," "),p(2),P(e.talle),p(3),P(e.sku),p(2),P(e.stockOriginal),p(),B("stock-increased",e.stock>e.stockOriginal)("stock-decreased",e.stock<e.stockOriginal),p(),w(" ",e.stock," "),p(),g("ngIf",e.stock!==e.stockOriginal)}}function WO(t,n){if(t&1&&(c(0,"div",78)(1,"table",79)(2,"thead")(3,"tr")(4,"th"),d(5,"Color"),a(),c(6,"th"),d(7,"Talle"),a(),c(8,"th"),d(9,"SKU"),a(),c(10,"th"),d(11,"Stock Actual"),a(),c(12,"th"),d(13,"Nuevo Stock"),a(),c(14,"th"),d(15,"Acciones"),a()()(),c(16,"tbody"),b(17,GO,19,12,"tr",80),a()()()),t&2){let e=h(2);p(17),g("ngForOf",e.variantesStock)("ngForTrackBy",e.trackByVariante)}}function qO(t,n){t&1&&(c(0,"div",89)(1,"p"),d(2,"No hay variantes disponibles para este producto."),a()())}function YO(t,n){t&1&&(c(0,"span"),d(1,"\u23F3"),a())}function ZO(t,n){t&1&&(c(0,"span"),d(1,"\u2705"),a())}function KO(t,n){if(t&1&&(c(0,"option",111),d(1),a()),t&2){let e=n.$implicit;g("value",e),p(),w(" ",e," ")}}function QO(t,n){if(t&1){let e=S();c(0,"div",112),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.toggleColor(i))}),H(1,"span",113),d(2),a()}if(t&2){let e=n.$implicit,o=h(3);B("selected",o.isColorSelected(e)),p(),at("background-color",o.getColorValue(e)),p(),w(" ",e," ")}}function JO(t,n){if(t&1&&(c(0,"div",114)(1,"strong"),d(2,"Seleccionados:"),a(),d(3),a()),t&2){let e=h(3);p(3),w(" ",e.productData.colores.join(", ")," ")}}function XO(t,n){if(t&1){let e=S();c(0,"div",115),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.selectTalleCategory(i.id))}),c(1,"div",116),d(2),a(),c(3,"div",117),d(4),a()()}if(t&2){let e=n.$implicit,o=h(3);B("selected",o.categoriaTalleSeleccionada===e.id),p(2),P(e.nombre),p(2),P(e.opciones.join(", "))}}function eI(t,n){if(t&1){let e=S();c(0,"div",120),_("click",function(){let i=x(e).$implicit,r=h(4);return C(r.toggleTalle(i))}),d(1),a()}if(t&2){let e=n.$implicit,o=h(4);B("selected",o.isTalleSelected(e)),p(),w(" ",e," ")}}function tI(t,n){if(t&1&&(c(0,"div",114)(1,"strong"),d(2,"Seleccionado:"),a(),d(3),a()),t&2){let e=h(4);p(3),w(" ",e.productData.talles[0]," ")}}function nI(t,n){if(t&1&&(c(0,"div",93)(1,"label"),d(2,"Talles Espec\xEDficos *"),a(),c(3,"div",118),b(4,eI,2,3,"div",119),a(),b(5,tI,4,1,"div",107),a()),t&2){let e=h(3);B("error",e.formSubmitted&&e.productData.talles.length===0),p(4),g("ngForOf",e.getTallesDisponibles()),p(),g("ngIf",e.productData.talles.length>0)}}function oI(t,n){if(t&1){let e=S();c(0,"div",90)(1,"form",91,4),_("ngSubmit",function(){x(e);let i=h(2);return C(i.onSubmit())}),c(3,"div",92)(4,"div",93)(5,"label",94),d(6,"Tipo de Producto *"),a(),c(7,"select",95),F("ngModelChange",function(i){x(e);let r=h(2);return V(r.productData.tipo,i)||(r.productData.tipo=i),C(i)}),c(8,"option",96),d(9,"Seleccionar tipo..."),a(),b(10,KO,2,2,"option",97),a()(),c(11,"div",93)(12,"label",98),d(13,"Categor\xEDa *"),a(),c(14,"select",99),F("ngModelChange",function(i){x(e);let r=h(2);return V(r.productData.categoria,i)||(r.productData.categoria=i),C(i)}),c(15,"option",100),d(16,"Seleccionar categor\xEDa..."),a(),c(17,"option",101),d(18,"Plano (se compra en rollo)"),a(),c(19,"option",102),d(20,"Tejido (se hace en rectil\xEDnea)"),a()()()(),c(21,"div",93)(22,"label",103),d(23,"SKU *"),a(),c(24,"input",104),F("ngModelChange",function(i){x(e);let r=h(2);return V(r.productData.sku,i)||(r.productData.sku=i),C(i)}),_("input",function(i){x(e);let r=h(2);return C(r.onSkuChange(i))}),a()(),c(25,"div",93)(26,"label"),d(27,"Colores Disponibles *"),a(),c(28,"div",105),b(29,QO,3,5,"div",106),a(),b(30,JO,4,1,"div",107),a(),c(31,"div",93)(32,"label"),d(33,"Categor\xEDa de Talles *"),a(),c(34,"div",108),b(35,XO,5,4,"div",109),a()(),b(36,nI,6,4,"div",110),a()()}if(t&2){let e=h(2);p(7),N("ngModel",e.productData.tipo),p(3),g("ngForOf",e.tipoProductos),p(4),N("ngModel",e.productData.categoria),p(),g("ngValue",null),p(9),N("ngModel",e.productData.sku),p(),B("error",e.formSubmitted&&e.productData.colores.length===0),p(4),g("ngForOf",e.opcionesColores),p(),g("ngIf",e.productData.colores.length>0),p(),B("error",e.formSubmitted&&!e.categoriaTalleSeleccionada),p(4),g("ngForOf",e.categoriasTalles),p(),g("ngIf",e.categoriaTalleSeleccionada)}}function iI(t,n){if(t&1&&(c(0,"div",121),d(1),a()),t&2){let e=h(2);p(),w(" \u274C ",e.error," ")}}function rI(t,n){if(t&1&&(c(0,"div",122),d(1),a()),t&2){let e=h(2);p(),w(" \u2705 ",e.success," ")}}function sI(t,n){if(t&1){let e=S();c(0,"div",33)(1,"div",34)(2,"div",35),H(3,"img",36),c(4,"button",37),_("click",function(){x(e);let i=h();return C(i.toggleImageEdit())}),d(5," \u270F\uFE0F "),a(),c(6,"input",38,0),_("change",function(i){x(e);let r=h();return C(r.onImageSelected(i))}),a()(),c(8,"div",39)(9,"div",40),b(10,LO,4,1,"h2",41)(11,jO,3,1,"div",42),a(),c(12,"div",43),b(13,UO,4,1,"p",44)(14,zO,3,1,"div",45),a(),c(15,"div",46),b(16,$O,7,4,"div",47)(17,BO,5,1,"div",48),a()()(),c(18,"div",49)(19,"h3"),d(20,"\u{1F4CA} Gesti\xF3n de Stock por Variante"),a(),b(21,WO,18,2,"div",50)(22,qO,3,0,"div",51),a(),c(23,"div",52)(24,"button",53),_("click",function(){x(e);let i=h();return C(i.onSubmit())}),b(25,YO,2,0,"span",26)(26,ZO,2,0,"span",26),d(27),a(),c(28,"button",54),_("click",function(){x(e);let i=h();return C(i.goToCatalog())}),d(29," Cancelar "),a()(),c(30,"div",55)(31,"div",56)(32,"input",57),F("ngModelChange",function(i){x(e);let r=h();return V(r.productData.oculto,i)||(r.productData.oculto=i),C(i)}),a(),c(33,"label",58),d(34," Ocultar producto en el cat\xE1logo "),a()(),c(35,"small",59),d(36," Si est\xE1 marcado, el producto no se mostrar\xE1 en el cat\xE1logo para los clientes "),a()(),c(37,"div",60)(38,"button",61),_("click",function(){x(e);let i=h();return C(i.toggleAdvancedOptions())}),c(39,"span",62),d(40,"\u26A0\uFE0F"),a(),d(41," Modificar datos espec\xEDficos de la variante "),c(42,"span",63),d(43),a()(),b(44,oI,37,13,"div",64),a(),b(45,iI,2,1,"div",65)(46,rI,2,1,"div",66),a()}if(t&2){let e=h();p(3),g("src",e.productData.imagenBase64||e.imagenActualUrl,Jn)("alt",e.productData.nombre||"Imagen del producto"),p(7),g("ngIf",!e.editingName),p(),g("ngIf",e.editingName),p(2),g("ngIf",!e.editingDescription),p(),g("ngIf",e.editingDescription),p(2),g("ngIf",!e.editingPrice),p(),g("ngIf",e.editingPrice),p(4),g("ngIf",e.variantesStock.length>0),p(),g("ngIf",e.variantesStock.length===0),p(2),g("disabled",e.loading),p(),g("ngIf",e.loading),p(),g("ngIf",!e.loading),p(),w(" ",e.loading?"Guardando...":"Guardar Cambios"," "),p(),g("disabled",e.loading),p(4),N("ngModel",e.productData.oculto),p(11),P(e.showAdvancedOptions?"\u25BC":"\u25B6"),p(),g("ngIf",e.showAdvancedOptions),p(),g("ngIf",e.error),p(),g("ngIf",e.success)}}function aI(t,n){if(t&1&&(c(0,"li")(1,"strong"),d(2),a(),d(3),c(4,"span",136),d(5),a()()),t&2){let e=n.$implicit;p(2),P(e.sku),p(),Me(" - ",e.color," / ",e.talle," "),p(2),Me(" Stock actual: ",e.stockActual," | Pedidos: ",e.cantidadPedidos," ")}}function cI(t,n){if(t&1&&(c(0,"div",134)(1,"h4"),d(2,"Variantes afectadas:"),a(),c(3,"ul"),b(4,aI,6,5,"li",135),a()()),t&2){let e=h(2);p(4),g("ngForOf",e.variantesConPedidos)}}function lI(t,n){if(t&1){let e=S();c(0,"div",123),_("click",function(){x(e);let i=h();return C(i.cancelarActualizacionConVariantes())}),c(1,"div",124),_("click",function(i){return x(e),C(i.stopPropagation())}),c(2,"div",125)(3,"h3"),d(4,"\u26A0\uFE0F Variantes con Pedidos Asociados"),a(),c(5,"button",126),_("click",function(){x(e);let i=h();return C(i.cancelarActualizacionConVariantes())}),d(6,"\xD7"),a()(),c(7,"div",127)(8,"p",128),d(9," Este producto tiene "),c(10,"strong"),d(11),a(),d(12," variante(s) con pedidos asociados. "),a(),c(13,"p"),d(14," Si contin\xFAas, estas variantes "),c(15,"strong"),d(16,"NO ser\xE1n eliminadas"),a(),d(17,", pero su stock ser\xE1 puesto en "),c(18,"strong"),d(19,"0"),a(),d(20," para evitar futuros pedidos inconsistentes. "),a(),b(21,cI,5,1,"div",129),c(22,"p",130),d(23," \xBFDeseas continuar con la actualizaci\xF3n? "),a()(),c(24,"div",131)(25,"button",132),_("click",function(){x(e);let i=h();return C(i.cancelarActualizacionConVariantes())}),d(26," Cancelar "),a(),c(27,"button",133),_("click",function(){x(e);let i=h();return C(i.confirmarActualizacionConVariantes())}),d(28," Continuar (Poner stock en 0) "),a()()()()}if(t&2){let e=h();p(11),P(e.variantesConPedidos.length),p(10),g("ngIf",e.variantesConPedidos.length>0)}}function dI(t,n){if(t&1){let e=S();c(0,"div",146),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.scrollToResult(i))}),c(1,"div",147),d(2),a(),c(3,"div",148)(4,"div",149),d(5),a(),c(6,"div",150),d(7),a()()()}if(t&2){let e=n.$implicit;p(2),P(e.type==="campo"?"\u{1F4DD}":"\u{1F4C4}"),p(3),P(e.title),p(2),P(e.description)}}function uI(t,n){if(t&1&&(c(0,"div",144),b(1,dI,8,3,"div",145),a()),t&2){let e=h(2);p(),g("ngForOf",e.searchResults)}}function pI(t,n){if(t&1&&(c(0,"div",151)(1,"p"),d(2),a()()),t&2){let e=h(2);p(2),w('No se encontraron resultados para "',e.searchTerm,'"')}}function fI(t,n){if(t&1){let e=S();c(0,"div",137),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),c(1,"div",138),_("click",function(i){return x(e),C(i.stopPropagation())}),c(2,"div",139)(3,"h3"),d(4,"Buscar en la p\xE1gina"),a(),c(5,"button",126),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),d(6,"\xD7"),a()(),c(7,"div",140)(8,"input",141),F("ngModelChange",function(i){x(e);let r=h();return V(r.searchTerm,i)||(r.searchTerm=i),C(i)}),_("input",function(){x(e);let i=h();return C(i.performSearch())}),a()(),b(9,uI,2,1,"div",142)(10,pI,3,1,"div",143),a()()}if(t&2){let e=h();p(8),N("ngModel",e.searchTerm),p(),g("ngIf",e.searchResults.length>0),p(),g("ngIf",e.searchTerm&&e.searchResults.length===0)}}var X0=(()=>{class t{constructor(e,o,i,r,s,l){this.authService=e,this.cartService=o,this.productsService=i,this.router=r,this.route=s,this.cdr=l,this.productData={nombre:"",tipo:"",categoria:null,sku:"",colores:[],talles:[],precio:null,stock:null,descripcion:"",oculto:!1},this.tipoProductos=["REMERA","MUSCULOSA","PANTALON","SHORT","BLUSA","MONO","VESTIDO","TOP","CARDIGAN","RUANA","SWEATER","BUFANDA","GORRO","MITONES","TAPADO","CAPA","SACO","BUZO","CAMPERA","CHALECO"],this.categoriasTalles=[{id:"letras",nombre:"Talles de Letras",opciones:["U","S/M","S/M/L","XS/S/M/L","S/M/L/XL","XS/S/M/L/XL"]},{id:"numericos",nombre:"Talles Num\xE9ricos",opciones:["40/42","40/42/44","38/40/42/44","36/38/40/42","36/38/40/42/44"]}],this.categoriaTalleSeleccionada=null,this.opcionesColores=["Blanco","Negro","Azul","Rojo","Verde","Amarillo","Naranja","Rosa","Violeta","Marr\xF3n","Gris","Beige","Celeste","Turquesa","Coral","Bordeaux","Navy","Khaki","Camel","Crudo"],this.loading=!1,this.loadingProduct=!0,this.error="",this.success="",this.cartItemCount=0,this.formSubmitted=!1,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[],this.showStockSection=!1,this.variantesStock=[],this.stockTotal=0,this.imagenActualUrl=null,this.showConfirmDialog=!1,this.variantesConPedidos=[],this.datosPendientes=null,this.editingName=!1,this.editingDescription=!1,this.editingPrice=!1,this.showAdvancedOptions=!1}ngOnInit(){if(!this.authService.isAdmin()){this.router.navigate(["/catalog"]);return}this.route.params.subscribe(e=>{this.productId=+e.id,this.loadProduct()}),this.updateCartCount()}loadProduct(){this.loadingProduct=!0,this.productsService.getById(this.productId).subscribe({next:e=>{this.populateForm(e),this.loadingProduct=!1},error:e=>{console.error("Error al cargar producto:",e),this.error="Producto no encontrado",this.loadingProduct=!1,setTimeout(()=>this.router.navigate(["/catalog"]),2e3)}})}populateForm(e){this.productData.nombre=e.nombre,this.productData.tipo=e.tipo,this.productData.categoria=e.categoria,this.productData.descripcion=e.descripcion||"",this.productData.oculto=e.oculto===!0,console.log("\u{1F535} [EDIT PRODUCT] Producto cargado - oculto:",e.oculto,"->",this.productData.oculto),this.imagenActualUrl=e.imagenUrl;let o=[...new Set(e.variantes.map(s=>s.color))],i=[...new Set(e.variantes.map(s=>s.talle))];this.productData.colores=o,i.some(s=>["U","S","M","L","XL","XS"].includes(s))?this.categoriaTalleSeleccionada="letras":this.categoriaTalleSeleccionada="numericos";let r=this.agruparTalles(i);if(this.productData.talles=r.length>0?[r[0]]:[],e.variantes.length>0){let l=e.variantes[0].sku.split("-");l.length>=1&&(this.productData.sku=l[0])}e.variantes.length>0&&(this.productData.precio=e.variantes[0].precio),this.variantesStock=e.variantes.map(s=>({color:s.color,talle:s.talle,stock:s.stockDisponible,stockOriginal:s.stockDisponible,sku:s.sku})),this.showStockSection=this.variantesStock.length>0,this.cdr.detectChanges()}agruparTalles(e){if(e.length<=1)return e;let o=["XS","S","M","L","XL","U"],i=e.filter(s=>o.includes(s.toUpperCase())),r=e.filter(s=>!o.includes(s.toUpperCase()));return i.length>1?[i.join("/")]:r.length>1?[r.join("/")]:e}onSubmit(){if(this.loading)return;if(this.formSubmitted=!0,this.loading=!0,this.error="",this.success="",!this.validateForm()){this.loading=!1;return}if(this.variantesStock.length===0){this.error="No hay variantes para actualizar",this.loading=!1;return}let e={nombre:this.productData.nombre,tipo:this.productData.tipo,categoria:this.productData.categoria,sku:this.productData.sku,descripcion:this.productData.descripcion||"",oculto:this.productData.oculto===!0};if(console.log("\u{1F535} [EDIT PRODUCT] Enviando datos con oculto:",e.oculto),this.variantesStock.length>0){let o={};this.variantesStock.forEach(i=>{let r=`${i.color}-${i.talle}`;o[r]=i.stock||0}),e.stockPorVariante=o}this.productData.imagen&&this.productData.imagen instanceof File&&(e.imagen=this.productData.imagen),this.showAdvancedOptions&&(e.colores=this.productData.colores,e.talles=this.productData.talles),this.productData.precio!=null&&this.productData.precio>0&&(e.precio=this.productData.precio),this.productsService.updateProduct(this.productId,e,!1).subscribe({next:o=>{this.loading=!1,this.success="Producto actualizado exitosamente",console.log("\u2705 [EDIT PRODUCT] Producto actualizado:",o),console.log("\u2705 [EDIT PRODUCT] Producto oculto en respuesta:",o.oculto),setTimeout(()=>{this.router.navigate(["/catalog"])},2e3)},error:o=>{if(this.loading=!1,console.error("\u{1F534} [FRONTEND] Error al actualizar producto:",o),console.error("\u{1F534} [FRONTEND] Error status:",o.status),console.error("\u{1F534} [FRONTEND] Error message:",o.message),console.error("\u{1F534} [FRONTEND] Error body:",o.error),o.status===409&&o.error?.requiereConfirmacion){console.log("\u{1F7E1} [FRONTEND] Variantes con pedidos detectadas, mostrando di\xE1logo de confirmaci\xF3n"),this.variantesConPedidos=o.error?.verificacion?.variantesConPedidos||[],this.datosPendientes=e,this.showConfirmDialog=!0;return}let i="Error al actualizar el producto. Int\xE9ntalo de nuevo.";if(o.status===400)i="Error 400: Datos inv\xE1lidos. Revisa que todos los campos est\xE9n completos.";else if(o.status===500){let r=o.error?.error||o.message;i=`Error del servidor: ${r}`,console.error("\u{1F534} [FRONTEND] Mensaje del servidor:",r)}this.error=i}})}validateForm(){return this.productData.nombre.trim()?this.productData.tipo?this.productData.categoria?this.productData.sku.trim()?this.productData.colores.length===0?(this.error="Debes seleccionar al menos un color",!1):this.productData.talles.length===0?(this.error="Debes seleccionar al menos un talle",!1):!this.productData.precio||this.productData.precio<=0?(this.error="El precio debe ser mayor a 0",!1):!0:(this.error="El SKU es obligatorio",!1):(this.error="Debes seleccionar una categor\xEDa",!1):(this.error="Debes seleccionar un tipo de producto",!1):(this.error="El nombre del producto es obligatorio",!1)}selectTalleCategory(e){this.productData.talles=[],this.categoriaTalleSeleccionada=e}getTallesDisponibles(){if(!this.categoriaTalleSeleccionada)return[];let e=this.categoriasTalles.find(o=>o.id===this.categoriaTalleSeleccionada);return e?e.opciones:[]}toggleTalle(e){this.productData.talles.includes(e)?this.productData.talles=[]:this.productData.talles=[e]}toggleColor(e){let o=this.productData.colores.indexOf(e);o>-1?this.productData.colores.splice(o,1):this.productData.colores.push(e)}isTalleSelected(e){return this.productData.talles.length===1&&this.productData.talles[0]===e}isColorSelected(e){return this.productData.colores.includes(e)}onTipoChange(){}onSkuChange(e){let o=e.target.value.toUpperCase();this.productData.sku=o,e.target.value=o}onImageSelected(e){let o=e.target.files[0];if(o){if(o.size>5*1024*1024){this.error="La imagen es demasiado grande. Tama\xF1o m\xE1ximo: 5MB";return}if(!o.type.startsWith("image/")){this.error="Por favor selecciona un archivo de imagen v\xE1lido";return}this.productData.imagen=o;let i=new FileReader;i.onload=r=>{this.productData.imagenBase64=r.target?.result},i.readAsDataURL(o)}}generarVariantesStock(){if(!this.productData.colores.length||!this.productData.talles.length){this.error="Debe seleccionar al menos un color y un talle";return}this.variantesStock=[],this.stockTotal=0,this.showStockSection=!1;let e=[];for(let o of this.productData.colores)for(let i of this.productData.talles){let r=i.includes("/")?i.split("/"):[i];for(let s of r){let l=s.trim(),u=this.generarSku(this.productData.sku,o,l);e.push({color:o,talle:l,stock:0,stockOriginal:0,sku:u})}}this.variantesStock=e,this.showStockSection=!0,this.error="",this.cdr.detectChanges()}onStockChange(e,o){let i=o.target.value,r=i===""?0:Number(i)||0;if(isNaN(r)||r<0){o.target.value=this.variantesStock[e].stock||0;return}this.variantesStock[e].stock=r,this.actualizarStockTotal()}actualizarStockTotal(){this.stockTotal=this.variantesStock.reduce((e,o)=>e+(o.stock||0),0),this.cdr.detectChanges()}generarSku(e,o,i){let r=o.length>=2?o.substring(0,2).toUpperCase():o.toUpperCase();return`${e}-${r}-${i.toUpperCase().replaceAll("/","")}`}validarStockVariantes(){if(this.variantesStock.length===0)return!1;for(let e of this.variantesStock)if(e.stock<0)return this.error=`El stock de ${e.color} - ${e.talle} no puede ser negativo`,!1;return!0}trackByVariante(e,o){return o.sku}getColorValue(e){return{Blanco:"#ffffff",Negro:"#000000",Azul:"#007bff",Rojo:"#dc3545",Verde:"#28a745",Amarillo:"#ffc107",Naranja:"#fd7e14",Rosa:"#e83e8c",Violeta:"#6f42c1",Marr\u00F3n:"#795548",Gris:"#6c757d",Beige:"#f5f5dc",Celeste:"#17a2b8",Turquesa:"#20c997",Coral:"#ff7f50",Bordeaux:"#722f37",Navy:"#001f3f",Khaki:"#f0e68c",Camel:"#c19a6b",Crudo:"#f4f1e8"}[e]||"#cccccc"}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToCart(){this.router.navigate(["/cart"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){if(!this.searchTerm.trim()){this.searchResults=[];return}let e=this.searchTerm.toLowerCase().trim();this.searchResults=[],document.querySelectorAll("h1, h2, h3, h4, h5, h6, button, a, span, p, label, input, select, textarea").forEach(i=>{let r=i.textContent?.toLowerCase()||"",s=i.getAttribute("placeholder")?.toLowerCase()||"",l=i.getAttribute("for")?.toLowerCase()||"";if(r.includes(e)||s.includes(e)||l.includes(e)){let u="elemento";(i.tagName==="LABEL"||i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA")&&(u="campo"),this.searchResults.push({type:u,title:i.textContent?.trim()||i.getAttribute("placeholder")||i.getAttribute("for")||"Elemento",description:u==="campo"?"Campo del formulario":"Elemento encontrado en la p\xE1gina",element:i})}})}scrollToResult(e){this.closeSearchModal(),e.element&&(e.element.scrollIntoView({behavior:"smooth",block:"center"}),e.element.classList.add("search-highlight"),setTimeout(()=>{e.element.classList.remove("search-highlight")},2e3))}confirmarActualizacionConVariantes(){this.datosPendientes&&(this.showConfirmDialog=!1,this.loading=!0,this.error="",console.log("\u{1F535} [FRONTEND] Confirmando actualizaci\xF3n con variantes con pedidos"),this.productsService.updateProduct(this.productId,this.datosPendientes,!0).subscribe({next:e=>{this.loading=!1,this.success="Producto actualizado exitosamente. Las variantes con pedidos fueron mantenidas con stock en 0.",console.log("Producto actualizado:",e),setTimeout(()=>{this.router.navigate(["/catalog"])},2e3)},error:e=>{this.loading=!1,console.error("Error al actualizar producto:",e);let o="Error al actualizar el producto. Int\xE9ntalo de nuevo.";e.status===400?o="Error 400: Datos inv\xE1lidos. Revisa que todos los campos est\xE9n completos.":e.status===500&&(o="Error del servidor. Int\xE9ntalo m\xE1s tarde."),this.error=o}}))}cancelarActualizacionConVariantes(){this.showConfirmDialog=!1,this.variantesConPedidos=[],this.datosPendientes=null,this.error=""}toggleImageEdit(){let e=document.getElementById("imagen-input");e&&e.click()}toggleNameEdit(){this.editingName=!this.editingName,this.editingName&&setTimeout(()=>{let e=document.querySelector(".name-input");e&&(e.focus(),e.select())},0)}toggleDescriptionEdit(){this.editingDescription=!this.editingDescription,this.editingDescription&&setTimeout(()=>{let e=document.querySelector(".description-input");e&&e.focus()},0)}togglePriceEdit(){this.editingPrice=!this.editingPrice,this.editingPrice&&setTimeout(()=>{let e=document.querySelector(".price-input");e&&(e.focus(),e.select())},0)}toggleAdvancedOptions(){this.showAdvancedOptions=!this.showAdvancedOptions}incrementStock(e){this.variantesStock[e]&&(this.variantesStock[e].stock=(this.variantesStock[e].stock||0)+1,this.cdr.detectChanges())}decrementStock(e){this.variantesStock[e]&&this.variantesStock[e].stock>0&&(this.variantesStock[e].stock=this.variantesStock[e].stock-1,this.cdr.detectChanges())}static{this.\u0275fac=function(o){return new(o||t)(E(fe),E(ze),E(so),E(se),E(ut),E(Zt))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-edit-product-page"]],standalone:!0,features:[le],decls:37,vars:7,consts:[["imageInput",""],["nameInput",""],["descriptionInput",""],["priceInput",""],["advancedForm","ngForm"],[1,"edit-product-container","add-product-container"],[1,"admin-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de Pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"form-container"],[1,"form-header"],[4,"ngIf"],["class","loading",4,"ngIf"],["class","edit-product-content",4,"ngIf"],["class","confirm-dialog-overlay",3,"click",4,"ngIf"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[1,"loading"],[1,"edit-product-content"],[1,"product-header-section"],[1,"product-image-container"],[1,"product-main-image",3,"src","alt"],["title","Cambiar imagen",1,"edit-icon-btn","image-edit-btn",3,"click"],["type","file","id","imagen-input","accept","image/*",2,"display","none",3,"change"],[1,"product-info-header"],[1,"product-name-container"],["class","product-name-display",3,"click",4,"ngIf"],["class","product-name-edit",4,"ngIf"],[1,"product-description-container"],["class","product-description-display",3,"click",4,"ngIf"],["class","product-description-edit",4,"ngIf"],[1,"product-price-container"],["class","product-price-display",3,"click",4,"ngIf"],["class","product-price-edit",4,"ngIf"],[1,"stock-section"],["class","variantes-table",4,"ngIf"],["class","no-variants",4,"ngIf"],[1,"save-section"],["type","button",1,"btn","btn-primary","btn-save",3,"click","disabled"],["type","button",1,"btn","btn-secondary","btn-cancel",3,"click","disabled"],[1,"ocultar-producto-section"],[1,"form-check"],["type","checkbox","id","oculto","name","oculto",1,"form-check-input",3,"ngModelChange","ngModel"],["for","oculto",1,"form-check-label"],[1,"form-text","text-muted"],[1,"advanced-section"],["type","button",1,"btn-advanced-toggle",3,"click"],[1,"warning-icon"],[1,"toggle-icon"],["class","advanced-options",4,"ngIf"],["class","error-message",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"product-name-display",3,"click"],[1,"edit-hint"],[1,"product-name-edit"],["type","text",1,"form-control","name-input",3,"ngModelChange","blur","keyup.enter","ngModel"],[1,"product-description-display",3,"click"],[1,"product-description-edit"],["rows","3",1,"form-control","description-input",3,"ngModelChange","blur","ngModel"],[1,"product-price-display",3,"click"],[1,"product-price-edit"],["for","precio-input"],["type","number","id","precio-input","min","0","step","0.01",1,"form-control","price-input",3,"ngModelChange","blur","keyup.enter","ngModel"],[1,"variantes-table"],[1,"table","table-striped"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"color-indicator"],[1,"stock-value","stock-original"],[1,"stock-value","stock-new"],["class","stock-difference",4,"ngIf"],[1,"stock-actions"],["type","button","title","Reducir stock",1,"btn-stock","btn-decrease",3,"click"],["type","button","title","Aumentar stock",1,"btn-stock","btn-increase",3,"click"],[1,"stock-difference"],[1,"no-variants"],[1,"advanced-options"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","tipo"],["id","tipo","name","tipo","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","categoria"],["id","categoria","name","categoria","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue"],["value","PLANO"],["value","TEJIDO"],["for","sku"],["type","text","id","sku","name","sku","required","","placeholder","Ej: REM-001-TJ",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"color-options"],["class","color-option",3,"selected","click",4,"ngFor","ngForOf"],["class","selected-items",4,"ngIf"],[1,"category-options"],["class","category-option",3,"selected","click",4,"ngFor","ngForOf"],["class","form-group",3,"error",4,"ngIf"],[3,"value"],[1,"color-option",3,"click"],[1,"color-dot"],[1,"selected-items"],[1,"category-option",3,"click"],[1,"category-name"],[1,"category-examples"],[1,"size-options"],["class","size-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"size-option",3,"click"],[1,"error-message"],[1,"success-message"],[1,"confirm-dialog-overlay",3,"click"],[1,"confirm-dialog",3,"click"],[1,"confirm-header"],[1,"close-btn",3,"click"],[1,"confirm-content"],[1,"warning-message"],["class","variantes-list",4,"ngIf"],[1,"action-info"],[1,"confirm-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"variantes-list"],[4,"ngFor","ngForOf"],[1,"info-badge"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"search-input-container"],["type","text","placeholder","Escribe lo que quieres buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(o,i){o&1&&(c(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8),_("click",function(){return i.goToCatalog()}),c(4,"div",9),H(5,"img",10),a(),c(6,"span"),d(7,"HRK"),a()(),c(8,"nav",11)(9,"a",12),_("click",function(){return i.goToCatalog()}),d(10,"SHOP"),a(),c(11,"a",13),_("click",function(){return i.goToCatalog()}),d(12,"SALE"),a(),c(13,"a",14),_("click",function(){return i.goToInfo()}),d(14,"info"),a()()(),c(15,"div",15)(16,"button",16),_("click",function(){return i.goToCart()}),d(17," \u{1F6D2} "),b(18,AO,2,1,"span",17),a(),c(19,"button",18),_("click",function(){return i.openSearchModal()}),d(20," \u{1F50D} "),a(),c(21,"button",19),_("click",function(){return i.goToHistory()}),d(22," \u{1F4CB} "),a(),c(23,"button",20),_("click",function(){return i.goToProfile()}),H(24,"img",21),c(25,"span",22),d(26,"\u{1F464}"),a()(),c(27,"button",23),_("click",function(){return i.logout()}),d(28," Cerrar Sesi\xF3n "),a()()(),c(29,"div",24)(30,"div",25),b(31,NO,2,0,"h1",26)(32,FO,2,0,"h1",26),a(),b(33,VO,2,0,"div",27)(34,sI,47,20,"div",28),a(),b(35,lI,29,2,"div",29)(36,fI,11,3,"div",30),a()),o&2&&(p(18),g("ngIf",i.cartItemCount>0),p(13),g("ngIf",i.loadingProduct),p(),g("ngIf",!i.loadingProduct),p(),g("ngIf",i.loadingProduct),p(),g("ngIf",!i.loadingProduct),p(),g("ngIf",i.showConfirmDialog),p(),g("ngIf",i.showSearchModal))},dependencies:[ge,ke,_e,di,ve,ro,Lt,jt,we,Sr,Uu,Et,Pe,io,Xt,Ir,be,Fn],styles:[".add-product-container[_ngcontent-%COMP%], .edit-product-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.admin-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.main-nav[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:600;cursor:pointer;transition:color .3s}.nav-item[_ngcontent-%COMP%]:hover{color:#ccc}.nav-item.sale[_ngcontent-%COMP%]{color:#f44}.nav-item.info[_ngcontent-%COMP%]{color:#4caf50}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#f44;color:#fff;border-radius:50%;width:18px;height:18px;font-size:10px;display:flex;align-items:center;justify-content:center;font-weight:700}.logout-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-size:14px;transition:background .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#c82333}.form-container[_ngcontent-%COMP%]{max-width:1000px;margin:20px auto;padding:0 20px}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.edit-product-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 6px #0000001a}.product-header-section[_ngcontent-%COMP%]{display:flex;gap:30px;margin-bottom:30px;padding-bottom:30px;border-bottom:2px solid #e1e5e9}.product-image-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.product-image-container[_ngcontent-%COMP%]   .product-main-image[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover;border-radius:12px;border:2px solid #e1e5e9;cursor:pointer;transition:all .3s}.product-image-container[_ngcontent-%COMP%]   .product-main-image[_ngcontent-%COMP%]:hover{border-color:#007bff;box-shadow:0 4px 12px #007bff33}.product-image-container[_ngcontent-%COMP%]   .image-edit-btn[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;background:#ffffffe6;border:2px solid #007bff;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s;font-size:18px}.product-image-container[_ngcontent-%COMP%]   .image-edit-btn[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff;transform:scale(1.1)}.product-info-header[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:20px}.product-name-container[_ngcontent-%COMP%]   h2.product-name-display[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333;margin:0;cursor:pointer;display:inline-block;padding:10px 15px;border-radius:8px;transition:all .3s;background:#f8f9fa;border:2px solid #e1e5e9;box-shadow:0 2px 4px #0000000d}.product-name-container[_ngcontent-%COMP%]   h2.product-name-display[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#007bff;box-shadow:0 4px 8px #007bff1a}.product-name-container[_ngcontent-%COMP%]   h2.product-name-display[_ngcontent-%COMP%]:hover   .edit-hint[_ngcontent-%COMP%]{opacity:1}.product-name-container[_ngcontent-%COMP%]   h2.product-name-display[_ngcontent-%COMP%]   .edit-hint[_ngcontent-%COMP%]{opacity:0;margin-left:10px;font-size:18px;transition:opacity .3s}.product-name-container[_ngcontent-%COMP%]   .product-name-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:28px;font-weight:700;padding:10px;border:2px solid #007bff;border-radius:8px;width:100%}.product-description-container[_ngcontent-%COMP%]   p.product-description-display[_ngcontent-%COMP%]{color:#666;font-size:16px;line-height:1.6;margin:0;padding:15px;border-radius:8px;cursor:pointer;transition:all .3s;min-height:60px;background:#f8f9fa;border:2px solid #e1e5e9;box-shadow:0 2px 4px #0000000d}.product-description-container[_ngcontent-%COMP%]   p.product-description-display[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#007bff;box-shadow:0 4px 8px #007bff1a}.product-description-container[_ngcontent-%COMP%]   p.product-description-display[_ngcontent-%COMP%]:hover   .edit-hint[_ngcontent-%COMP%]{opacity:1}.product-description-container[_ngcontent-%COMP%]   p.product-description-display[_ngcontent-%COMP%]   .edit-hint[_ngcontent-%COMP%]{opacity:0;margin-left:10px;font-size:14px;transition:opacity .3s}.product-description-container[_ngcontent-%COMP%]   .product-description-edit[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:15px;border:2px solid #007bff;border-radius:8px;font-size:16px;font-family:inherit;resize:vertical;min-height:100px}.product-price-container[_ngcontent-%COMP%]   div.product-price-display[_ngcontent-%COMP%]{color:#333;font-size:20px;margin:0;padding:15px;border-radius:8px;cursor:pointer;transition:all .3s;background:#f8f9fa;border:2px solid #e1e5e9;box-shadow:0 2px 4px #0000000d;display:inline-block}.product-price-container[_ngcontent-%COMP%]   div.product-price-display[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;margin-right:10px}.product-price-container[_ngcontent-%COMP%]   div.product-price-display[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#007bff;box-shadow:0 4px 8px #007bff1a}.product-price-container[_ngcontent-%COMP%]   div.product-price-display[_ngcontent-%COMP%]:hover   .edit-hint[_ngcontent-%COMP%]{opacity:1}.product-price-container[_ngcontent-%COMP%]   div.product-price-display[_ngcontent-%COMP%]   .edit-hint[_ngcontent-%COMP%]{opacity:0;margin-left:10px;font-size:16px;transition:opacity .3s}.product-price-container[_ngcontent-%COMP%]   .product-price-edit[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.product-price-container[_ngcontent-%COMP%]   .product-price-edit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:16px}.product-price-container[_ngcontent-%COMP%]   .product-price-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:18px;font-weight:600;padding:10px;border:2px solid #007bff;border-radius:8px;width:200px}.stock-section[_ngcontent-%COMP%]{margin-bottom:30px}.stock-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;color:#333;font-size:22px}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f8f9fa}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px;text-align:left;font-weight:600;color:#333;border-bottom:2px solid #dee2e6}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #e1e5e9}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px;vertical-align:middle}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .color-indicator[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:50%;margin-right:10px;vertical-align:middle;border:2px solid #e1e5e9}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f8f9fa;padding:4px 8px;border-radius:4px;font-size:12px;color:#666}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-value[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;text-align:center}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-value.stock-original[_ngcontent-%COMP%]{color:#666;font-weight:500}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-value.stock-new[_ngcontent-%COMP%]{color:#333}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-value.stock-new.stock-increased[_ngcontent-%COMP%]{color:#28a745}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-value.stock-new.stock-decreased[_ngcontent-%COMP%]{color:#dc3545}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-value.stock-new[_ngcontent-%COMP%]   .stock-difference[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-left:8px}.stock-section[_ngcontent-%COMP%]   .variantes-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.stock-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center}.stock-section[_ngcontent-%COMP%]   .no-variants[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#999}.btn-stock[_ngcontent-%COMP%]{width:40px;height:40px;border:2px solid #007bff;background:#fff;color:#007bff;font-size:24px;font-weight:700;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s}.btn-stock[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff;transform:scale(1.1)}.btn-stock[_ngcontent-%COMP%]:active{transform:scale(.95)}.btn-stock.btn-decrease[_ngcontent-%COMP%]{border-color:#dc3545;color:#dc3545}.btn-stock.btn-decrease[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff}.save-section[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;margin-bottom:30px;padding-top:20px;border-top:2px solid #e1e5e9}.save-section[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{min-width:200px;padding:15px 30px;font-size:18px;font-weight:600}.save-section[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{min-width:150px;padding:15px 30px;font-size:18px}.ocultar-producto-section[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background:#f8f9fa;border-radius:8px;border:1px solid #dee2e6}.ocultar-producto-section[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:8px}.ocultar-producto-section[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;margin:0}.ocultar-producto-section[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#333;cursor:pointer;margin:0}.ocultar-producto-section[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]{font-size:13px;color:#6c757d;margin-top:5px;margin-left:30px}.advanced-section[_ngcontent-%COMP%]{margin-top:30px;padding-top:30px;border-top:2px solid #e1e5e9}.advanced-section[_ngcontent-%COMP%]   .btn-advanced-toggle[_ngcontent-%COMP%]{width:100%;padding:15px 20px;background:#fff3cd;border:2px solid #ffc107;border-radius:8px;font-size:16px;font-weight:600;color:#856404;cursor:pointer;display:flex;align-items:center;justify-content:space-between;transition:all .3s}.advanced-section[_ngcontent-%COMP%]   .btn-advanced-toggle[_ngcontent-%COMP%]:hover{background:#ffe69c;border-color:#ff9800}.advanced-section[_ngcontent-%COMP%]   .btn-advanced-toggle[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:10px}.advanced-section[_ngcontent-%COMP%]   .btn-advanced-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{font-size:14px;margin-left:auto}.advanced-section[_ngcontent-%COMP%]   .advanced-options[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background:#f8f9fa;border-radius:8px;border:1px solid #e1e5e9}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;font-size:28px;margin-bottom:10px}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.product-form[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 6px #0000001a}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:8px;font-size:14px}.form-control[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid #e1e5e9;border-radius:6px;font-size:14px;transition:border-color .3s;background:#fff}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-control.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:#17a2b8}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:30px;padding-top:20px;border-top:1px solid #e1e5e9}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s;font-size:14px;display:flex;align-items:center;gap:8px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6268}.btn-primary[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0056b3;transform:translateY(-1px);box-shadow:0 4px 8px #007bff4d}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:12px 16px;border-radius:6px;margin-top:20px;border:1px solid #f5c6cb}.success-message[_ngcontent-%COMP%]{background:#d4edda;color:#155724;padding:12px 16px;border-radius:6px;margin-top:20px;border:1px solid #c3e6cb}.color-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px;margin-bottom:15px}.color-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 12px;border:2px solid #e1e5e9;border-radius:6px;cursor:pointer;transition:all .3s;background:#fff}.color-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9fa}.color-option.selected[_ngcontent-%COMP%]{border-color:#007bff;background:#e3f2fd}.color-dot[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;border:1px solid #ccc;flex-shrink:0}.size-options[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:15px}.size-option[_ngcontent-%COMP%]{padding:12px 20px;border:2px solid #e1e5e9;border-radius:6px;cursor:pointer;transition:all .3s;background:#fff;font-weight:600;text-align:center;min-width:60px}.size-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9fa}.size-option.selected[_ngcontent-%COMP%]{border-color:#007bff;background:#e3f2fd;color:#007bff}.category-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:15px}.category-option[_ngcontent-%COMP%]{padding:15px;border:2px solid #e1e5e9;border-radius:8px;cursor:pointer;transition:all .3s;background:#fff;text-align:center}.category-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9fa}.category-option.selected[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-color:#007bff}.category-name[_ngcontent-%COMP%]{font-weight:600;font-size:16px;margin-bottom:5px}.category-examples[_ngcontent-%COMP%]{font-size:12px;opacity:.8}.image-upload[_ngcontent-%COMP%]{position:relative}.file-input[_ngcontent-%COMP%]{display:none}.file-label[_ngcontent-%COMP%]{display:inline-block;padding:12px 20px;background:#f8f9fa;border:2px dashed #dee2e6;border-radius:6px;cursor:pointer;transition:all .3s;text-align:center;font-weight:600;color:#495057}.file-label[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#adb5bd}.image-preview[_ngcontent-%COMP%]{margin-top:10px;padding:10px;background:#f8f9fa;border-radius:6px;border:1px solid #dee2e6}.preview-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.preview-image[_ngcontent-%COMP%]{max-width:200px;max-height:150px;object-fit:cover;border-radius:4px;border:1px solid #ddd}.file-name[_ngcontent-%COMP%]{font-weight:600;color:#495057;text-align:center}.form-help[_ngcontent-%COMP%]{color:#6c757d;font-size:12px;margin-top:5px;display:block}.image-info[_ngcontent-%COMP%]{margin-top:8px}.image-note[_ngcontent-%COMP%]{color:#6c757d;font-size:12px;font-style:italic;background:#fff3cd;padding:8px;border-radius:4px;border-left:3px solid #ffc107;display:block}.selected-items[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0;padding:8px 12px;border-radius:4px;font-size:14px;margin-top:10px}.form-group.error[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#dc3545}.form-group.error[_ngcontent-%COMP%]   .color-options[_ngcontent-%COMP%], .form-group.error[_ngcontent-%COMP%]   .size-options[_ngcontent-%COMP%]{border:2px solid #dc3545;border-radius:6px;padding:10px;background:#fff5f5}.form-group.error[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(.ng-invalid){border-color:#e1e5e9}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.admin-header[_ngcontent-%COMP%]{padding:15px}.header-left[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%]{gap:15px}.header-right[_ngcontent-%COMP%]{gap:10px}.product-form[_ngcontent-%COMP%]{padding:20px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{justify-content:center}.color-options[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.size-options[_ngcontent-%COMP%]{justify-content:center}.size-option[_ngcontent-%COMP%]{min-width:50px;padding:10px 15px}}.confirm-dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1001}.confirm-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:700px;max-height:85vh;overflow-y:auto;box-shadow:0 20px 40px #0000004d}.confirm-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:2px solid #ffc107;background:#fff3cd}.confirm-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#856404;font-size:20px;font-weight:600}.confirm-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;cursor:pointer;color:#856404;padding:0;width:35px;height:35px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.confirm-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#8564041a}.confirm-content[_ngcontent-%COMP%]{padding:25px}.confirm-content[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]{font-size:16px;color:#856404;margin-bottom:15px;line-height:1.6}.confirm-content[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#856404;font-weight:700}.confirm-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;line-height:1.6;margin-bottom:15px}.confirm-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#856404}.confirm-content[_ngcontent-%COMP%]   .variantes-list[_ngcontent-%COMP%]{margin:20px 0;padding:15px;background:#f8f9fa;border-radius:8px;border-left:4px solid #ffc107}.confirm-content[_ngcontent-%COMP%]   .variantes-list[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:#856404;font-size:16px}.confirm-content[_ngcontent-%COMP%]   .variantes-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.confirm-content[_ngcontent-%COMP%]   .variantes-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;margin-bottom:8px;background:#fff;border-radius:6px;border:1px solid #e1e5e9;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px}.confirm-content[_ngcontent-%COMP%]   .variantes-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.confirm-content[_ngcontent-%COMP%]   .variantes-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]{background:#fff3cd;color:#856404;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600}.confirm-content[_ngcontent-%COMP%]   .action-info[_ngcontent-%COMP%]{margin-top:20px;padding:15px;background:#e7f3ff;border-radius:8px;border-left:4px solid #007bff;color:#004085;font-weight:500}.confirm-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;padding:20px;border-top:1px solid #eee;background:#f8f9fa}.confirm-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 24px;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s;border:none}.confirm-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.confirm-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px);box-shadow:0 4px 8px #6c757d4d}.confirm-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc107,#ff9800);color:#fff}.confirm-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e0a800,#e68900);transform:translateY(-2px);box-shadow:0 4px 12px #ffc10766}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}.stock-section[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;padding:20px;margin:20px 0}.stock-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin-bottom:10px;font-size:1.2rem}.stock-description[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:20px;font-size:.9rem}.stock-options[_ngcontent-%COMP%]{margin-bottom:20px}.stock-info[_ngcontent-%COMP%]{background:#e9ecef;padding:15px;border-radius:6px;margin-top:15px}.stock-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:.9rem}.variantes-table[_ngcontent-%COMP%]{margin-top:20px}.variantes-table[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#495057;margin-bottom:15px;font-size:1.1rem}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;margin-bottom:0;background-color:transparent;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;vertical-align:middle;border-top:1px solid #dee2e6}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom;border-bottom:2px solid #dee2e6;background-color:#f8f9fa;font-weight:600;color:#495057}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#0000000d}.color-indicator[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border-radius:50%;margin-right:8px;border:1px solid #dee2e6;vertical-align:middle}.stock-input[_ngcontent-%COMP%]{width:80px;text-align:center}.stock-summary[_ngcontent-%COMP%]{margin-top:20px}.alert[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:20px;border:1px solid transparent;border-radius:6px}.alert-info[_ngcontent-%COMP%]{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.btn-outline-primary[_ngcontent-%COMP%]{color:#007bff;border-color:#007bff;background-color:transparent;padding:8px 16px;border-radius:6px;border:1px solid #007bff;cursor:pointer;transition:all .3s}.btn-outline-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#007bff;color:#fff}.btn-outline-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-outline-secondary[_ngcontent-%COMP%]{color:#6c757d;border-color:#6c757d;background-color:transparent;padding:8px 16px;border-radius:6px;border:1px solid #6c757d;cursor:pointer;transition:all .3s}.btn-outline-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#6c757d;color:#fff}.btn-outline-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.stock-progress[_ngcontent-%COMP%]{margin-top:10px}.progress-bar-container[_ngcontent-%COMP%]{width:100%;height:8px;background-color:#e9ecef;border-radius:4px;overflow:hidden;margin-bottom:5px}.progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#28a745,#20c997);transition:width .3s ease;border-radius:4px}.alert-success[_ngcontent-%COMP%]{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-warning[_ngcontent-%COMP%]{color:#856404;background-color:#fff3cd;border-color:#ffeaa7}.alert-danger[_ngcontent-%COMP%]{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}"]})}}return t})();function gI(t,n){if(t&1&&(c(0,"span",40),d(1),a()),t&2){let e=h();p(),P(e.cartItemCount)}}function hI(t,n){t&1&&(c(0,"div",41),d(1," Cargando... "),a())}function mI(t,n){if(t&1&&(c(0,"div",42)(1,"div",43),mg(),c(2,"svg",44),H(3,"circle",45)(4,"circle",46),a(),_g(),c(5,"div",47)(6,"span",48),d(7),a()()(),c(8,"div",49)(9,"p")(10,"strong"),d(11,"Total Vendido:"),a(),d(12),a(),c(13,"p")(14,"strong"),d(15,"Stock Hist\xF3rico:"),a(),d(16),a()()()),t&2){let e=h();p(4),Te("stroke-dasharray",e.circumference)("stroke-dashoffset",e.dashOffset),p(3),w("",e.chartData.porcentajeVendido,"%"),p(5),w(" ",e.chartData.totalVendido," unidades"),p(4),w(" ",e.chartData.totalStockHistorico," unidades")}}function _I(t,n){t&1&&(c(0,"div",50),d(1," Error al cargar el gr\xE1fico "),a())}function vI(t,n){t&1&&(c(0,"div",41),d(1," Cargando... "),a())}function xI(t,n){if(t&1&&(c(0,"div",62)(1,"div",63)(2,"span",64),d(3),a(),c(4,"span",65),d(5),a()(),c(6,"div",66)(7,"div",67)(8,"span",68),d(9),et(10,"number"),a()()()()),t&2){let e=n.$implicit,o=n.index,i=h(3);p(3),w("",o+1,"."),p(2),P(e.nombreCliente),p(2),at("width",i.getClienteBarWidth(e.montoTotal),"%"),B("bar-client1",o===0)("bar-client2",o===1)("bar-client3",o===2),p(2),w("$",tt(10,11,e.montoTotal,"1.2-2"),"")}}function CI(t,n){if(t&1&&(c(0,"div",59)(1,"div",60),b(2,xI,11,14,"div",61),a()()),t&2){let e=h(2);p(2),g("ngForOf",e.topClientesData)}}function bI(t,n){t&1&&(c(0,"div",69),d(1," No hay datos de clientes en este per\xEDodo "),a())}function yI(t,n){if(t&1&&(c(0,"div",51)(1,"div",52)(2,"span",53),d(3,"$"),a(),c(4,"span",54),d(5),et(6,"number"),a()(),c(7,"div",55)(8,"span",56),d(9),a()(),b(10,CI,3,1,"div",57)(11,bI,2,0,"div",58),a()),t&2){let e=h();p(5),P(tt(6,4,e.totalFacturadoData.totalFacturado,"1.2-2")),p(4),w("",e.totalFacturadoData.cantidadPedidos," pedidos"),p(),g("ngIf",e.topClientesData&&e.topClientesData.length>0),p(),g("ngIf",!e.loadingTotalFacturado&&(!e.topClientesData||e.topClientesData.length===0))}}function MI(t,n){t&1&&(c(0,"div",70),d(1," No hay datos de facturaci\xF3n en este per\xEDodo "),a())}function EI(t,n){t&1&&(c(0,"div",41),d(1," Cargando... "),a())}function wI(t,n){if(t&1&&(c(0,"div",86)(1,"span",87),d(2),a(),H(3,"span",88),a()),t&2){let e=n.$implicit;p(2),P(e)}}function PI(t,n){if(t&1){let e=S();c(0,"div",89)(1,"div",90)(2,"div",91),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.seleccionarProducto(i.productoId))}),c(3,"span",92),d(4),a()()(),c(5,"div",93)(6,"span",94),d(7),a(),c(8,"span",95),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.seleccionarProducto(i.productoId))}),d(9),a()()()}if(t&2){let e=n.$implicit,o=n.index,i=h(3);p(2),at("height",i.getBarHeight(e.cantidadVendida),"%"),B("bar-top1",o===0)("bar-top2",o===1)("bar-top3",o===2)("bar-other",o>2)("bar-selected",i.productoSeleccionado===e.productoId),p(2),P(e.cantidadVendida),p(3),w("",o+1,"."),p(2),P(e.nombre)}}function DI(t,n){if(t&1&&(c(0,"div",80)(1,"div",81)(2,"div",82),b(3,wI,4,1,"div",83),a(),c(4,"div",84),b(5,PI,10,15,"div",85),a()()()),t&2){let e=h(2);p(3),g("ngForOf",e.yAxisTicks),p(2),g("ngForOf",e.topArticulosData)}}function SI(t,n){t&1&&(c(0,"div",70),d(1," No hay datos de art\xEDculos vendidos en este per\xEDodo "),a())}function OI(t,n){t&1&&(c(0,"div",41),d(1," Cargando todos los art\xEDculos... "),a())}function II(t,n){if(t&1&&(c(0,"option",28),d(1),a()),t&2){let e=n.$implicit;g("value",e.productoId),p(),Me(" ",e.nombre," (",e.cantidadVendida," vendidas) ")}}function TI(t,n){if(t&1){let e=S();c(0,"div",98)(1,"label",99),d(2,"Seleccionar art\xEDculo:"),a(),c(3,"select",100),_("change",function(i){x(e);let r=h(3);return C(r.onArticuloSeleccionado(i))}),b(4,II,2,3,"option",101),a()()}if(t&2){let e=h(3);p(4),g("ngForOf",e.todosArticulosData)}}function kI(t,n){t&1&&(c(0,"div",70),d(1," No hay art\xEDculos en este per\xEDodo "),a())}function RI(t,n){if(t&1&&(c(0,"div",96),b(1,OI,2,0,"div",29)(2,TI,5,1,"div",97)(3,kI,2,0,"div",35),a()),t&2){let e=h(2);p(),g("ngIf",e.loadingTodosArticulos),p(),g("ngIf",!e.loadingTodosArticulos&&e.todosArticulosData&&e.todosArticulosData.length>0),p(),g("ngIf",!e.loadingTodosArticulos&&(!e.todosArticulosData||e.todosArticulosData.length===0))}}function AI(t,n){if(t&1&&(c(0,"div",113)(1,"div",114)(2,"span",115),d(3),a(),c(4,"span",116),d(5),a()(),c(6,"div",117)(7,"span",118),d(8),a(),c(9,"span",119),d(10),a()()()),t&2){let e=n.$implicit;p(3),P(e.sku),p(2),Me("",e.color," - Talle ",e.talle,""),p(3),w("",e.cantidadVendida," vendidas"),p(2),w("Stock hist\xF3rico: ",e.stockHistorico,"")}}function NI(t,n){if(t&1){let e=S();c(0,"div",102)(1,"div",103)(2,"h4"),d(3),a(),c(4,"button",104),_("click",function(){x(e);let i=h(2);return C(i.cerrarDetallesProducto())}),d(5,"\u2715"),a()(),c(6,"div",105)(7,"div",106)(8,"span",107),d(9,"% Vendido sobre Stock Hist\xF3rico:"),a(),c(10,"span",108),d(11),a()(),c(12,"div",106)(13,"span",107),d(14,"Stock Hist\xF3rico Total:"),a(),c(15,"span",109),d(16),a()(),c(17,"div",106)(18,"span",107),d(19,"Ventas Totales:"),a(),c(20,"span",109),d(21),a()()(),c(22,"div",110)(23,"h5"),d(24,"Ventas por Variante:"),a(),c(25,"div",111),b(26,AI,11,5,"div",112),a()()()}if(t&2){let e=h(2);p(3),P(e.detallesProducto.nombreProducto),p(8),w("",e.detallesProducto.porcentajeVendido,"%"),p(5),w("",e.detallesProducto.stockHistoricoTotal," unidades"),p(5),w("",e.detallesProducto.ventasTotales," unidades"),p(5),g("ngForOf",e.detallesProducto.variantes)}}function FI(t,n){if(t&1){let e=S();c(0,"div",71)(1,"div",72)(2,"div",23)(3,"div",24)(4,"h3"),d(5,"Top Art\xEDculos M\xE1s Vendidos"),a(),c(6,"div",25)(7,"label",73),d(8,"Per\xEDodo:"),a(),c(9,"select",74),F("ngModelChange",function(i){x(e);let r=h();return V(r.selectedPeriodTopArticulos,i)||(r.selectedPeriodTopArticulos=i),C(i)}),_("change",function(){x(e);let i=h();return C(i.onPeriodTopArticulosChange())}),c(10,"option",28),d(11,"1 d\xEDa"),a(),c(12,"option",28),d(13,"1 mes"),a(),c(14,"option",28),d(15,"3 meses"),a(),c(16,"option",28),d(17,"6 meses"),a(),c(18,"option",28),d(19,"9 meses"),a(),c(20,"option",28),d(21,"12 meses"),a()()()(),b(22,EI,2,0,"div",29)(23,DI,6,2,"div",75)(24,SI,2,0,"div",35),c(25,"div",76)(26,"button",77),_("click",function(){x(e);let i=h();return C(i.toggleTodosArticulos())}),c(27,"span"),d(28),a(),c(29,"span",38),d(30),a()(),b(31,RI,4,3,"div",78),a(),b(32,NI,27,5,"div",79),a()()()}if(t&2){let e=h();p(9),N("ngModel",e.selectedPeriodTopArticulos),p(),g("value",.033),p(2),g("value",1),p(2),g("value",3),p(2),g("value",6),p(2),g("value",9),p(2),g("value",12),p(2),g("ngIf",e.loadingTopArticulos),p(),g("ngIf",!e.loadingTopArticulos&&e.topArticulosData&&e.topArticulosData.length>0),p(),g("ngIf",!e.loadingTopArticulos&&(!e.topArticulosData||e.topArticulosData.length===0)),p(2),B("expanded",e.mostrarTodosArticulos),p(2),P(e.mostrarTodosArticulos?"Ocultar todos los art\xEDculos":"Ver todos los art\xEDculos"),p(2),P(e.mostrarTodosArticulos?"\u2212":"+"),p(),g("ngIf",e.mostrarTodosArticulos),p(),g("ngIf",e.productoSeleccionado&&e.detallesProducto)}}function VI(t,n){t&1&&(c(0,"div",41),d(1,"Cargando..."),a())}function LI(t,n){if(t&1&&(c(0,"div",123),d(1),a()),t&2){let e=h(2);p(),w(" ",e.metricasData.ordenesCanceladas," ")}}function jI(t,n){if(t&1){let e=S();c(0,"div",71)(1,"div",24)(2,"h3"),d(3,"\xD3rdenes Canceladas"),a(),c(4,"div",25)(5,"label",120),d(6,"Per\xEDodo:"),a(),c(7,"select",121),F("ngModelChange",function(i){x(e);let r=h();return V(r.selectedPeriodOrdenesCanceladas,i)||(r.selectedPeriodOrdenesCanceladas=i),C(i)}),_("change",function(){x(e);let i=h();return C(i.onPeriodOrdenesCanceladasChange())}),c(8,"option",28),d(9,"1 d\xEDa"),a(),c(10,"option",28),d(11,"1 mes"),a(),c(12,"option",28),d(13,"3 meses"),a(),c(14,"option",28),d(15,"6 meses"),a(),c(16,"option",28),d(17,"9 meses"),a(),c(18,"option",28),d(19,"12 meses"),a()()()(),b(20,VI,2,0,"div",29)(21,LI,2,1,"div",122),a()}if(t&2){let e=h();p(7),N("ngModel",e.selectedPeriodOrdenesCanceladas),p(),g("value",.033),p(2),g("value",1),p(2),g("value",3),p(2),g("value",6),p(2),g("value",9),p(2),g("value",12),p(2),g("ngIf",e.loadingMetricas.ordenesCanceladas),p(),g("ngIf",!e.loadingMetricas.ordenesCanceladas&&e.metricasData.ordenesCanceladas!==null)}}function UI(t,n){t&1&&(c(0,"div",41),d(1,"Cargando..."),a())}function zI(t,n){if(t&1&&(c(0,"div",127)(1,"p",123),d(2),a(),c(3,"p",128),d(4),a()()),t&2){let e=h(2);p(2),P(e.metricasData.medioPago.metodo),p(2),w("Usado ",e.metricasData.medioPago.cantidad," veces")}}function $I(t,n){if(t&1){let e=S();c(0,"div",71)(1,"div",24)(2,"h3"),d(3,"Medio de Pago M\xE1s Usado"),a(),c(4,"div",25)(5,"label",124),d(6,"Per\xEDodo:"),a(),c(7,"select",125),F("ngModelChange",function(i){x(e);let r=h();return V(r.selectedPeriodMedioPago,i)||(r.selectedPeriodMedioPago=i),C(i)}),_("change",function(){x(e);let i=h();return C(i.onPeriodMedioPagoChange())}),c(8,"option",28),d(9,"1 d\xEDa"),a(),c(10,"option",28),d(11,"1 mes"),a(),c(12,"option",28),d(13,"3 meses"),a(),c(14,"option",28),d(15,"6 meses"),a(),c(16,"option",28),d(17,"9 meses"),a(),c(18,"option",28),d(19,"12 meses"),a()()()(),b(20,UI,2,0,"div",29)(21,zI,5,2,"div",126),a()}if(t&2){let e=h();p(7),N("ngModel",e.selectedPeriodMedioPago),p(),g("value",.033),p(2),g("value",1),p(2),g("value",3),p(2),g("value",6),p(2),g("value",9),p(2),g("value",12),p(2),g("ngIf",e.loadingMetricas.medioPago),p(),g("ngIf",!e.loadingMetricas.medioPago&&e.metricasData.medioPago)}}function BI(t,n){t&1&&(c(0,"div",41),d(1,"Cargando..."),a())}function HI(t,n){if(t&1&&(c(0,"div",127)(1,"p")(2,"strong"),d(3,"Aptas:"),a(),d(4),a(),c(5,"p")(6,"strong"),d(7,"Scrap:"),a(),d(8),a(),c(9,"p")(10,"strong"),d(11,"Pendientes:"),a(),d(12),a(),c(13,"p")(14,"strong"),d(15,"Total:"),a(),d(16),a()()),t&2){let e=h(2);p(4),w(" ",e.metricasData.devoluciones.aptas,""),p(4),w(" ",e.metricasData.devoluciones.scrap,""),p(4),w(" ",e.metricasData.devoluciones.pendientes,""),p(4),w(" ",e.metricasData.devoluciones.total,"")}}function GI(t,n){if(t&1){let e=S();c(0,"div",71)(1,"div",24)(2,"h3"),d(3,"Devoluciones"),a(),c(4,"div",25)(5,"label",129),d(6,"Per\xEDodo:"),a(),c(7,"select",130),F("ngModelChange",function(i){x(e);let r=h();return V(r.selectedPeriodDevoluciones,i)||(r.selectedPeriodDevoluciones=i),C(i)}),_("change",function(){x(e);let i=h();return C(i.onPeriodDevolucionesChange())}),c(8,"option",28),d(9,"1 d\xEDa"),a(),c(10,"option",28),d(11,"1 mes"),a(),c(12,"option",28),d(13,"3 meses"),a(),c(14,"option",28),d(15,"6 meses"),a(),c(16,"option",28),d(17,"9 meses"),a(),c(18,"option",28),d(19,"12 meses"),a()()()(),b(20,BI,2,0,"div",29)(21,HI,17,4,"div",126),a()}if(t&2){let e=h();p(7),N("ngModel",e.selectedPeriodDevoluciones),p(),g("value",.033),p(2),g("value",1),p(2),g("value",3),p(2),g("value",6),p(2),g("value",9),p(2),g("value",12),p(2),g("ngIf",e.loadingMetricas.devoluciones),p(),g("ngIf",!e.loadingMetricas.devoluciones&&e.metricasData.devoluciones)}}function WI(t,n){t&1&&(c(0,"div",41),d(1," Cargando... "),a())}function qI(t,n){if(t&1&&(c(0,"div",136)(1,"p"),d(2,"\u2705 Todos los clientes han realizado compras en este per\xEDodo"),a(),c(3,"p",128),d(4),a()()),t&2){let e=h(3);p(4),w("Total de clientes: ",e.metricasData.clientesSinCompras.totalClientes,"")}}function YI(t,n){if(t&1&&(c(0,"option",28),d(1),a()),t&2){let e=n.$implicit;g("value",e.clienteId),p(),Me(" ",e.nombreCliente," (",e.email,") ")}}function ZI(t,n){t&1&&(c(0,"div",41),d(1," Cargando \xFAltima compra... "),a())}function KI(t,n){if(t&1&&(c(0,"div",145)(1,"div",106)(2,"span",107),d(3,"\xDAltima compra:"),a(),c(4,"span",108),d(5),et(6,"date"),a()(),c(7,"div",106)(8,"span",107),d(9,"Monto:"),a(),c(10,"span",109),d(11),et(12,"number"),a()(),c(13,"div",106)(14,"span",107),d(15,"Estado:"),a(),c(16,"span",109),d(17),a()()()),t&2){let e=h(5);p(5),P(tt(6,3,e.ultimaCompraData.ultimaCompraFecha,"dd/MM/yyyy HH:mm")),p(6),w("$",tt(12,6,e.ultimaCompraData.ultimaCompraTotal,"1.2-2"),""),p(6),P(e.ultimaCompraData.ultimaCompraEstado)}}function QI(t,n){if(t&1&&(c(0,"div",146)(1,"p"),d(2),a()()),t&2){let e=h(5);p(2),P(e.ultimaCompraData.mensaje)}}function JI(t,n){if(t&1){let e=S();c(0,"div",142)(1,"div",103)(2,"h4"),d(3),a(),c(4,"button",104),_("click",function(){x(e);let i=h(4);return C(i.cerrarDetallesCliente())}),d(5,"\u2715"),a()(),c(6,"div",105)(7,"div",106)(8,"span",107),d(9,"Email:"),a(),c(10,"span",109),d(11),a()(),c(12,"div",106)(13,"span",107),d(14,"CUIT:"),a(),c(15,"span",109),d(16),a()(),b(17,ZI,2,0,"div",29)(18,KI,18,9,"div",143)(19,QI,3,1,"div",144),a()()}if(t&2){let e=h(4);p(3),P(e.clienteSeleccionado.nombreCliente),p(8),P(e.clienteSeleccionado.email),p(5),P(e.clienteSeleccionado.cuit),p(),g("ngIf",e.loadingUltimaCompra),p(),g("ngIf",!e.loadingUltimaCompra&&e.ultimaCompraData.tieneCompras),p(),g("ngIf",!e.loadingUltimaCompra&&!e.ultimaCompraData.tieneCompras)}}function XI(t,n){if(t&1){let e=S();c(0,"div",137)(1,"div",127)(2,"p")(3,"strong"),d(4,"Clientes sin compras:"),a(),d(5),a(),c(6,"p",128),d(7),a()(),c(8,"div",138)(9,"label",139),d(10,"Seleccionar cliente:"),a(),c(11,"select",140),_("change",function(i){x(e);let r=h(3);return C(r.onClienteSeleccionado(i))}),b(12,YI,2,3,"option",101),a()(),b(13,JI,20,6,"div",141),a()}if(t&2){let e=h(3);p(5),w(" ",e.metricasData.clientesSinCompras.totalSinCompras,""),p(2),w("Total de clientes: ",e.metricasData.clientesSinCompras.totalClientes,""),p(4),Te("size",e.clientesSelectSize),p(),g("ngForOf",e.metricasData.clientesSinCompras.clientesSinCompras),p(),g("ngIf",e.clienteSeleccionado&&e.ultimaCompraData)}}function eT(t,n){if(t&1&&(c(0,"div"),b(1,qI,5,1,"div",134)(2,XI,14,5,"div",135),a()),t&2){let e=h(2);p(),g("ngIf",e.metricasData.clientesSinCompras.totalSinCompras===0),p(),g("ngIf",e.metricasData.clientesSinCompras.totalSinCompras>0)}}function tT(t,n){if(t&1){let e=S();c(0,"div",71)(1,"div",24)(2,"h3"),d(3,"Clientes que no compraron"),a(),c(4,"div",25)(5,"label",131),d(6,"Per\xEDodo:"),a(),c(7,"select",132),F("ngModelChange",function(i){x(e);let r=h();return V(r.selectedPeriodClientesSinCompras,i)||(r.selectedPeriodClientesSinCompras=i),C(i)}),_("change",function(){x(e);let i=h();return C(i.onPeriodClientesSinComprasChange())}),c(8,"option",28),d(9,"1 d\xEDa"),a(),c(10,"option",28),d(11,"1 mes"),a(),c(12,"option",28),d(13,"3 meses"),a(),c(14,"option",28),d(15,"6 meses"),a(),c(16,"option",28),d(17,"9 meses"),a(),c(18,"option",28),d(19,"12 meses"),a()()()(),b(20,WI,2,0,"div",29)(21,eT,3,2,"div",133),a()}if(t&2){let e=h();p(7),N("ngModel",e.selectedPeriodClientesSinCompras),p(),g("value",.033),p(2),g("value",1),p(2),g("value",3),p(2),g("value",6),p(2),g("value",9),p(2),g("value",12),p(2),g("ngIf",e.loadingMetricas.clientesSinCompras),p(),g("ngIf",!e.loadingMetricas.clientesSinCompras&&e.metricasData.clientesSinCompras)}}var e_=(()=>{class t{constructor(e,o,i,r){this.authService=e,this.router=o,this.cartService=i,this.http=r,this.cartItemCount=0,this.API_URL=Mt,this.loadingChart=!1,this.chartData=null,this.circumference=2*Math.PI*80,this.selectedPeriod=3,this.loadingTotalFacturado=!1,this.totalFacturadoData=null,this.selectedPeriodFacturacion=1,this.topClientesData=[],this.loadingTopArticulos=!1,this.topArticulosData=[],this.topArticulosCount=10,this.topArticulosExpandido=!1,this.selectedPeriodTopArticulos=3,this.mostrarTodosArticulos=!1,this.loadingTodosArticulos=!1,this.todosArticulosData=[],this.productoSeleccionado=null,this.loadingDetallesProducto=!1,this.detallesProducto=null,this.metricasExpandidas={ordenesCanceladas:!1,medioPago:!1,devoluciones:!1,clientesSinCompras:!1},this.loadingMetricas={ordenesCanceladas:!1,medioPago:!1,devoluciones:!1,clientesSinCompras:!1},this.metricasData={ordenesCanceladas:null,medioPago:null,devoluciones:null,clientesSinCompras:null},this.selectedPeriodClientesSinCompras=3,this.mostrarDropdownClientes=!1,this.clienteSeleccionado=null,this.loadingUltimaCompra=!1,this.ultimaCompraData=null,this.selectedPeriodDevoluciones=3,this.selectedPeriodOrdenesCanceladas=3,this.selectedPeriodMedioPago=3}ngOnInit(){if(!this.authService.isAdmin()){this.router.navigate(["/catalog"]);return}this.updateCartCount(),this.loadChart(),this.loadTotalFacturado()}get dashOffset(){if(!this.chartData||!this.chartData.porcentajeVendido)return this.circumference;let e=this.chartData.porcentajeVendido/100;return this.circumference*(1-e)}loadChart(){this.loadingChart=!0;let e=new Date,o=new Date;if(this.selectedPeriod<1){let s=Math.round(this.selectedPeriod*30);o.setDate(o.getDate()-s)}else o.setMonth(o.getMonth()-this.selectedPeriod);let i=o.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/porcentaje-vendido-stock-historico?desde=${i}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.chartData=s,this.loadingChart=!1},error:s=>{console.error("Error al cargar gr\xE1fico:",s),this.loadingChart=!1}})}onPeriodChange(){this.loadChart(),this.productoSeleccionado&&this.loadDetallesProducto(this.productoSeleccionado)}onPeriodTopArticulosChange(){this.loadTopArticulos(),this.mostrarTodosArticulos&&this.loadTodosArticulos(),this.productoSeleccionado&&this.loadDetallesProducto(this.productoSeleccionado)}loadTopArticulos(){this.loadingTopArticulos=!0;let e=new Date,o=new Date;if(this.selectedPeriodTopArticulos<1){let s=Math.round(this.selectedPeriodTopArticulos*30);o.setDate(o.getDate()-s)}else o.setMonth(o.getMonth()-this.selectedPeriodTopArticulos);let i=o.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/top-articulos-vendidos?top=${this.topArticulosCount}&desde=${i}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.topArticulosData=s,this.loadingTopArticulos=!1},error:s=>{console.error("Error al cargar top art\xEDculos:",s),this.loadingTopArticulos=!1}})}get yAxisTicks(){if(!this.topArticulosData||this.topArticulosData.length===0)return[0];let e=this.maxYAxisValue;if(e===0)return[0];let o=e/4,i=[];for(let r=0;r<=4;r++)i.push(Math.round(o*r));return i.reverse()}get maxYAxisValue(){if(!this.topArticulosData||this.topArticulosData.length===0)return 100;let e=Math.max(...this.topArticulosData.map(i=>i.cantidadVendida));if(e===0)return 100;let o=e*1.2;return o<10?Math.ceil(o):o<100?Math.ceil(o/5)*5:o<1e3?Math.ceil(o/50)*50:Math.ceil(o/100)*100}getBarHeight(e){if(!this.topArticulosData||this.topArticulosData.length===0)return 0;let o=this.maxYAxisValue;return o===0?0:e/o*100}seleccionarProducto(e){this.productoSeleccionado===e?this.cerrarDetallesProducto():(this.productoSeleccionado=e,this.loadDetallesProducto(e))}cerrarDetallesProducto(){this.productoSeleccionado=null,this.detallesProducto=null}loadDetallesProducto(e){this.loadingDetallesProducto=!0;let o=new Date,i=new Date;if(this.selectedPeriodTopArticulos<1){let l=Math.round(this.selectedPeriodTopArticulos*30);i.setDate(i.getDate()-l)}else i.setMonth(i.getMonth()-this.selectedPeriodTopArticulos);let r=i.toISOString(),s=o.toISOString();this.http.get(`${this.API_URL}/dashboards/detalles-producto/${e}?desde=${r}&hasta=${s}`,{headers:this.getAuthHeaders()}).subscribe({next:l=>{this.detallesProducto=l,this.loadingDetallesProducto=!1},error:l=>{console.error("Error al cargar detalles del producto:",l),this.loadingDetallesProducto=!1}})}onPeriodFacturacionChange(){this.loadTotalFacturado()}loadTotalFacturado(){this.loadingTotalFacturado=!0;let e=new Date,o=new Date;o.setMonth(o.getMonth()-this.selectedPeriodFacturacion);let i=o.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/total-facturado?desde=${i}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.totalFacturadoData=s,this.loadingTotalFacturado=!1},error:s=>{console.error("Error al cargar total facturado:",s),this.loadingTotalFacturado=!1}}),this.http.get(`${this.API_URL}/dashboards/top-clientes-monto?top=3&desde=${i}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.topClientesData=s},error:s=>{console.error("Error al cargar top clientes:",s),this.topClientesData=[]}})}getClienteBarWidth(e){if(!this.topClientesData||this.topClientesData.length===0)return 0;let o=Math.max(...this.topClientesData.map(i=>i.montoTotal));return o===0?0:e/o*100}toggleTopArticulos(){this.topArticulosExpandido=!this.topArticulosExpandido,this.topArticulosExpandido&&(!this.topArticulosData||this.topArticulosData.length===0)&&this.loadTopArticulos()}toggleTodosArticulos(){this.mostrarTodosArticulos=!this.mostrarTodosArticulos,this.mostrarTodosArticulos&&(!this.todosArticulosData||this.todosArticulosData.length===0)&&this.loadTodosArticulos()}loadTodosArticulos(){this.loadingTodosArticulos=!0;let e=new Date,o=new Date;if(this.selectedPeriodTopArticulos<1){let s=Math.round(this.selectedPeriodTopArticulos*30);o.setDate(o.getDate()-s)}else o.setMonth(o.getMonth()-this.selectedPeriodTopArticulos);let i=o.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/top-articulos-vendidos?top=1000&desde=${i}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.todosArticulosData=s,this.loadingTodosArticulos=!1},error:s=>{console.error("Error al cargar todos los art\xEDculos:",s),this.loadingTodosArticulos=!1}})}onArticuloSeleccionado(e){let o=parseInt(e.target.value);o&&!isNaN(o)&&(this.seleccionarProducto(o),e.target.value="")}toggleMetric(e){this.metricasExpandidas[e]=!this.metricasExpandidas[e],this.metricasExpandidas[e]&&this.metricasData[e]===null&&this.loadMetric(e)}loadMetric(e){switch(this.loadingMetricas[e]=!0,e){case"ordenesCanceladas":this.loadOrdenesCanceladas();break;case"medioPago":this.loadMedioPago();break;case"devoluciones":this.loadDevoluciones();break;case"clientesSinCompras":this.loadClientesSinCompras();break}}loadOrdenesCanceladas(){let e=new Date,o=new Date;if(this.selectedPeriodOrdenesCanceladas<1){let s=Math.round(this.selectedPeriodOrdenesCanceladas*30);o.setDate(o.getDate()-s)}else o.setMonth(o.getMonth()-this.selectedPeriodOrdenesCanceladas);let i=o.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/ordenes-canceladas?desde=${i}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.metricasData.ordenesCanceladas=s.cantidad,this.loadingMetricas.ordenesCanceladas=!1},error:s=>{console.error("Error al cargar \xF3rdenes canceladas:",s),this.loadingMetricas.ordenesCanceladas=!1}})}loadMedioPago(){let e=new Date,o=new Date;if(this.selectedPeriodMedioPago<1){let s=Math.round(this.selectedPeriodMedioPago*30);o.setDate(o.getDate()-s)}else o.setMonth(o.getMonth()-this.selectedPeriodMedioPago);let i=o.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/medio-pago-mas-usado?desde=${i}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.metricasData.medioPago=s,this.loadingMetricas.medioPago=!1},error:s=>{console.error("Error al cargar medio de pago:",s),this.loadingMetricas.medioPago=!1}})}loadDevoluciones(){let e=new Date,o=new Date;if(this.selectedPeriodDevoluciones<1){let s=Math.round(this.selectedPeriodDevoluciones*30);o.setDate(o.getDate()-s)}else o.setMonth(o.getMonth()-this.selectedPeriodDevoluciones);let i=o.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/devoluciones?desde=${i}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.metricasData.devoluciones=s,this.loadingMetricas.devoluciones=!1},error:s=>{console.error("Error al cargar devoluciones:",s),this.loadingMetricas.devoluciones=!1}})}onPeriodOrdenesCanceladasChange(){this.metricasExpandidas.ordenesCanceladas&&this.loadOrdenesCanceladas()}onPeriodMedioPagoChange(){this.metricasExpandidas.medioPago&&this.loadMedioPago()}onPeriodDevolucionesChange(){this.metricasExpandidas.devoluciones&&this.loadDevoluciones()}loadClientesSinCompras(){this.loadingMetricas.clientesSinCompras=!0;let e=new Date,o=new Date;if(this.selectedPeriodClientesSinCompras<1){let s=Math.round(this.selectedPeriodClientesSinCompras*30);o.setDate(o.getDate()-s)}else o.setMonth(o.getMonth()-this.selectedPeriodClientesSinCompras);let i=o.toISOString(),r=e.toISOString();this.http.get(`${this.API_URL}/dashboards/clientes-sin-compras?desde=${i}&hasta=${r}`,{headers:this.getAuthHeaders()}).subscribe({next:s=>{this.metricasData.clientesSinCompras=s,this.loadingMetricas.clientesSinCompras=!1},error:s=>{console.error("Error al cargar clientes sin compras:",s),this.loadingMetricas.clientesSinCompras=!1}})}onPeriodClientesSinComprasChange(){this.metricasExpandidas.clientesSinCompras&&this.loadClientesSinCompras(),this.clienteSeleccionado=null,this.ultimaCompraData=null}onClienteSeleccionado(e){let o=parseInt(e.target.value);o&&!isNaN(o)&&(this.clienteSeleccionado=this.metricasData.clientesSinCompras?.clientesSinCompras?.find(i=>i.clienteId===o),this.loadUltimaCompraCliente(o),e.target.value="")}loadUltimaCompraCliente(e){this.loadingUltimaCompra=!0,this.ultimaCompraData=null,this.http.get(`${this.API_URL}/dashboards/ultima-compra-cliente/${e}`,{headers:this.getAuthHeaders()}).subscribe({next:o=>{this.ultimaCompraData=o,this.loadingUltimaCompra=!1},error:o=>{console.error("Error al cargar \xFAltima compra del cliente:",o),this.loadingUltimaCompra=!1}})}cerrarDetallesCliente(){this.clienteSeleccionado=null,this.ultimaCompraData=null}get clientesSelectSize(){if(!this.metricasData.clientesSinCompras||!this.metricasData.clientesSinCompras.clientesSinCompras)return 8;let e=this.metricasData.clientesSinCompras.clientesSinCompras.length;return Math.min(e,8)}getAuthHeaders(){return{Authorization:`Bearer ${this.authService.getToken()}`,"Content-Type":"application/json"}}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}goToCatalog(){this.router.navigate(["/catalog"])}goToCart(){this.router.navigate(["/cart"])}goToHistory(){this.router.navigate(["/orders-history"])}goToProfile(){this.router.navigate(["/profile"])}goToInfo(){this.router.navigate(["/info"])}logout(){this.authService.logout(),this.router.navigate(["/login"])}isAdmin(){return this.authService.isAdmin()}static{this.\u0275fac=function(o){return new(o||t)(E(fe),E(se),E(ze),E(Ke))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-dashboards-page"]],standalone:!0,features:[le],decls:108,vars:39,consts:[[1,"dashboards-container"],[1,"catalog-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",2,"display","none"],["title","Historial de Pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"dashboards-content"],[1,"page-title"],[1,"charts-row"],[1,"chart-section","half-width"],[1,"chart-card"],[1,"chart-header"],[1,"period-selector"],["for","periodSelect"],["id","periodSelect",1,"period-dropdown",3,"ngModelChange","change","ngModel"],[3,"value"],["class","loading-metric",4,"ngIf"],["class","chart-container",4,"ngIf"],["class","error-metric",4,"ngIf"],["for","periodSelectFacturacion"],["id","periodSelectFacturacion",1,"period-dropdown",3,"ngModelChange","change","ngModel"],["class","total-facturado-container",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"metrics-actions"],[1,"metric-action-btn",3,"click"],[1,"icon"],["class","metric-content",4,"ngIf"],[1,"cart-badge"],[1,"loading-metric"],[1,"chart-container"],[1,"pie-chart"],["width","200","height","200","viewBox","0 0 200 200"],["cx","100","cy","100","r","80","fill","none","stroke","#e0e0e0","stroke-width","40"],["cx","100","cy","100","r","80","fill","none","stroke","#8b5cf6","stroke-width","40","transform","rotate(-90 100 100)",1,"progress-circle"],[1,"chart-center"],[1,"chart-percentage"],[1,"chart-info"],[1,"error-metric"],[1,"total-facturado-container"],[1,"total-facturado-value"],[1,"currency-symbol"],[1,"amount"],[1,"total-facturado-info"],[1,"info-text"],["class","top-clientes-chart",4,"ngIf"],["class","no-clientes-data",4,"ngIf"],[1,"top-clientes-chart"],[1,"horizontal-bars"],["class","horizontal-bar-item",4,"ngFor","ngForOf"],[1,"horizontal-bar-item"],[1,"bar-label-horizontal"],[1,"cliente-rank"],[1,"cliente-name"],[1,"bar-container-horizontal"],[1,"bar-fill-horizontal"],[1,"bar-value-horizontal"],[1,"no-clientes-data"],[1,"no-data"],[1,"metric-content"],[1,"chart-section"],["for","periodSelectTopArticulos"],["id","periodSelectTopArticulos",1,"period-dropdown",3,"ngModelChange","change","ngModel"],["class","bar-chart-container",4,"ngIf"],[1,"ver-todos-articulos-section"],[1,"btn-ver-todos",3,"click"],["class","todos-articulos-dropdown",4,"ngIf"],["class","producto-detalles",4,"ngIf"],[1,"bar-chart-container"],[1,"vertical-bar-chart"],[1,"y-axis"],["class","y-tick",4,"ngFor","ngForOf"],[1,"bars-container"],["class","bar-item-vertical",4,"ngFor","ngForOf"],[1,"y-tick"],[1,"tick-value"],[1,"tick-line"],[1,"bar-item-vertical"],[1,"bar-wrapper-vertical"],[1,"bar-fill-vertical","clickable-bar",3,"click"],[1,"bar-value-vertical"],[1,"bar-label-vertical"],[1,"bar-rank-vertical"],[1,"bar-name-vertical","clickable-name",3,"click"],[1,"todos-articulos-dropdown"],["class","articulos-select-container",4,"ngIf"],[1,"articulos-select-container"],["for","articuloSelect"],["id","articuloSelect","size","8",1,"articulo-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"producto-detalles"],[1,"detalles-header"],[1,"close-details",3,"click"],[1,"detalles-stats"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value","highlight"],[1,"stat-value"],[1,"variantes-detalle"],[1,"variantes-list"],["class","variante-item",4,"ngFor","ngForOf"],[1,"variante-item"],[1,"variante-info"],[1,"variante-sku"],[1,"variante-attr"],[1,"variante-stats"],[1,"variante-venta"],[1,"variante-stock"],["for","periodSelectOrdenesCanceladas"],["id","periodSelectOrdenesCanceladas",1,"period-dropdown",3,"ngModelChange","change","ngModel"],["class","metric-value-large",4,"ngIf"],[1,"metric-value-large"],["for","periodSelectMedioPago"],["id","periodSelectMedioPago",1,"period-dropdown",3,"ngModelChange","change","ngModel"],["class","metric-info",4,"ngIf"],[1,"metric-info"],[1,"metric-subtitle"],["for","periodSelectDevoluciones"],["id","periodSelectDevoluciones",1,"period-dropdown",3,"ngModelChange","change","ngModel"],["for","periodSelectClientesSinCompras"],["id","periodSelectClientesSinCompras",1,"period-dropdown",3,"ngModelChange","change","ngModel"],[4,"ngIf"],["class","no-data-message",4,"ngIf"],["class","clientes-sin-compras-container",4,"ngIf"],[1,"no-data-message"],[1,"clientes-sin-compras-container"],[1,"clientes-select-container"],["for","clienteSelect"],["id","clienteSelect",1,"cliente-select",3,"change"],["class","cliente-detalles",4,"ngIf"],[1,"cliente-detalles"],["class","ultima-compra-info",4,"ngIf"],["class","no-compra-message",4,"ngIf"],[1,"ultima-compra-info"],[1,"no-compra-message"]],template:function(o,i){o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_("click",function(){return i.goToCatalog()}),c(4,"div",4),H(5,"img",5),a(),c(6,"span"),d(7,"HRK"),a()(),c(8,"nav",6)(9,"a",7),_("click",function(){return i.goToCatalog()}),d(10,"SHOP"),a(),c(11,"a",8),_("click",function(){return i.goToCatalog()}),d(12,"SALE"),a(),c(13,"a",9),_("click",function(){return i.goToInfo()}),d(14,"info"),a()()(),c(15,"div",10)(16,"button",11),_("click",function(){return i.goToCart()}),d(17," \u{1F6D2} "),b(18,gI,2,1,"span",12),a(),c(19,"button",13),d(20," \u{1F50D} "),a(),c(21,"button",14),_("click",function(){return i.goToHistory()}),d(22," \u{1F4CB} "),a(),c(23,"button",15),_("click",function(){return i.goToProfile()}),H(24,"img",16),c(25,"span",17),d(26,"\u{1F464}"),a()(),c(27,"button",18),_("click",function(){return i.logout()}),d(28," Cerrar Sesi\xF3n "),a()()(),c(29,"div",19)(30,"h1",20),d(31,"\u{1F4CA} M\xE9tricas del Negocio"),a(),c(32,"div",21)(33,"div",22)(34,"div",23)(35,"div",24)(36,"h3"),d(37,"% Vendido sobre Stock Hist\xF3rico"),a(),c(38,"div",25)(39,"label",26),d(40,"Per\xEDodo:"),a(),c(41,"select",27),F("ngModelChange",function(s){return V(i.selectedPeriod,s)||(i.selectedPeriod=s),s}),_("change",function(){return i.onPeriodChange()}),c(42,"option",28),d(43,"1 d\xEDa"),a(),c(44,"option",28),d(45,"1 mes"),a(),c(46,"option",28),d(47,"3 meses"),a(),c(48,"option",28),d(49,"6 meses"),a(),c(50,"option",28),d(51,"12 meses"),a()()()(),b(52,hI,2,0,"div",29)(53,mI,17,5,"div",30)(54,_I,2,0,"div",31),a()(),c(55,"div",22)(56,"div",23)(57,"div",24)(58,"h3"),d(59,"Total Facturado"),a(),c(60,"div",25)(61,"label",32),d(62,"Per\xEDodo:"),a(),c(63,"select",33),F("ngModelChange",function(s){return V(i.selectedPeriodFacturacion,s)||(i.selectedPeriodFacturacion=s),s}),_("change",function(){return i.onPeriodFacturacionChange()}),c(64,"option",28),d(65,"1 mes"),a(),c(66,"option",28),d(67,"3 meses"),a(),c(68,"option",28),d(69,"6 meses"),a(),c(70,"option",28),d(71,"9 meses"),a(),c(72,"option",28),d(73,"12 meses"),a()()()(),b(74,vI,2,0,"div",29)(75,yI,12,7,"div",34)(76,MI,2,0,"div",35),a()()(),c(77,"div",36)(78,"button",37),_("click",function(){return i.toggleTopArticulos()}),c(79,"span"),d(80,"Top Art\xEDculos M\xE1s Vendidos"),a(),c(81,"span",38),d(82),a()(),b(83,FI,33,16,"div",39),c(84,"button",37),_("click",function(){return i.toggleMetric("ordenesCanceladas")}),c(85,"span"),d(86,"\xD3rdenes Canceladas"),a(),c(87,"span",38),d(88),a()(),b(89,jI,22,9,"div",39),c(90,"button",37),_("click",function(){return i.toggleMetric("medioPago")}),c(91,"span"),d(92,"Medio de Pago M\xE1s Usado"),a(),c(93,"span",38),d(94),a()(),b(95,$I,22,9,"div",39),c(96,"button",37),_("click",function(){return i.toggleMetric("devoluciones")}),c(97,"span"),d(98,"Devoluciones"),a(),c(99,"span",38),d(100),a()(),b(101,GI,22,9,"div",39),c(102,"button",37),_("click",function(){return i.toggleMetric("clientesSinCompras")}),c(103,"span"),d(104,"Clientes que no compraron"),a(),c(105,"span",38),d(106),a()(),b(107,tT,22,9,"div",39),a()()()),o&2&&(p(18),g("ngIf",i.cartItemCount>0),p(23),N("ngModel",i.selectedPeriod),p(),g("value",.033),p(2),g("value",1),p(2),g("value",3),p(2),g("value",6),p(2),g("value",12),p(2),g("ngIf",i.loadingChart),p(),g("ngIf",!i.loadingChart&&i.chartData),p(),g("ngIf",!i.loadingChart&&!i.chartData),p(9),N("ngModel",i.selectedPeriodFacturacion),p(),g("value",1),p(2),g("value",3),p(2),g("value",6),p(2),g("value",9),p(2),g("value",12),p(2),g("ngIf",i.loadingTotalFacturado),p(),g("ngIf",!i.loadingTotalFacturado&&i.totalFacturadoData),p(),g("ngIf",!i.loadingTotalFacturado&&!i.totalFacturadoData),p(2),B("expanded",i.topArticulosExpandido),p(4),P(i.topArticulosExpandido?"\u2212":"+"),p(),g("ngIf",i.topArticulosExpandido),p(),B("expanded",i.metricasExpandidas.ordenesCanceladas),p(4),P(i.metricasExpandidas.ordenesCanceladas?"\u2212":"+"),p(),g("ngIf",i.metricasExpandidas.ordenesCanceladas),p(),B("expanded",i.metricasExpandidas.medioPago),p(4),P(i.metricasExpandidas.medioPago?"\u2212":"+"),p(),g("ngIf",i.metricasExpandidas.medioPago),p(),B("expanded",i.metricasExpandidas.devoluciones),p(4),P(i.metricasExpandidas.devoluciones?"\u2212":"+"),p(),g("ngIf",i.metricasExpandidas.devoluciones),p(),B("expanded",i.metricasExpandidas.clientesSinCompras),p(4),P(i.metricasExpandidas.clientesSinCompras?"\u2212":"+"),p(),g("ngIf",i.metricasExpandidas.clientesSinCompras))},dependencies:[ge,ke,_e,di,om,ve,Lt,jt,Et,Pe,be],styles:['@charset "UTF-8";.dashboards-container[_ngcontent-%COMP%]{min-height:100vh;background:#f5f5f5}.catalog-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease;transform:rotate(0)}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(0)}.main-nav[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#dc3545;color:#fff;border-radius:50%;width:18px;height:18px;font-size:10px;display:flex;align-items:center;justify-content:center}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.dashboards-content[_ngcontent-%COMP%]{padding:30px 20px;max-width:1200px;margin:0 auto}.page-title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#333;margin-bottom:30px}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:20px}.metric-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 8px #0000001a;transition:transform .3s,box-shadow .3s}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.metric-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#666;margin:0 0 15px}.metric-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#333;margin:0}.chart-section[_ngcontent-%COMP%]{margin-bottom:40px}.chart-section.half-width[_ngcontent-%COMP%]{width:48%;margin-right:2%}.chart-section.half-width[_ngcontent-%COMP%]:last-child{margin-right:0}.charts-row[_ngcontent-%COMP%]{display:flex;gap:2%;width:100%;margin-bottom:30px;align-items:stretch}@media (max-width: 768px){.charts-row[_ngcontent-%COMP%]{flex-direction:column}.charts-row[_ngcontent-%COMP%]   .chart-section.half-width[_ngcontent-%COMP%]{width:100%;margin-right:0}}.chart-section.half-width[_ngcontent-%COMP%]{display:flex;flex-direction:column}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:30px;box-shadow:0 2px 8px #0000001a;height:100%;display:flex;flex-direction:column}.chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;flex-wrap:wrap;gap:15px}.chart-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#333;margin:0}.period-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.period-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#666}.period-dropdown[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;background:#fff;color:#333;cursor:pointer;transition:all .3s;min-width:120px}.period-dropdown[_ngcontent-%COMP%]:hover{border-color:#8b5cf6}.period-dropdown[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a}.chart-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.pie-chart[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.progress-circle[_ngcontent-%COMP%]{transition:stroke-dashoffset .5s ease}.chart-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.chart-percentage[_ngcontent-%COMP%]{font-size:36px;font-weight:700;color:#8b5cf6}.chart-info[_ngcontent-%COMP%]{text-align:center}.chart-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#666;font-size:14px}.loading-metric[_ngcontent-%COMP%]{text-align:center;color:#666;padding:20px;font-size:14px}.total-facturado-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:0;flex:1;height:100%}.total-facturado-value[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:6px;margin-bottom:12px}.currency-symbol[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#8b5cf6}.amount[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333;line-height:1}.total-facturado-info[_ngcontent-%COMP%]{margin-bottom:15px}.info-text[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:500}.top-clientes-chart[_ngcontent-%COMP%]{width:100%;margin-top:15px;padding-top:15px;border-top:1px solid #e0e0e0;flex:1}.horizontal-bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.horizontal-bar-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.bar-label-horizontal[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px}.cliente-rank[_ngcontent-%COMP%]{font-weight:700;color:#8b5cf6;min-width:20px}.cliente-name[_ngcontent-%COMP%]{color:#333;font-weight:500;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.bar-container-horizontal[_ngcontent-%COMP%]{width:100%;height:28px;background:#f0f0f0;border-radius:14px;overflow:hidden;position:relative}.bar-fill-horizontal[_ngcontent-%COMP%]{height:100%;border-radius:14px;transition:width .5s ease;display:flex;align-items:center;padding:0 12px;min-width:60px;position:relative;background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.bar-fill-horizontal.bar-client1[_ngcontent-%COMP%], .bar-fill-horizontal.bar-client2[_ngcontent-%COMP%], .bar-fill-horizontal.bar-client3[_ngcontent-%COMP%]{background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.bar-value-horizontal[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3);white-space:nowrap}.no-clientes-data[_ngcontent-%COMP%]{text-align:center;color:#999;font-size:13px;padding:10px;margin-top:10px}.ver-todos-articulos-section[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px solid #e0e0e0}.btn-ver-todos[_ngcontent-%COMP%]{background:#fff;border:2px solid #8b5cf6;border-radius:8px;padding:12px 20px;font-size:14px;font-weight:500;color:#8b5cf6;cursor:pointer;transition:all .3s;display:flex;justify-content:space-between;align-items:center;width:100%;text-align:left}.btn-ver-todos[_ngcontent-%COMP%]:hover, .btn-ver-todos.expanded[_ngcontent-%COMP%]{background:#f8f9ff;border-color:#7c3aed}.btn-ver-todos[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.todos-articulos-dropdown[_ngcontent-%COMP%]{margin-top:15px;padding:15px;background:#f8f9fa;border-radius:8px}.articulos-select-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.articulos-select-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.articulo-select[_ngcontent-%COMP%]{padding:0;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;background:#fff;color:#333;cursor:pointer;transition:all .3s;width:100%;overflow-y:auto;overflow-x:hidden}.articulo-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:10px 12px;cursor:pointer;border-bottom:1px solid #f0f0f0}.articulo-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background:#f8f9ff}.articulo-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:checked, .articulo-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:focus{background:#8b5cf6;color:#fff}.articulo-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:last-child{border-bottom:none}.articulo-select[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.articulo-select[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.articulo-select[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8b5cf6;border-radius:4px}.articulo-select[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#7c3aed}.articulo-select[_ngcontent-%COMP%]:hover{border-color:#8b5cf6}.articulo-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a}.error-metric[_ngcontent-%COMP%]{text-align:center;color:#dc3545;padding:20px;font-size:14px}.no-data[_ngcontent-%COMP%]{text-align:center;color:#888;padding:40px 20px;font-size:14px;font-style:italic}.bar-chart-container[_ngcontent-%COMP%]{margin-top:20px}.vertical-bar-chart[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:flex-start;min-height:400px}.y-axis[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding-right:10px;border-right:2px solid #e0e0e0;min-width:50px;height:350px}.y-tick[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;position:relative}.tick-value[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:500;min-width:40px;text-align:right}.tick-line[_ngcontent-%COMP%]{flex:1;height:1px;background:#e0e0e0;margin-left:8px}.bars-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:flex-start;justify-content:space-around;gap:10px;padding-top:0;padding-bottom:0;position:relative;min-height:350px}.bar-item-vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1;gap:0;max-width:120px;height:auto;min-height:350px;justify-content:flex-start}.bar-wrapper-vertical[_ngcontent-%COMP%]{width:100%;height:350px;display:flex;align-items:flex-end;position:relative;border-bottom:2px solid #e0e0e0;margin-bottom:0;flex-shrink:0}.bar-fill-vertical[_ngcontent-%COMP%]{width:100%;border-radius:6px 6px 0 0;transition:height .5s ease;display:flex;align-items:flex-start;justify-content:center;padding-top:8px;position:relative;min-height:30px}.bar-fill-vertical.bar-top1[_ngcontent-%COMP%]{background:linear-gradient(180deg,#dc2626,#b91c1c)}.bar-fill-vertical.bar-top2[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ea580c,#c2410c)}.bar-fill-vertical.bar-top3[_ngcontent-%COMP%]{background:linear-gradient(180deg,#eab308,#ca8a04)}.bar-fill-vertical.bar-other[_ngcontent-%COMP%]{background:linear-gradient(180deg,#8b5cf6,#7c3aed)}.bar-value-vertical[_ngcontent-%COMP%]{font-weight:700;color:#fff;font-size:13px;text-shadow:0 1px 2px rgba(0,0,0,.3);white-space:nowrap}.bar-label-vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;text-align:center;width:100%;min-height:auto;justify-content:flex-start;padding-top:10px;flex-shrink:0;margin-top:auto}.bar-rank-vertical[_ngcontent-%COMP%]{font-weight:700;color:#8b5cf6;font-size:14px}.bar-name-vertical[_ngcontent-%COMP%]{font-size:12px;color:#333;font-weight:500;word-wrap:break-word;word-break:break-word;overflow-wrap:break-word;line-height:1.3;width:100%;max-width:100%;display:block}.bar-name-vertical.clickable-name[_ngcontent-%COMP%]{cursor:pointer;transition:color .3s}.bar-name-vertical.clickable-name[_ngcontent-%COMP%]:hover{color:#8b5cf6;text-decoration:underline}.clickable-bar[_ngcontent-%COMP%]{cursor:pointer;transition:opacity .3s,transform .3s}.clickable-bar[_ngcontent-%COMP%]:hover{opacity:.9;transform:translateY(-2px)}.bar-selected[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #8b5cf680;border:2px solid #8b5cf6}.producto-detalles[_ngcontent-%COMP%]{margin-top:30px;padding:20px;background:#f8f9fa;border-radius:8px;border:2px solid #8b5cf6}.detalles-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid #e0e0e0}.detalles-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#333}.close-details[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;border-radius:50%;width:30px;height:30px;font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .3s}.close-details[_ngcontent-%COMP%]:hover{background:#c82333}.detalles-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:25px}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.stat-label[_ngcontent-%COMP%]{font-size:13px;color:#666;font-weight:500}.stat-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#333}.stat-value.highlight[_ngcontent-%COMP%]{color:#8b5cf6;font-size:24px}.variantes-detalle[_ngcontent-%COMP%]{margin-top:20px}.variantes-detalle[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;margin:0 0 15px}.variantes-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.variante-item[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:6px;border:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px}.variante-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;flex:1}.variante-sku[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333}.variante-attr[_ngcontent-%COMP%]{font-size:12px;color:#666}.variante-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:5px}.variante-venta[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#8b5cf6}.variante-stock[_ngcontent-%COMP%]{font-size:12px;color:#888}.metrics-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.metric-action-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e0e0e0;border-radius:8px;padding:15px 20px;font-size:16px;font-weight:500;color:#333;cursor:pointer;transition:all .3s;display:flex;justify-content:space-between;align-items:center;text-align:left}.metric-action-btn[_ngcontent-%COMP%]:hover, .metric-action-btn.expanded[_ngcontent-%COMP%]{border-color:#8b5cf6;background:#f8f9ff}.metric-action-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#8b5cf6;width:30px;text-align:center}.metric-content[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:20px;margin-top:10px;border:1px solid #e0e0e0}.metric-value-large[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:#333;text-align:center;margin:20px 0}.metric-info[_ngcontent-%COMP%]{text-align:center}.metric-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;color:#666;font-size:16px}.metric-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#888;font-weight:400}@media (max-width: 768px){.dashboards-content[_ngcontent-%COMP%]{padding:20px 15px}.page-title[_ngcontent-%COMP%]{font-size:24px}.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.header-left[_ngcontent-%COMP%]{gap:20px}.main-nav[_ngcontent-%COMP%]{gap:15px}.chart-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.period-selector[_ngcontent-%COMP%]{width:100%}.period-dropdown[_ngcontent-%COMP%]{flex:1}}.no-data-message[_ngcontent-%COMP%]{text-align:center;padding:30px;color:#28a745;font-size:16px}.no-data-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}.clientes-sin-compras-container[_ngcontent-%COMP%]{padding:20px 0}.clientes-select-container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.clientes-select-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-size:14px;font-weight:500;color:#333}.cliente-select[_ngcontent-%COMP%]{padding:0;border:2px solid #e0e0e0;border-radius:6px;font-size:14px;background:#fff;color:#333;cursor:pointer;transition:all .3s;width:100%;overflow-y:auto;overflow-x:hidden}.cliente-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:10px 12px;cursor:pointer;border-bottom:1px solid #f0f0f0}.cliente-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background:#f8f9ff}.cliente-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:checked, .cliente-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:focus{background:#8b5cf6;color:#fff}.cliente-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:last-child{border-bottom:none}.cliente-select[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.cliente-select[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.cliente-select[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8b5cf6;border-radius:4px}.cliente-select[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#7c3aed}.cliente-detalles[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background:#f8f9ff;border-radius:8px;border:2px solid #e0e0e0}.ultima-compra-info[_ngcontent-%COMP%]{margin-top:15px;padding-top:15px;border-top:1px solid #e0e0e0}.no-compra-message[_ngcontent-%COMP%]{margin-top:15px;padding:15px;background:#fff3cd;border-radius:6px;border-left:4px solid #ffc107;color:#856404}.no-compra-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}']})}}return t})();var t_=(()=>{class t{constructor(e){this.http=e,this.API_URL=`${Mt}/temporadas`,this.selectedTemporadaSubject=new Se(null),this.selectedTemporada$=this.selectedTemporadaSubject.asObservable()}list(){return this.http.get(this.API_URL).pipe(te(e=>{let o=e.find(i=>i.activa);this.selectedTemporadaSubject.next(o?o.id:null)}))}getById(e){return this.http.get(`${this.API_URL}/${e}`)}create(e){return this.http.post(this.API_URL,e)}update(e,o){return this.http.put(`${this.API_URL}/${e}`,o)}delete(e){return this.http.delete(`${this.API_URL}/${e}`)}getActive(){return this.http.get(`${this.API_URL}/activa`,{observe:"response"}).pipe(L(e=>e.body??null),te(e=>{this.selectedTemporadaSubject.next(e?e.id:null)}),Q(()=>R(null)))}setActive(e){let o={temporadaId:e};return this.http.put(`${this.API_URL}/activa`,o,{observe:"response"}).pipe(L(i=>i.body??null),te(i=>{this.selectedTemporadaSubject.next(i?i.id:null)}))}static{this.\u0275fac=function(o){return new(o||t)(z(Ke))}}static{this.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function oT(t,n){if(t&1&&(c(0,"span",60),d(1),a()),t&2){let e=h();p(),P(e.cartItemCount)}}function iT(t,n){if(t&1&&(c(0,"option",61),d(1),a()),t&2){let e=n.$implicit;g("value",e.id),p(),Me(" ",e.nombre," (ID ",e.id,") ")}}function rT(t,n){t&1&&(c(0,"div",62),d(1," Cargando art\xEDculos... "),a())}function sT(t,n){if(t&1&&(c(0,"div",63),d(1),a()),t&2){let e=h();p(),w(" ",e.error," ")}}function aT(t,n){t&1&&(c(0,"div",64),d(1," A\xFAn no hay art\xEDculos cargados. Cre\xE1 uno nuevo para comenzar. "),a())}function cT(t,n){if(t&1&&(c(0,"option",42),d(1),a()),t&2){let e=n.$implicit;g("ngValue",e.id),p(),w(" ",e.nombre," ")}}function lT(t,n){t&1&&(c(0,"div",64),d(1," Actualizando temporada activa... "),a())}function dT(t,n){if(t&1&&(c(0,"div",65),d(1),a()),t&2){let e=h();p(),w(" ",e.temporadaActivaMensaje," ")}}function uT(t,n){if(t&1&&(c(0,"div",63),d(1),a()),t&2){let e=h();p(),w(" ",e.temporadaActivaError," ")}}function pT(t,n){t&1&&(c(0,"div",62),d(1," Cargando temporadas... "),a())}function fT(t,n){if(t&1&&(c(0,"div",63),d(1),a()),t&2){let e=h();p(),w(" ",e.temporadasError," ")}}function gT(t,n){t&1&&(c(0,"div",67),d(1," A\xFAn no creaste temporadas. Empez\xE1 agregando una nueva. "),a())}function hT(t,n){if(t&1){let e=S();c(0,"li")(1,"div",69)(2,"h3"),d(3),a(),c(4,"span",70),d(5),a()(),c(6,"div",71)(7,"button",72),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.editarTemporada(i))}),d(8,"Editar"),a(),c(9,"button",73),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.eliminarTemporada(i.id,i.nombre))}),d(10," Eliminar "),a()()()}if(t&2){let e=n.$implicit,o=h(3);B("active",o.temporadaForm.id===e.id),p(3),P(e.nombre),p(2),w("",e.productoIds.length," art\xEDculos")}}function mT(t,n){if(t&1&&(c(0,"ul"),b(1,hT,11,4,"li",68),a()),t&2){let e=h(2);p(),g("ngForOf",e.temporadas)}}function _T(t,n){if(t&1&&(c(0,"div"),b(1,gT,2,0,"div",66)(2,mT,2,1,"ul",50),a()),t&2){let e=h();p(),g("ngIf",e.temporadas.length===0),p(),g("ngIf",e.temporadas.length>0)}}function vT(t,n){if(t&1&&(c(0,"option",61),d(1),a()),t&2){let e=n.$implicit;g("value",e.id),p(),Me(" ",e.nombre," (ID ",e.id,") ")}}function xT(t,n){t&1&&(c(0,"span"),d(1,"Guardar temporada"),a())}function CT(t,n){t&1&&(c(0,"span"),d(1,"Guardando..."),a())}function bT(t,n){if(t&1){let e=S();c(0,"div",84),_("click",function(){let i=x(e).$implicit,r=h(3);return C(r.scrollToResult(i))}),c(1,"div",85),d(2),a(),c(3,"div",86)(4,"div",87),d(5),a(),c(6,"div",88),d(7),a()()()}if(t&2){let e=n.$implicit;p(2),w(" ",e.type==="producto"?"\u{1F455}":"\u{1F4C4}"," "),p(3),P(e.title),p(2),P(e.description)}}function yT(t,n){if(t&1&&(c(0,"div",82),b(1,bT,8,3,"div",83),a()),t&2){let e=h(2);p(),g("ngForOf",e.searchResults)}}function MT(t,n){if(t&1&&(c(0,"div",89)(1,"p"),d(2),a()()),t&2){let e=h(2);p(2),w('No se encontraron resultados para "',e.searchTerm,'"')}}function ET(t,n){if(t&1){let e=S();c(0,"div",74),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),c(1,"div",75),_("click",function(i){return x(e),C(i.stopPropagation())}),c(2,"div",76)(3,"h3"),d(4,"Buscar art\xEDculos o elementos de la p\xE1gina"),a(),c(5,"button",77),_("click",function(){x(e);let i=h();return C(i.closeSearchModal())}),d(6,"\xD7"),a()(),c(7,"div",78)(8,"input",79),F("ngModelChange",function(i){x(e);let r=h();return V(r.searchTerm,i)||(r.searchTerm=i),C(i)}),_("input",function(){x(e);let i=h();return C(i.performSearch())}),a()(),b(9,yT,2,1,"div",80)(10,MT,3,1,"div",81),a()()}if(t&2){let e=h();p(8),N("ngModel",e.searchTerm),p(),g("ngIf",e.searchResults.length>0),p(),g("ngIf",e.searchTerm&&e.searchResults.length===0)}}var n_=(()=>{class t{constructor(e,o,i,r,s){this.productsService=e,this.router=o,this.cartService=i,this.authService=r,this.temporadasService=s,this.productos=[],this.loading=!1,this.selectedProductId=null,this.cartItemCount=0,this.showSearchModal=!1,this.searchTerm="",this.searchResults=[],this.temporadas=[],this.temporadasLoading=!1,this.temporadaForm={id:null,nombre:"",productoIds:[]},this.guardandoTemporada=!1,this.temporadaActivaId=null,this.actualizandoTemporadaActiva=!1}ngOnInit(){this.loadProducts(),this.updateCartCount(),this.loadTemporadas()}loadProducts(){this.loading=!0,this.error=void 0,this.productsService.list(!0).subscribe({next:e=>{this.productos=[...e].sort((o,i)=>o.nombre.localeCompare(i.nombre)),this.productos.some(o=>o.id===this.selectedProductId)||(this.selectedProductId=null),this.loading=!1,this.temporadasLoading||this.loadTemporadas()},error:e=>{console.error("Error al cargar productos:",e),this.error="No pudimos cargar los art\xEDculos. Intenta nuevamente.",this.loading=!1,this.temporadasLoading||this.loadTemporadas()}})}createNewProduct(){this.router.navigate(["/add-product"])}onSelectProduct(e){let i=e.target?.value??"",r=Number(i);this.selectedProductId=Number.isNaN(r)?null:r}editSelectedProduct(){let e=this.selectedProductId;e!=null&&this.router.navigate(["/edit-product",e])}refreshProducts(){this.loadProducts()}get isProductSelectDisabled(){return this.loading||this.productos.length===0}get selectVisibleRows(){return this.productos.length===0?1:Math.min(this.productos.length,8)}goBack(){this.router.navigate(["/profile"])}goToCart(){this.router.navigate(["/cart"])}goToCatalog(){this.router.navigate(["/catalog"])}goToInfo(){this.router.navigate(["/info"])}goToProfile(){this.router.navigate(["/profile"])}goToHistory(){this.router.navigate(["/orders-history"])}goToManageProducts(){this.router.navigate(["/manage-products"])}updateCartCount(){this.cartItemCount=this.cartService.getCantidadItems()}loadTemporadas(){this.temporadasLoading=!0,this.temporadasError=void 0,this.temporadasService.list().subscribe({next:e=>{this.temporadas=e.sort((i,r)=>i.nombre.localeCompare(r.nombre)),this.temporadasLoading=!1;let o=this.temporadas.find(i=>i.activa);if(this.temporadaActivaId=o?o.id:null,this.temporadaForm.id!=null){let i=this.temporadas.find(r=>r.id===this.temporadaForm.id);i&&(this.temporadaForm.nombre=i.nombre,this.temporadaForm.productoIds=[...i.productoIds])}},error:e=>{console.error("Error al cargar temporadas:",e),this.temporadasError="No pudimos cargar las temporadas. Intenta m\xE1s tarde.",this.temporadasLoading=!1}})}onCambiarTemporadaActiva(e){let o=this.temporadaActivaId;this.temporadaActivaId=e,this.actualizandoTemporadaActiva=!0,this.temporadaActivaMensaje=void 0,this.temporadaActivaError=void 0,this.temporadasService.setActive(e).subscribe({next:i=>{this.actualizandoTemporadaActiva=!1,this.temporadaActivaId=i?i.id:null,this.temporadaActivaMensaje=i?`Cat\xE1logo filtrado por "${i.nombre}"`:"Cat\xE1logo mostrando todos los art\xEDculos",this.loadTemporadas(),setTimeout(()=>{this.temporadaActivaMensaje=void 0},4e3)},error:i=>{console.error("Error al actualizar la temporada activa:",i),this.actualizandoTemporadaActiva=!1,this.temporadaActivaError=i?.error?.error||"No se pudo actualizar la temporada activa",this.temporadaActivaId=o??null,this.loadTemporadas()}})}iniciarCreacionTemporada(){this.temporadaForm={id:null,nombre:"",productoIds:[]}}editarTemporada(e){this.temporadaForm={id:e.id,nombre:e.nombre,productoIds:[...e.productoIds]}}guardarTemporada(){if(!this.temporadaForm.nombre||this.temporadaForm.nombre.trim().length===0){alert("El nombre de la temporada es obligatorio");return}this.guardandoTemporada=!0;let e={nombre:this.temporadaForm.nombre.trim(),productoIds:this.temporadaForm.productoIds};(this.temporadaForm.id==null?this.temporadasService.create(e):this.temporadasService.update(this.temporadaForm.id,e)).subscribe({next:()=>{this.guardandoTemporada=!1,this.iniciarCreacionTemporada(),this.loadTemporadas(),alert("Temporada guardada correctamente")},error:i=>{console.error("Error al guardar temporada:",i),this.guardandoTemporada=!1;let r=i?.error?.error||"No se pudo guardar la temporada";alert(r)}})}eliminarTemporada(e,o){confirm(`\xBFEliminar la temporada "${o}"?`)&&this.temporadasService.delete(e).subscribe({next:()=>{this.temporadaForm.id===e&&this.iniciarCreacionTemporada(),this.loadTemporadas()},error:r=>{console.error("Error al eliminar temporada:",r),alert("No se pudo eliminar la temporada")}})}openSearchModal(){this.showSearchModal=!0,this.searchTerm="",this.searchResults=[]}closeSearchModal(){this.showSearchModal=!1,this.searchTerm="",this.searchResults=[]}performSearch(){let e=this.searchTerm.trim().toLowerCase();this.searchResults=[],e&&(this.productos.forEach(o=>{let i=o.nombre?.toLowerCase()||"",r=o.descripcion?.toLowerCase()||"";(i.includes(e)||r.includes(e))&&this.searchResults.push({type:"producto",title:o.nombre,description:`ID ${o.id} \xB7 ${o.categoria}`,data:o})}),typeof document<"u"&&Array.from(document.querySelectorAll("h1, h2, h3, h4, button, label, p")).forEach(i=>{(i.textContent?.toLowerCase()||"").includes(e)&&this.searchResults.push({type:"elemento",title:i.textContent?.trim()||"",description:"Elemento encontrado en la p\xE1gina",element:i})}))}scrollToResult(e){if(e.type==="producto"&&e.data){this.selectedProductId=e.data.id,this.closeSearchModal(),typeof document<"u"&&setTimeout(()=>{let o=document.getElementById("producto-select");o?.scrollIntoView({behavior:"smooth",block:"center"}),o?.focus()},0);return}e.element&&typeof e.element.scrollIntoView=="function"&&e.element.scrollIntoView({behavior:"smooth",block:"center"}),this.closeSearchModal()}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(o){return new(o||t)(E(so),E(se),E(ze),E(fe),E(t_))}}static{this.\u0275cmp=ce({type:t,selectors:[["app-manage-products-page"]],standalone:!0,features:[le],decls:119,vars:29,consts:[[1,"manage-products-page"],[1,"home-header"],[1,"header-left"],[1,"logo",3,"click"],[1,"logo-symbol"],["src","/HIRKUM-MONOGRAMA-B.jpg","alt","HIRKUM Logo",1,"logo-image"],[1,"main-nav"],[1,"nav-item",3,"click"],[1,"nav-item","sale",3,"click"],[1,"nav-item","info",3,"click"],[1,"header-right"],["title","Carrito",1,"icon-btn","cart-icon",3,"click"],["class","cart-badge",4,"ngIf"],["title","Buscar",1,"icon-btn","search-icon",3,"click"],["title","Historial de pedidos",1,"icon-btn","history-btn",3,"click"],["title","Perfil de Usuario",1,"icon-btn","user-icon",3,"click"],["src","/images/user-icon.png","alt","Usuario","onerror","this.style.display='none'; this.nextElementSibling.style.display='inline';",1,"user-icon-img"],[1,"user-icon-fallback",2,"display","none"],["title","Cerrar Sesi\xF3n",1,"logout-btn",3,"click"],[1,"manage-products-container"],[1,"page-header"],["title","Volver",1,"back-btn",3,"click"],[1,"page-heading"],[1,"cards-wrapper"],[1,"card","create-card"],[1,"btn","btn-new-article",3,"click"],[1,"icon"],[1,"card","edit-card"],[1,"selector-group"],["for","producto-select"],["id","producto-select",3,"change","disabled","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"actions-row"],[1,"btn","btn-edit-article",3,"click","disabled"],["type","button",1,"btn","btn-outline",3,"click","disabled"],["class","state-message",4,"ngIf"],["class","state-message error",4,"ngIf"],["class","state-message info",4,"ngIf"],[1,"card","active-season-card"],["for","temporada-activa-select"],["id","temporada-activa-select",3,"ngModelChange","disabled","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","state-message success",4,"ngIf"],[1,"card","seasons-card"],[1,"seasons-header"],["type","button",1,"btn","btn-outline",3,"click"],[1,"temporadas-content"],[1,"season-list"],[4,"ngIf"],[1,"season-form"],[1,"form-group"],["for","temporada-nombre"],["id","temporada-nombre","type","text","placeholder","Ej: Primavera 2025",3,"ngModelChange","ngModel"],["for","temporada-productos"],["id","temporada-productos","multiple","",3,"ngModelChange","ngModel"],[1,"helper-text"],["type","button",1,"btn","btn-edit-article",3,"click","disabled"],["class","search-modal-overlay",3,"click",4,"ngIf"],[1,"cart-badge"],[3,"value"],[1,"state-message"],[1,"state-message","error"],[1,"state-message","info"],[1,"state-message","success"],["class","empty-state",4,"ngIf"],[1,"empty-state"],[3,"active",4,"ngFor","ngForOf"],[1,"season-info"],[1,"count-badge"],[1,"season-actions"],["type","button",1,"link-btn",3,"click"],["type","button",1,"link-btn","delete",3,"click"],[1,"search-modal-overlay",3,"click"],[1,"search-modal",3,"click"],[1,"search-header"],[1,"close-btn",3,"click"],[1,"search-input-container"],["type","text","placeholder","Escrib\xED el nombre del art\xEDculo o texto a buscar...","autofocus","",1,"search-input",3,"ngModelChange","input","ngModel"],["class","search-results",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"search-results"],["class","search-result-item",3,"click",4,"ngFor","ngForOf"],[1,"search-result-item",3,"click"],[1,"result-type"],[1,"result-content"],[1,"result-title"],[1,"result-description"],[1,"no-results"]],template:function(o,i){if(o&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_("click",function(){return i.goToCatalog()}),c(4,"div",4),H(5,"img",5),a(),c(6,"span"),d(7,"HRK"),a()(),c(8,"nav",6)(9,"a",7),_("click",function(){return i.goToCatalog()}),d(10,"SHOP"),a(),c(11,"a",8),_("click",function(){return i.goToCatalog()}),d(12,"SALE"),a(),c(13,"a",9),_("click",function(){return i.goToInfo()}),d(14,"info"),a()()(),c(15,"div",10)(16,"button",11),_("click",function(){return i.goToCart()}),d(17," \u{1F6D2} "),b(18,oT,2,1,"span",12),a(),c(19,"button",13),_("click",function(){return i.openSearchModal()}),d(20," \u{1F50D} "),a(),c(21,"button",14),_("click",function(){return i.goToHistory()}),d(22," \u{1F4CB} "),a(),c(23,"button",15),_("click",function(){return i.goToProfile()}),H(24,"img",16),c(25,"span",17),d(26,"\u{1F464}"),a()(),c(27,"button",18),_("click",function(){return i.logout()}),d(28," Cerrar Sesi\xF3n "),a()()(),c(29,"div",19)(30,"div",20)(31,"button",21),_("click",function(){return i.goBack()}),d(32," \u2190 "),a(),c(33,"div",22)(34,"h1"),d(35,"Gestionar art\xEDculos"),a(),c(36,"p"),d(37,"Cre\xE1 nuevos art\xEDculos o abr\xED el formulario de edici\xF3n sin pasar por el cat\xE1logo."),a()()(),c(38,"div",23)(39,"div",24)(40,"h2"),d(41,"Crear nuevo art\xEDculo"),a(),c(42,"p"),d(43,"Acced\xE9 al mismo formulario que ofrece el cat\xE1logo para cargar un art\xEDculo desde cero."),a(),c(44,"button",25),_("click",function(){return i.createNewProduct()}),c(45,"span",26),d(46,"\u2795"),a(),c(47,"span"),d(48,"Nuevo art\xEDculo"),a()()(),c(49,"div",27)(50,"h2"),d(51,"Editar art\xEDculo existente"),a(),c(52,"p"),d(53,"Eleg\xED un art\xEDculo del listado y te llevamos directo al editor para actualizar sus datos."),a(),c(54,"div",28)(55,"label",29),d(56,"Seleccion\xE1 un art\xEDculo"),a(),c(57,"select",30),_("change",function(s){return i.onSelectProduct(s)}),c(58,"option",31),d(59,"-- Elegir art\xEDculo --"),a(),b(60,iT,2,3,"option",32),a()(),c(61,"div",33)(62,"button",34),_("click",function(){return i.editSelectedProduct()}),c(63,"span",26),d(64,"\u270F\uFE0F"),a(),c(65,"span"),d(66,"Modificar art\xEDculo"),a()(),c(67,"button",35),_("click",function(){return i.refreshProducts()}),d(68," Actualizar listado "),a()(),b(69,rT,2,0,"div",36)(70,sT,2,1,"div",37)(71,aT,2,0,"div",38),a(),c(72,"div",39)(73,"h2"),d(74,"Temporada visible en el cat\xE1logo"),a(),c(75,"p"),d(76,"Eleg\xED qu\xE9 temporada se muestra en la tienda p\xFAblica. Si eleg\xEDs \u201CTodos los art\xEDculos\u201D, se mostrar\xE1 el cat\xE1logo completo."),a(),c(77,"div",28)(78,"label",40),d(79,"Temporada activa"),a(),c(80,"select",41),_("ngModelChange",function(s){return i.onCambiarTemporadaActiva(s)}),c(81,"option",42),d(82,"Todos los art\xEDculos"),a(),b(83,cT,2,2,"option",43),a()(),b(84,lT,2,0,"div",38)(85,dT,2,1,"div",44)(86,uT,2,1,"div",37),a(),c(87,"div",45)(88,"div",46)(89,"div")(90,"h2"),d(91,"Temporadas"),a(),c(92,"p"),d(93,"Organiz\xE1 colecciones para aplicar filtros en el cat\xE1logo."),a()(),c(94,"button",47),_("click",function(){return i.iniciarCreacionTemporada()}),d(95," Nueva temporada "),a()(),c(96,"div",48)(97,"div",49),b(98,pT,2,0,"div",36)(99,fT,2,1,"div",37)(100,_T,3,2,"div",50),a(),c(101,"div",51)(102,"h3"),d(103),a(),c(104,"div",52)(105,"label",53),d(106,"Nombre"),a(),c(107,"input",54),F("ngModelChange",function(s){return V(i.temporadaForm.nombre,s)||(i.temporadaForm.nombre=s),s}),a()(),c(108,"div",52)(109,"label",55),d(110,"Art\xEDculos incluidos"),a(),c(111,"select",56),F("ngModelChange",function(s){return V(i.temporadaForm.productoIds,s)||(i.temporadaForm.productoIds=s),s}),b(112,vT,2,3,"option",32),a(),c(113,"small",57),d(114," Manten\xE9 presionada la tecla Ctrl (Windows) o Cmd (Mac) para seleccionar m\xFAltiples art\xEDculos. "),a()(),c(115,"button",58),_("click",function(){return i.guardarTemporada()}),b(116,xT,2,0,"span",50)(117,CT,2,0,"span",50),a()()()()()(),b(118,ET,11,3,"div",59),a()),o&2){let r;p(18),g("ngIf",i.cartItemCount>0),p(39),g("disabled",i.isProductSelectDisabled)("value",(r=i.selectedProductId)!==null&&r!==void 0?r:""),Te("size",i.selectVisibleRows),p(3),g("ngForOf",i.productos),p(2),g("disabled",!i.selectedProductId),p(5),g("disabled",i.loading),p(2),g("ngIf",i.loading),p(),g("ngIf",i.error),p(),g("ngIf",!i.loading&&!i.error&&i.productos.length===0),p(9),g("disabled",i.actualizandoTemporadaActiva||i.temporadasLoading)("ngModel",i.temporadaActivaId),p(),g("ngValue",null),p(2),g("ngForOf",i.temporadas),p(),g("ngIf",i.actualizandoTemporadaActiva),p(),g("ngIf",!i.actualizandoTemporadaActiva&&i.temporadaActivaMensaje),p(),g("ngIf",i.temporadaActivaError),p(12),g("ngIf",i.temporadasLoading),p(),g("ngIf",i.temporadasError),p(),g("ngIf",!i.temporadasLoading&&!i.temporadasError),p(3),P(i.temporadaForm.id?"Editar temporada":"Nueva temporada"),p(4),N("ngModel",i.temporadaForm.nombre),p(4),N("ngModel",i.temporadaForm.productoIds),Te("size",i.selectVisibleRows),p(),g("ngForOf",i.productos),p(3),g("disabled",i.guardandoTemporada),p(),g("ngIf",!i.guardandoTemporada),p(),g("ngIf",i.guardandoTemporada),p(),g("ngIf",i.showSearchModal)}},dependencies:[ge,ke,_e,ve,Lt,jt,we,Et,pc,Pe,be],styles:['@charset "UTF-8";.manage-products-page[_ngcontent-%COMP%]{min-height:100vh;background:#f5f5f5;padding-bottom:40px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.home-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:16px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:transform .3s}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;display:flex;align-items:center;justify-content:center}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;border:3px solid white;box-shadow:0 4px 12px #0006}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;cursor:pointer;transition:opacity .3s}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.home-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;overflow-x:hidden}.home-header[_ngcontent-%COMP%]{background:#000;color:#fff;padding:20px 25px;margin:10px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;position:relative;overflow:visible}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.logo[_ngcontent-%COMP%]{font-size:20px;font-weight:700;display:flex;align-items:center;gap:12px;cursor:pointer;transition:all .3s;position:relative;z-index:10}.logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.logo-symbol[_ngcontent-%COMP%]{width:72px;height:72px;background:#fff;display:flex;align-items:center;justify-content:center;position:relative;border-radius:50%;overflow:hidden;box-shadow:0 4px 12px #0000004d;border:3px solid white;margin-top:-10px;margin-bottom:-10px}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease;transform:rotate(0)}.logo-image[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(0)}.main-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;font-size:14px;text-transform:uppercase;transition:opacity .3s;cursor:pointer}.nav-item[_ngcontent-%COMP%]:hover{opacity:.7}.nav-item.sale[_ngcontent-%COMP%]{color:#f44;font-weight:600}.nav-item.info[_ngcontent-%COMP%]{font-style:italic;text-transform:lowercase;font-weight:400}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex-wrap:wrap}.icon-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:22.5px;cursor:pointer;padding:10px;border-radius:4px;transition:background-color .3s;position:relative}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;min-width:20px;border:2px solid black;box-shadow:0 2px 4px #0000004d}.logout-btn[_ngcontent-%COMP%]{background:none;border:1px solid white;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .3s}.logout-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#000}.history-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;padding:8px;border-radius:4px;transition:background-color .3s}.history-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.icon-btn.user-icon[_ngcontent-%COMP%]{background:transparent!important;border:none!important;cursor:pointer;padding:0!important;border-radius:6px;transition:all .3s;display:flex;align-items:center;justify-content:center;width:47.5px;height:47.5px}.user-icon[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.05)}.user-icon-img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;display:block}.user-icon-fallback[_ngcontent-%COMP%]{font-size:24px;display:inline-block;width:40px;height:40px;line-height:40px;text-align:center}.catalog-header[_ngcontent-%COMP%]{margin-bottom:30px;padding:20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}.filters[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.add-product-btn[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;padding:12px 20px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:14px;display:flex;align-items:center;gap:8px}.add-product-btn[_ngcontent-%COMP%]:hover{background:#218838;transform:translateY(-1px);box-shadow:0 4px 8px #28a7454d}.filter-btn[_ngcontent-%COMP%]{padding:12px 24px;border:2px solid #e1e5e9;background:#fff;border-radius:8px;cursor:pointer;font-weight:500;transition:all .3s}.filter-btn[_ngcontent-%COMP%]:hover{border-color:#667eea;background:#f8f9fa}.filter-btn.active[_ngcontent-%COMP%]{background:#667eea;color:#fff;border-color:#667eea}.carousel-container[_ngcontent-%COMP%]{position:relative;margin-bottom:40px;padding:10px 40px;display:flex;align-items:center;justify-content:center}.carousel-wrapper[_ngcontent-%COMP%]{overflow:hidden;border-radius:12px;position:relative;display:flex;padding:0 15px;width:100%}.carousel-wrapper.centered[_ngcontent-%COMP%]{justify-content:center}.carousel-track[_ngcontent-%COMP%]{display:flex;transition:transform .3s ease;width:100%;max-width:100%}.carousel-wrapper.centered[_ngcontent-%COMP%]   .carousel-track[_ngcontent-%COMP%]{width:100%;max-width:none}.carousel-item[_ngcontent-%COMP%]{padding:0 10px;cursor:pointer;min-width:0;flex-shrink:0}.product-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a;transition:all .3s;border:2px solid transparent;width:200px;max-width:200px;margin:0 auto;position:relative;z-index:1}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.product-card.oculto[_ngcontent-%COMP%], .carousel-item.producto-oculto[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{opacity:.5;background-color:#f5f5f5;border:2px solid #cccccc;position:relative}.product-card.oculto[_ngcontent-%COMP%]:before, .carousel-item.producto-oculto[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#8080801a,#80808033);border-radius:12px;pointer-events:none;z-index:1}.product-card.oculto[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .carousel-item.producto-oculto[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(70%);opacity:.7}.product-card.oculto[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%], .carousel-item.producto-oculto[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{position:relative;z-index:2}.badge-oculto[_ngcontent-%COMP%]{display:inline-block;background-color:#6c757d;color:#fff;font-size:10px;padding:2px 6px;border-radius:4px;margin-left:8px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.carousel-item.selected[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{border-color:#667eea;background:#f8f9ff;z-index:2}.product-image[_ngcontent-%COMP%]{width:100%;height:200px;margin-bottom:15px;border-radius:8px;overflow:hidden}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:8px}.placeholder-image[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:48px;font-weight:700;color:#fff}.product-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;color:#333}.product-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;color:#666;font-size:14px}.price-range[_ngcontent-%COMP%]{font-weight:600;color:#667eea;font-size:16px}.carousel-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:50px;height:50px;border:none;border-radius:50%;background:#f8f9fa;box-shadow:0 4px 12px #00000026;cursor:pointer;font-size:24px;font-weight:700;color:#2c3e50;transition:all .3s;z-index:10}.carousel-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2c3e50;color:#fff;transform:translateY(-50%) scale(1.1);box-shadow:0 6px 20px #2c3e5080}.carousel-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.carousel-btn.prev[_ngcontent-%COMP%]{left:10px}.carousel-btn.next[_ngcontent-%COMP%]{right:10px}.product-detail[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;margin:0 10px;box-shadow:0 4px 6px #0000001a}.detail-container[_ngcontent-%COMP%]{display:flex;gap:40px}.product-image-large[_ngcontent-%COMP%]{flex:0 0 300px;border-radius:12px;overflow:visible;display:flex;flex-direction:column;gap:15px}.product-image-large[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover;border-radius:12px}.product-image-large[_ngcontent-%COMP%]   .edit-product-btn[_ngcontent-%COMP%]{width:100%;margin-top:0}.placeholder-image-large[_ngcontent-%COMP%]{width:100%;height:300px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:72px;font-weight:700;color:#fff}.product-variants[_ngcontent-%COMP%]{flex:1}.product-variants[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-size:24px}.product-description[_ngcontent-%COMP%]{margin:0 0 30px;color:#666;font-size:16px}.variants-grid[_ngcontent-%COMP%]{margin-bottom:30px}.grid-header[_ngcontent-%COMP%]{display:flex;background:#f8f9fa;border-radius:8px 8px 0 0;font-weight:600;color:#333}.sku-col[_ngcontent-%COMP%]{flex:0 0 100px;padding:12px;text-align:center}.size-col[_ngcontent-%COMP%]{flex:1;padding:12px;text-align:center}.variant-row[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #e1e5e9}.color-cell[_ngcontent-%COMP%]{flex:0 0 100px;padding:12px;text-align:center;font-weight:500;background:#f8f9fa}.quantity-cell[_ngcontent-%COMP%]{flex:1;padding:8px;text-align:center}.quantity-input[_ngcontent-%COMP%]{width:60px;padding:6px;border:1px solid #e1e5e9;border-radius:4px;text-align:center}.quantity-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.product-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.price-display[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#667eea}.add-to-cart-btn[_ngcontent-%COMP%]{background:#e0e0e0;color:#333;border:none;padding:10px 20px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s;font-size:14px;width:100%;margin-top:10px}.add-to-cart-btn.selected-btn[_ngcontent-%COMP%]{background:#333;color:#fff}.add-to-cart-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#555;transform:translateY(-2px)}.add-to-cart-btn[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.edit-product-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;border:none;padding:10px 20px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s;font-size:14px;display:inline-flex;align-items:center;justify-content:center;width:220px;max-width:100%;box-shadow:0 2px 4px #007bff33}.edit-product-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #007bff66;background:linear-gradient(135deg,#0056b3,#004085)}.admin-note[_ngcontent-%COMP%]{display:block;color:#6c757d;font-size:12px;margin-top:8px;font-style:italic}@media (max-width: 1024px){.header-left[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%]{gap:10px}.nav-item[_ngcontent-%COMP%]{font-size:13px}.header-right[_ngcontent-%COMP%]{gap:8px}.icon-btn[_ngcontent-%COMP%]{font-size:16px;padding:6px}.logo-symbol[_ngcontent-%COMP%]{width:50px;height:50px}}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px #0000004d}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee;background:#f8f9fa}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s}.search-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #ddd;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}.search-input[_ngcontent-%COMP%]:focus{border-color:#007bff}.search-results[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.result-type[_ngcontent-%COMP%]{font-size:20px;margin-right:12px;width:30px;text-align:center}.result-content[_ngcontent-%COMP%]{flex:1}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.result-description[_ngcontent-%COMP%]{font-size:14px;color:#666;line-height:1.4}.no-results[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.search-highlight[_ngcontent-%COMP%]{background:#fff3cd!important;border:2px solid #ffc107!important;animation:_ngcontent-%COMP%_highlight-pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_highlight-pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}@media (max-width: 768px){.home-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px;padding:15px}.header-left[_ngcontent-%COMP%], .header-right[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}.main-nav[_ngcontent-%COMP%]{justify-content:center}.logo-symbol[_ngcontent-%COMP%]{width:45px;height:45px;margin-top:-5px;margin-bottom:-5px}.detail-container[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.carousel-item[_ngcontent-%COMP%]{flex:0 0 33.333%;padding:0 5px}.carousel-container[_ngcontent-%COMP%]{padding:0 5px}.carousel-btn[_ngcontent-%COMP%]{width:40px;height:40px;font-size:18px}.carousel-btn.prev[_ngcontent-%COMP%]{left:5px}.carousel-btn.next[_ngcontent-%COMP%]{right:5px}}@media (max-width: 480px){.home-header[_ngcontent-%COMP%]{margin:5px;padding:10px}.header-left[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:8px}.main-nav[_ngcontent-%COMP%]{gap:8px}.nav-item[_ngcontent-%COMP%]{font-size:12px;padding:4px 8px}.header-right[_ngcontent-%COMP%]{gap:5px}.icon-btn[_ngcontent-%COMP%]{font-size:14px;padding:4px}.logout-btn[_ngcontent-%COMP%]{font-size:11px;padding:6px 8px}.logo-symbol[_ngcontent-%COMP%]{width:40px;height:40px;margin-top:-3px;margin-bottom:-3px}.carousel-item[_ngcontent-%COMP%]{flex:0 0 50%;padding:0}.product-detail[_ngcontent-%COMP%]{margin:0 5px;padding:15px}.filters[_ngcontent-%COMP%]{flex-wrap:wrap;gap:5px}.filter-btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:14px}}.manage-products-container[_ngcontent-%COMP%]{padding:0 16px 40px;display:flex;flex-direction:column;gap:24px;max-width:960px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px}.back-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:8px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:22px;cursor:pointer;transition:all .3s ease}.back-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:translateY(-1px)}.page-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:26px;color:#333}.page-heading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0 0;color:#666;font-size:14px}.cards-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;max-width:720px;margin:0 auto;width:100%}.card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 8px 20px #00000014;display:flex;flex-direction:column;gap:16px}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;color:#222}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;line-height:1.5}.btn[_ngcontent-%COMP%]{border:none;border-radius:10px;padding:12px 20px;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-new-article[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.btn-new-article[_ngcontent-%COMP%]:hover{background:#43a047;transform:translateY(-1px)}.btn-edit-article[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.btn-edit-article[_ngcontent-%COMP%]:hover{background:#1565c0;transform:translateY(-1px)}.btn-outline[_ngcontent-%COMP%]{background:#fff;color:#333;border:1px solid #ddd}.btn-outline[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-color:#ccc}.selector-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.selector-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#444}.selector-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px 12px;border-radius:8px;border:1px solid #ccc;font-size:14px;transition:border-color .3s;min-height:44px;overflow-y:auto;background:#fff}.selector-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2}.selector-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{background:#f0f0f0;cursor:not-allowed}.actions-row[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.state-message[_ngcontent-%COMP%]{font-size:14px;color:#555}.state-message.error[_ngcontent-%COMP%]{color:#c62828}.state-message.info[_ngcontent-%COMP%]{color:#1976d2}.state-message.success[_ngcontent-%COMP%]{color:#388e3c}.seasons-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.seasons-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px}.temporadas-content[_ngcontent-%COMP%]{display:flex;gap:24px;flex-wrap:wrap}.season-list[_ngcontent-%COMP%]{flex:1;min-width:240px}.season-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:12px}.season-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:10px;padding:12px 14px;background:#fafafa;display:flex;flex-direction:column;gap:10px;transition:border-color .3s,background .3s}.season-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{border-color:#1976d2;background:#e3f2fd}.season-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.count-badge[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-radius:999px;padding:4px 10px;font-size:12px;font-weight:600}.season-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.link-btn[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;cursor:pointer;font-size:13px;padding:0;transition:color .3s}.link-btn[_ngcontent-%COMP%]:hover{color:#1257a6}.link-btn.delete[_ngcontent-%COMP%]{color:#d32f2f}.link-btn.delete[_ngcontent-%COMP%]:hover{color:#b71c1c}.empty-state[_ngcontent-%COMP%]{padding:16px;border-radius:10px;background:#f8f9fa;text-align:center;color:#666}.season-form[_ngcontent-%COMP%]{flex:1;min-width:280px;display:flex;flex-direction:column;gap:16px}.season-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.season-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .season-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:8px;border:1px solid #ccc;font-size:14px;transition:border-color .3s}.season-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .season-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2}.helper-text[_ngcontent-%COMP%]{font-size:12px;color:#777}.search-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.search-modal[_ngcontent-%COMP%]{background:#fff;border-radius:16px;width:100%;max-width:520px;box-shadow:0 12px 40px #00000040;display:flex;flex-direction:column;max-height:90vh;overflow:hidden}.search-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px;border-bottom:1px solid #eee}.search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#333}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;cursor:pointer;color:#666;line-height:1}.search-input-container[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 14px;border-radius:8px;border:1px solid #ccc;font-size:14px}.search-results[_ngcontent-%COMP%]{padding:16px 20px;display:flex;flex-direction:column;gap:12px;overflow-y:auto}.search-result-item[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;padding:12px;border-radius:10px;background:#f7f7f7;cursor:pointer;transition:background .3s}.search-result-item[_ngcontent-%COMP%]:hover{background:#ececec}.result-type[_ngcontent-%COMP%]{font-size:18px}.result-title[_ngcontent-%COMP%]{font-weight:600;color:#333}.result-description[_ngcontent-%COMP%]{font-size:13px;color:#666}.no-results[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#666}@media (max-width: 768px){.home-header[_ngcontent-%COMP%]{margin:12px;padding:16px}.manage-products-container[_ngcontent-%COMP%]{padding:16px 12px 32px}.cards-wrapper[_ngcontent-%COMP%]{gap:16px}.card[_ngcontent-%COMP%]{padding:20px}.temporadas-content[_ngcontent-%COMP%]{flex-direction:column}}']})}}return t})();var o_=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:B0},{path:"register",component:H0},{path:"select-client",component:G0},{path:"catalog",component:W0},{path:"cart",component:$0},{path:"info",component:q0},{path:"profile",component:Y0},{path:"orders-history",component:Z0},{path:"order-detail/:id",component:K0},{path:"devolucion",component:Q0},{path:"add-product",component:J0},{path:"edit-product/:id",component:X0},{path:"dashboards",component:e_},{path:"manage-products",component:n_}];Tm(m0,{providers:[g0(o_),bm(ym(),Mm())]}).catch(t=>console.error(t));
